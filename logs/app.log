2025-06-11 22:56:08,361 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-11 22:56:08,483 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:10,790 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:13,080 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:13,360 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-11 22:56:13,361 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-11 22:56:15,436 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:17,792 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:18,368 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-11 22:56:18,369 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-11 22:56:20,037 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:22,361 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:23,361 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-11 22:56:23,361 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-11 22:56:24,720 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:27,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:28,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-11 22:56:28,358 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-11 22:56:29,555 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:31,663 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:33,369 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-11 22:56:33,370 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-11 22:56:33,984 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-11 22:56:35,984 - INFO - app.main - Application shutdown event triggered.
2025-06-11 22:56:35,984 - INFO - app.main - APScheduler shut down gracefully.
2025-06-11 22:56:35,984 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-11 22:56:35,985 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-11 22:56:36,049 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-11 22:56:36,049 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-11 22:56:36,049 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-11 22:56:36,051 - INFO - app.main - Redis client connection closed.
2025-06-11 22:56:36,051 - INFO - app.main - Application shutdown event finished.
2025-06-12 01:58:26,434 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 01:58:26,451 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 01:58:26,456 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 01:58:26,456 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 01:58:26,991 - INFO - app.main - Application startup event triggered.
2025-06-12 01:58:27,031 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 01:58:27,031 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 01:58:27,052 - INFO - app.main - Redis client initialized successfully.
2025-06-12 01:58:27,065 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 01:58:27,111 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 01:58:27,114 - INFO - app.main - Database tables ensured/created.
2025-06-12 01:58:27,118 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 01:58:28,247 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 01:58:28,247 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMDUwNywiaWF0IjoxNzQ5NzE4NzA3fQ.9CMjUJdcguoWJvXY0RfmaaaU29y8BnIlXMRvX7ckOf4
2025-06-12 01:58:28,248 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 01:58:28,248 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 01:58:28,248 - INFO - app.main - Application startup event finished.
2025-06-12 01:58:28,248 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 01:58:28,249 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 01:58:28,863 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 01:58:28,885 - INFO - app.main - Redis ping response: True
2025-06-12 01:58:32,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:58:32,125 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:58:37,126 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:58:37,127 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:58:42,118 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:58:42,119 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:58:47,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:58:47,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:58:52,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:58:52,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:58:57,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:58:57,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:02,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:02,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:07,126 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:07,127 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:12,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:12,126 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:17,119 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:17,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:22,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:22,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:27,120 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:27,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:32,134 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:32,135 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:37,130 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:37,131 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:42,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:42,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:47,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:47,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:52,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:52,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 01:59:57,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 01:59:57,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:00,731 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:00:00,731 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMDYwMCwiaWF0IjoxNzQ5NzE4ODAwfQ.iqVIq7NG3oGuOd8hrC0JJ6cI8ti403EateHfyyC87UQ
2025-06-12 02:00:02,117 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:02,117 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:07,131 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:07,132 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:12,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:12,126 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:17,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:17,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:22,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:22,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:27,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:27,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:32,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:32,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:37,120 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:37,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:42,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:42,127 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:47,119 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:47,119 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:52,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:52,125 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:00:57,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:00:57,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:02,117 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:02,118 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:07,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:07,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:12,117 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:12,118 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:17,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:17,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:22,120 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:22,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:27,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:27,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:32,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:32,126 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:37,117 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:37,118 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:42,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:42,125 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:47,131 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:47,132 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:52,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:52,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:01:57,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:01:57,127 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:02,138 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:02,139 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:07,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:07,125 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:12,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:12,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:17,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:17,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:22,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:22,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:27,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:27,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:32,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:32,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:37,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:02:37,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:02:39,968 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:02:39,968 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:02:39,968 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:02:39,970 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:02:41,585 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:02:41,585 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:02:41,585 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:02:41,586 - INFO - app.main - Redis client connection closed.
2025-06-12 02:02:41,586 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:07:21,269 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:07:21,288 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:07:21,293 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:07:21,293 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:07:21,811 - INFO - app.main - Application startup event triggered.
2025-06-12 02:07:21,850 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:07:21,850 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:07:21,875 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:07:21,890 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:07:21,989 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:07:21,992 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:07:21,998 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:07:23,074 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:07:23,075 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMTA0MSwiaWF0IjoxNzQ5NzE5MjQxfQ.eBMK_NKpvU4NJlQEXA0eO5ECaGQfjrUxQTO2I70fxs4
2025-06-12 02:07:23,075 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:07:23,075 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:07:23,075 - INFO - app.main - Application startup event finished.
2025-06-12 02:07:23,076 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:07:23,077 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:07:23,805 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:07:23,823 - INFO - app.main - Redis ping response: True
2025-06-12 02:07:26,216 - ERROR - app.database.session - Database session error: Could not locate any relevant foreign key columns for primary join condition 'users.id = user_favorite_symbols.user_id AND user_favorite_symbols.user_type = :user_type_1' on relationship User.favorite_symbols.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or are annotated in the join condition with the foreign() annotation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 838, in login_demo_user
    demo_user = await crud_user.get_demo_user_by_email(db, email=credentials.email)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\crud\user.py", line 310, in get_demo_user_by_email
    result = await db.execute(select(DemoUser).filter(DemoUser.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<2 lines>...
        is_current_entities=True,
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 2628, in to_compile_state
    _MapperEntity(
    ~~~~~~~~~~~~~^
        compile_state,
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        is_current_entities,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 2708, in __init__
    entity._post_inspect
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
    ~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 589, in init
    self.do_init()
    ~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1658, in do_init
    self._setup_join_conditions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ~~~~~~~~~~~~~^
        parent_persist_selectable=self.parent.persist_selectable,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<14 lines>...
        can_be_synced_fn=self._columns_are_mapped,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2331, in __init__
    self._check_foreign_cols(self.primaryjoin, True)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2971, in _check_foreign_cols
    raise sa_exc.ArgumentError(err)
sqlalchemy.exc.ArgumentError: Could not locate any relevant foreign key columns for primary join condition 'users.id = user_favorite_symbols.user_id AND user_favorite_symbols.user_type = :user_type_1' on relationship User.favorite_symbols.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or are annotated in the join condition with the foreign() annotation.
2025-06-12 02:07:26,998 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:26,999 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:07:32,003 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:32,004 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:07:36,998 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:36,999 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:07:42,007 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:42,008 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:07:47,003 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:47,003 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:07:52,003 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:52,004 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:07:57,009 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:07:57,010 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:01,997 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:01,998 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:07,001 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:07,002 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:12,010 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:12,011 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:17,001 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:17,002 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:21,999 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:21,999 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:27,000 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:27,001 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:32,000 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:32,001 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:37,011 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:37,012 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:41,999 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:42,000 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:47,007 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:47,008 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:52,005 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:52,006 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:08:57,012 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:08:57,013 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:02,004 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:09:02,005 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:07,006 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:09:07,007 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:12,000 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:09:12,000 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:17,007 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:09:17,007 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:22,002 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:09:22,004 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:27,002 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:09:27,003 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:09:30,864 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:09:30,865 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:09:30,865 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:09:30,866 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:09:32,100 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:09:32,101 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:09:32,101 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:09:32,104 - INFO - app.main - Redis client connection closed.
2025-06-12 02:09:32,104 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:21:14,241 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:21:14,269 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:21:14,277 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:21:14,277 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:21:14,877 - INFO - app.main - Application startup event triggered.
2025-06-12 02:21:14,914 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:21:14,915 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:21:14,935 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:21:14,955 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:21:15,019 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:21:15,025 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:21:15,032 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:21:16,085 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:21:16,085 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMTg3NSwiaWF0IjoxNzQ5NzIwMDc1fQ.2Z5Uk5O2wuae5yPr0e4pzpV5GDqLjg4FV1BhV0UBtWg
2025-06-12 02:21:16,086 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:21:16,086 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:21:16,086 - INFO - app.main - Application startup event finished.
2025-06-12 02:21:16,087 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:21:16,088 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:21:16,819 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:21:16,833 - INFO - app.main - Redis ping response: True
2025-06-12 02:21:20,035 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:20,036 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:21,512 - ERROR - app.database.session - Database session error: 401: Invalid email or password for demo user
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 845, in login_demo_user
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid email or password for demo user
2025-06-12 02:21:25,029 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:25,029 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:30,029 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:30,030 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:35,034 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:35,035 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:40,036 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:40,037 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:45,029 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:45,030 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:50,042 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:50,043 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:21:55,035 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:21:55,036 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:00,035 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:00,035 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:05,041 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:05,042 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:10,040 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:10,041 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:15,040 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:15,041 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:20,043 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:20,044 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:25,040 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:25,041 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:30,043 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:22:30,043 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:22:33,247 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:22:33,247 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:22:33,247 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:22:33,250 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:22:34,837 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:22:34,837 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:22:34,837 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:22:34,838 - INFO - app.main - Redis client connection closed.
2025-06-12 02:22:34,838 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:23:54,663 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:23:54,686 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:23:54,692 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:23:54,693 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:23:55,371 - INFO - app.main - Application startup event triggered.
2025-06-12 02:23:55,410 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:23:55,410 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:23:55,441 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:23:55,492 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:23:55,563 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:23:55,566 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:23:55,571 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:23:56,751 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:23:56,751 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjAzNSwiaWF0IjoxNzQ5NzIwMjM1fQ.ELpsQuwnuO7AnLcsBrw5rgops3VzGU23CMRDdOS5Ea8
2025-06-12 02:23:56,751 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:23:56,752 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:23:56,752 - INFO - app.main - Application startup event finished.
2025-06-12 02:23:56,752 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:23:56,753 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:23:57,464 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:23:57,477 - INFO - app.main - Redis ping response: True
2025-06-12 02:24:00,576 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:24:00,577 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:24:05,575 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:24:05,576 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:24:08,934 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:24:08,935 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:24:08,935 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:24:08,936 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:24:09,144 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:24:09,144 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:24:09,145 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:24:09,147 - INFO - app.main - Redis client connection closed.
2025-06-12 02:24:09,147 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:24:10,540 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:24:10,556 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:24:10,562 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:24:10,562 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:24:21,888 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:24:21,907 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:24:21,913 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:24:21,913 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:24:42,781 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:24:42,830 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:24:42,843 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:24:42,843 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:24:44,817 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:24:44,836 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:24:44,841 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:24:44,842 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:25:24,090 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:25:24,108 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:25:24,113 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:25:24,113 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:25:53,811 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:25:53,828 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:25:53,833 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:25:53,833 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:10,946 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:10,974 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:10,983 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:10,983 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:29,996 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:30,030 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:30,038 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:30,038 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:34,509 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:34,540 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:34,547 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:34,547 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:51,848 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:51,877 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:51,878 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:51,885 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:51,885 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:51,899 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:51,905 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:51,906 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:54,063 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:54,077 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:26:54,080 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:54,085 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:54,085 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:26:54,094 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:26:54,100 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:26:54,100 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:27:21,296 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:27:21,301 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:27:21,315 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:27:21,318 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:27:21,320 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:27:21,320 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:27:21,324 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:27:21,324 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:27:58,784 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:27:58,805 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:27:58,805 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:27:58,811 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:27:58,811 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:27:58,824 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:27:58,830 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:27:58,830 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:28:13,526 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:28:13,539 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:28:13,546 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:28:13,552 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:28:13,552 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:28:13,561 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:28:13,569 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:28:13,569 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:28:14,067 - INFO - app.main - Application startup event triggered.
2025-06-12 02:28:14,070 - INFO - app.main - Application startup event triggered.
2025-06-12 02:28:14,103 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:28:14,103 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:28:14,104 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:28:14,104 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:28:14,121 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:28:14,163 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:28:14,175 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:28:14,196 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:28:14,226 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:28:14,229 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:28:14,235 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:28:14,252 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:28:14,255 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:28:14,262 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:28:15,405 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:28:15,405 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjI5NCwiaWF0IjoxNzQ5NzIwNDk0fQ.IBvKOLuSlw0I4EoBNi_NwB2TSulkoxBSvPZ_vfNSqQA
2025-06-12 02:28:15,406 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjI5NCwiaWF0IjoxNzQ5NzIwNDk0fQ.IBvKOLuSlw0I4EoBNi_NwB2TSulkoxBSvPZ_vfNSqQA
2025-06-12 02:28:15,406 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:28:15,406 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:28:15,406 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:28:15,406 - INFO - app.main - Application startup event finished.
2025-06-12 02:28:15,406 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:28:15,406 - INFO - app.main - Application startup event finished.
2025-06-12 02:28:15,406 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:28:15,406 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:28:15,406 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:28:15,406 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:28:16,124 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:28:16,125 - INFO - app.main - Redis ping response: True
2025-06-12 02:28:16,137 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:28:16,151 - INFO - app.main - Redis ping response: True
2025-06-12 02:28:19,239 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:19,240 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:19,268 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:19,270 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:24,245 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:24,247 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:24,271 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:24,272 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:29,245 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:29,246 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:29,259 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:29,260 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:34,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:34,238 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:34,263 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:34,266 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:38,338 - ERROR - app.database.session - Database session error: (pymysql.err.OperationalError) (1054, "Unknown column 'user_favorite_symbols.updated_at' in 'field list'")
[SQL: SELECT user_favorite_symbols.id, user_favorite_symbols.user_id, user_favorite_symbols.symbol_id, user_favorite_symbols.user_type, user_favorite_symbols.created_at, user_favorite_symbols.updated_at 
FROM user_favorite_symbols 
WHERE user_favorite_symbols.user_id = %s AND user_favorite_symbols.symbol_id = %s AND user_favorite_symbols.user_type = %s]
[parameters: (1, 23, 'demo')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 97, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 106, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1054, "Unknown column 'user_favorite_symbols.updated_at' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\favorites.py", line 55, in add_to_favorites
    user_favorite = await crud_favorites.add_favorite_symbol(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\app\crud\favorites.py", line 42, in add_favorite_symbol
    result = await db.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 97, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 106, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\cursors.py", line 239, in execute
    await self._query(query)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\cursors.py", line 457, in _query
    await conn.query(q)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 469, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 683, in _read_query_result
    await result.read()
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 1164, in read
    first_packet = await self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\aiomysql\connection.py", line 652, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1054, "Unknown column 'user_favorite_symbols.updated_at' in 'field list'")
[SQL: SELECT user_favorite_symbols.id, user_favorite_symbols.user_id, user_favorite_symbols.symbol_id, user_favorite_symbols.user_type, user_favorite_symbols.created_at, user_favorite_symbols.updated_at 
FROM user_favorite_symbols 
WHERE user_favorite_symbols.user_id = %s AND user_favorite_symbols.symbol_id = %s AND user_favorite_symbols.user_type = %s]
[parameters: (1, 23, 'demo')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-12 02:28:39,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:39,239 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:39,261 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:39,263 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:44,247 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:44,248 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:44,264 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:44,265 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:49,252 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:49,253 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:49,262 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:49,263 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:54,234 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:54,234 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:54,264 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:54,265 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:59,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:59,239 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:28:59,269 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:28:59,270 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:04,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:04,238 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:04,268 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:04,269 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:09,240 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:09,241 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:09,268 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:09,269 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:14,233 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:14,234 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:14,266 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:14,267 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:19,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:19,239 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:19,268 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:19,269 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:24,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:24,239 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:24,265 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:24,266 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:29,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:29,239 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:29,267 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:29,268 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:34,238 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:34,238 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:39,237 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:39,237 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:43,320 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:29:43,320 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:29:43,320 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:29:43,322 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:29:45,023 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:29:45,023 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:29:45,024 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:29:45,024 - INFO - app.main - Redis client connection closed.
2025-06-12 02:29:45,025 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:29:46,691 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:29:46,713 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:29:46,719 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:29:46,720 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:29:47,249 - INFO - app.main - Application startup event triggered.
2025-06-12 02:29:47,283 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:29:47,284 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:29:47,324 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:29:47,374 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:29:47,437 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:29:47,440 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:29:47,446 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:29:48,703 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:29:48,704 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjM4NywiaWF0IjoxNzQ5NzIwNTg3fQ.yjyoZyAqazTebfVdvkTGHkCwzmy0uykljDX-mT2iUyM
2025-06-12 02:29:48,704 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:29:48,704 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:29:48,704 - INFO - app.main - Application startup event finished.
2025-06-12 02:29:48,704 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:29:48,705 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:29:49,318 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:29:49,345 - INFO - app.main - Redis ping response: True
2025-06-12 02:29:52,446 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:52,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:29:57,449 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:29:57,450 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:00,367 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:30:00,367 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjQwMCwiaWF0IjoxNzQ5NzIwNjAwfQ.0FpSnf5y6iVsl0XcYZdQY0eS1J0YkOCvseIzPJmFqEo
2025-06-12 02:30:02,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:02,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:07,447 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:07,448 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:12,457 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:12,459 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:17,448 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:17,449 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:22,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:22,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:27,447 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:27,448 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:32,458 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:32,459 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:37,445 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:37,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:42,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:42,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:47,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:47,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:52,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:52,455 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:30:57,450 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:30:57,450 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:02,453 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:02,453 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:07,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:07,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:12,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:12,451 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:17,445 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:17,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:22,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:22,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:27,448 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:27,449 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:32,449 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:32,449 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:37,449 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:37,449 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:42,453 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:42,454 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:47,450 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:47,450 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:52,456 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:52,457 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:31:57,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:31:57,453 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:02,444 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:02,444 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:07,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:07,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:12,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:12,453 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:17,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:17,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:22,447 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:22,447 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:27,449 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:27,450 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:32,447 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:32,448 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:37,088 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:32:37,088 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:32:37,088 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:32:37,090 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:32:38,061 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:32:38,062 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:32:38,062 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:32:38,063 - INFO - app.main - Redis client connection closed.
2025-06-12 02:32:38,063 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:32:39,779 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:32:39,800 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:32:39,805 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:32:39,806 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:32:40,475 - INFO - app.main - Application startup event triggered.
2025-06-12 02:32:40,510 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:32:40,511 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:32:40,538 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:32:40,584 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:32:40,875 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:32:40,877 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:32:40,882 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:32:42,050 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:32:42,051 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjU2MCwiaWF0IjoxNzQ5NzIwNzYwfQ._o__xcpRoE7N5hk2g-yUu5Pfp54-y70av-1NRpOdVj0
2025-06-12 02:32:42,051 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:32:42,051 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:32:42,051 - INFO - app.main - Application startup event finished.
2025-06-12 02:32:42,051 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:32:42,052 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:32:42,769 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:32:42,771 - INFO - app.main - Redis ping response: True
2025-06-12 02:32:45,884 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:45,885 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:50,884 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:50,886 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:32:55,888 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:32:55,888 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:33:00,894 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:33:00,895 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:33:01,237 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:33:01,237 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:33:01,238 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:33:01,241 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:33:03,457 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:33:03,457 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:33:03,457 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:33:03,458 - INFO - app.main - Redis client connection closed.
2025-06-12 02:33:03,458 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:33:05,310 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:33:05,329 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:33:05,334 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:33:05,334 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:33:06,106 - INFO - app.main - Application startup event triggered.
2025-06-12 02:33:06,142 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:33:06,143 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:33:06,165 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:33:06,181 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:33:06,263 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:33:06,267 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:33:06,275 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:33:07,446 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:33:07,446 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjU4NiwiaWF0IjoxNzQ5NzIwNzg2fQ.c5pnoELrKRhfFsKnRkDCviYDVBYBrqa2F6mVmby5BgA
2025-06-12 02:33:07,446 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:33:07,446 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:33:07,446 - INFO - app.main - Application startup event finished.
2025-06-12 02:33:07,447 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:07,447 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:33:08,174 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:08,196 - INFO - app.main - Redis ping response: True
2025-06-12 02:33:08,200 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:33:10,288 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:33:10,288 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:33:10,289 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:33:10,289 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:33:10,289 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:33:10,293 - INFO - app.main - Redis client connection closed.
2025-06-12 02:33:10,293 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:33:13,723 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:33:13,744 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:33:13,750 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:33:13,750 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:33:14,521 - INFO - app.main - Application startup event triggered.
2025-06-12 02:33:14,554 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:33:14,554 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:33:14,589 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:33:14,611 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:33:14,677 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:33:14,679 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:33:14,685 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:33:15,740 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:33:15,741 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjU5NCwiaWF0IjoxNzQ5NzIwNzk0fQ.m03JzG-2biLaaxDW-bfWcAVvBKoar1rp-1vMHDCIenE
2025-06-12 02:33:15,741 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:33:15,741 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:33:15,741 - INFO - app.main - Application startup event finished.
2025-06-12 02:33:15,742 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:15,742 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:33:16,485 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:16,488 - INFO - app.main - Redis ping response: True
2025-06-12 02:33:16,490 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:33:16,490 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:33:16,491 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:33:16,491 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:33:17,075 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:33:17,075 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:33:17,076 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:33:17,076 - INFO - app.main - Redis client connection closed.
2025-06-12 02:33:17,076 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:33:18,938 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:33:18,965 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:33:18,970 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:33:18,970 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:33:19,519 - INFO - app.main - Application startup event triggered.
2025-06-12 02:33:19,563 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:33:19,563 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:33:19,588 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:33:19,602 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:33:19,659 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:33:19,660 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:33:19,664 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:33:20,759 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:33:20,759 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjU5OSwiaWF0IjoxNzQ5NzIwNzk5fQ.9nqx7pYPLmV1h55zVjesUCL1ifl4QXsnjBgaUSkBo5Y
2025-06-12 02:33:20,759 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:33:20,759 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:33:20,759 - INFO - app.main - Application startup event finished.
2025-06-12 02:33:20,760 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:20,760 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:33:21,495 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:21,499 - INFO - app.main - Redis ping response: True
2025-06-12 02:33:21,501 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:33:21,886 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:33:21,886 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:33:21,886 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:33:21,886 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:33:21,886 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:33:21,887 - INFO - app.main - Redis client connection closed.
2025-06-12 02:33:21,887 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:33:24,019 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:33:24,052 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:33:24,059 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:33:24,060 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:33:24,829 - INFO - app.main - Application startup event triggered.
2025-06-12 02:33:24,880 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:33:24,880 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:33:24,901 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:33:24,921 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:33:25,009 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:33:25,011 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:33:25,016 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:33:26,099 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:33:26,099 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjYwNSwiaWF0IjoxNzQ5NzIwODA1fQ.HM81ZfwVAT1vg1l2s4AegR0DROWHIAd3SMB543-Gi9s
2025-06-12 02:33:26,099 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:33:26,099 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:33:26,099 - INFO - app.main - Application startup event finished.
2025-06-12 02:33:26,100 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:26,100 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:33:26,717 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:26,730 - INFO - app.main - Redis ping response: True
2025-06-12 02:33:27,276 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:33:27,295 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:33:27,302 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:33:27,303 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:33:28,008 - INFO - app.main - Application startup event triggered.
2025-06-12 02:33:28,046 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:33:28,046 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:33:28,067 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:33:28,081 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:33:28,172 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:33:28,175 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:33:28,183 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:33:29,209 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:33:29,209 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjYwOCwiaWF0IjoxNzQ5NzIwODA4fQ.KTIu9NmYSsOkPsh5L7Vbo9tWqOtsD7xz4DC_5Q6n7iQ
2025-06-12 02:33:29,209 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:33:29,209 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:33:29,209 - INFO - app.main - Application startup event finished.
2025-06-12 02:33:29,210 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:29,210 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:33:29,819 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:33:29,820 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:33:29,820 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:33:29,821 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:33:29,874 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:29,892 - INFO - app.main - Redis ping response: True
2025-06-12 02:33:30,900 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:33:30,900 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:33:30,900 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:33:30,902 - INFO - app.main - Redis client connection closed.
2025-06-12 02:33:30,903 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:33:33,185 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:33:33,187 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:33:36,062 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:33:36,063 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:33:36,063 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:33:36,063 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:33:37,861 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:33:37,862 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:33:37,862 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:33:37,864 - INFO - app.main - Redis client connection closed.
2025-06-12 02:33:37,865 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:33:39,412 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:33:39,430 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:33:39,436 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:33:39,436 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:33:39,969 - INFO - app.main - Application startup event triggered.
2025-06-12 02:33:40,009 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:33:40,009 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:33:40,038 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:33:40,058 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:33:40,121 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:33:40,125 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:33:40,132 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:33:41,038 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:33:41,039 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjYyMCwiaWF0IjoxNzQ5NzIwODIwfQ.P96-d69eoTQqXX4cLbB9-TDyoU6FfBD-NSxbdIg-wLs
2025-06-12 02:33:41,039 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:33:41,040 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:33:41,040 - INFO - app.main - Application startup event finished.
2025-06-12 02:33:41,041 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:41,042 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:33:41,765 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:33:41,785 - INFO - app.main - Redis ping response: True
2025-06-12 02:33:45,133 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:33:45,134 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:33:50,139 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:33:50,140 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:33:55,131 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:33:55,131 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:00,130 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:00,131 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:05,135 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:05,136 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:10,133 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:10,134 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:15,135 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:15,137 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:20,135 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:20,136 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:25,142 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:25,143 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:29,617 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:34:29,618 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:34:29,618 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:34:29,619 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:34:30,816 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:34:30,816 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:34:30,817 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:34:30,819 - INFO - app.main - Redis client connection closed.
2025-06-12 02:34:30,820 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:34:32,437 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:34:32,457 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:34:32,462 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:34:32,462 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:34:33,040 - INFO - app.main - Application startup event triggered.
2025-06-12 02:34:33,075 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:34:33,075 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:34:33,103 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:34:33,144 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:34:33,223 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:34:33,225 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:34:33,234 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:34:34,379 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:34:34,380 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjY3MywiaWF0IjoxNzQ5NzIwODczfQ.ZG6ovkxS8h-zYOkoYRP54V74O1dfYvk6MFw06kOPfPU
2025-06-12 02:34:34,380 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:34:34,380 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:34:34,380 - INFO - app.main - Application startup event finished.
2025-06-12 02:34:34,381 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:34:34,381 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:34:35,041 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:34:35,064 - INFO - app.main - Redis ping response: True
2025-06-12 02:34:37,198 - ERROR - app.database.session - Database session error: 401: Invalid email, user type, or password
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 237, in login_with_user_type
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid email, user type, or password
2025-06-12 02:34:38,231 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:38,233 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:43,242 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:43,242 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:48,230 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:48,231 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:53,236 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:53,236 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:34:58,230 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:34:58,231 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:03,233 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:03,234 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:08,233 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:08,238 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:13,230 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:13,231 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:13,368 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:35:13,369 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:35:13,369 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:35:13,370 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:35:15,042 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:35:15,043 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:35:15,043 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:35:15,048 - INFO - app.main - Redis client connection closed.
2025-06-12 02:35:15,048 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:35:16,806 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:35:16,823 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:35:16,828 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:35:16,828 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:35:17,380 - INFO - app.main - Application startup event triggered.
2025-06-12 02:35:17,419 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:35:17,419 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:35:17,441 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:35:17,469 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:35:17,516 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:35:17,517 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:35:17,522 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:35:18,414 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:35:18,414 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjcxNywiaWF0IjoxNzQ5NzIwOTE3fQ.Sy1YiN0Irec31rQWDwP_V0nezibuECuw_NRJ6HJcJD8
2025-06-12 02:35:18,414 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:35:18,414 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:35:18,414 - INFO - app.main - Application startup event finished.
2025-06-12 02:35:18,415 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:18,415 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:35:19,043 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:19,051 - INFO - app.main - Redis ping response: True
2025-06-12 02:35:19,054 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:35:19,055 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:35:19,055 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:35:19,055 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:35:19,668 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:35:19,668 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:35:19,669 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:35:19,670 - INFO - app.main - Redis client connection closed.
2025-06-12 02:35:19,671 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:35:21,947 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:35:21,981 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:35:21,989 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:35:21,989 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:35:22,735 - INFO - app.main - Application startup event triggered.
2025-06-12 02:35:22,771 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:35:22,771 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:35:22,796 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:35:22,816 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:35:22,880 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:35:22,883 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:35:22,888 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:35:23,920 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:35:23,921 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjcyMiwiaWF0IjoxNzQ5NzIwOTIyfQ.cv5In8Z0swCRsHMy_3SuNtptSOwTeu1ySwtmMTy0Sj8
2025-06-12 02:35:23,921 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:35:23,921 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:35:23,921 - INFO - app.main - Application startup event finished.
2025-06-12 02:35:23,921 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:23,922 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:35:24,563 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:24,579 - INFO - app.main - Redis ping response: True
2025-06-12 02:35:27,889 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:27,889 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:30,389 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:35:30,389 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:35:30,389 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:35:30,390 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:35:31,120 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:35:31,120 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:35:31,120 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:35:31,122 - INFO - app.main - Redis client connection closed.
2025-06-12 02:35:31,122 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:35:32,566 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:35:32,584 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:35:32,590 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:35:32,590 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:35:33,088 - INFO - app.main - Application startup event triggered.
2025-06-12 02:35:33,123 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:35:33,123 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:35:33,150 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:35:33,197 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:35:33,258 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:35:33,263 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:35:33,270 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:35:34,271 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:35:34,271 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjczMywiaWF0IjoxNzQ5NzIwOTMzfQ.GC3ejqcEL5voefLi6sWVSiEUUhjoOYE0Y1poYXtoN9s
2025-06-12 02:35:34,271 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:35:34,272 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:35:34,272 - INFO - app.main - Application startup event finished.
2025-06-12 02:35:34,273 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:34,274 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:35:35,011 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:35,021 - INFO - app.main - Redis ping response: True
2025-06-12 02:35:38,267 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:38,269 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:43,267 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:43,268 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:48,272 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:35:48,273 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:35:51,168 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:35:51,169 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:35:51,169 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:35:51,170 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:35:51,698 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:35:51,699 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:35:51,699 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:35:51,703 - INFO - app.main - Redis client connection closed.
2025-06-12 02:35:51,703 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:35:54,475 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:35:54,496 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:35:54,502 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:35:54,502 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:35:55,104 - INFO - app.main - Application startup event triggered.
2025-06-12 02:35:55,143 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:35:55,144 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:35:55,169 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:35:55,189 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:35:55,257 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:35:55,261 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:35:55,269 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:35:56,505 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:35:56,505 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjc1NSwiaWF0IjoxNzQ5NzIwOTU1fQ.4RG7Av1VCrrA8ZV7AXy8kdRSTaKnTDrvB8RBJqsRZFU
2025-06-12 02:35:56,505 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:35:56,505 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:35:56,505 - INFO - app.main - Application startup event finished.
2025-06-12 02:35:56,506 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:56,506 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:35:57,227 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:35:57,248 - INFO - app.main - Redis ping response: True
2025-06-12 02:35:57,250 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:35:57,250 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:35:57,250 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:35:57,250 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:35:58,531 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:35:58,531 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:35:58,532 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:35:58,533 - INFO - app.main - Redis client connection closed.
2025-06-12 02:35:58,533 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:36:00,620 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:36:00,651 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:36:00,658 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:36:00,658 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:36:01,476 - INFO - app.main - Application startup event triggered.
2025-06-12 02:36:01,512 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:36:01,512 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:36:01,544 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:36:01,569 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:36:01,650 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:36:01,652 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:36:01,655 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:36:02,650 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:36:02,650 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjc2MSwiaWF0IjoxNzQ5NzIwOTYxfQ.L2dMzOiWQdIvxBrXlSskxqYCXKUBvkJr4UIi4wIT5mI
2025-06-12 02:36:02,650 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:36:02,650 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:36:02,650 - INFO - app.main - Application startup event finished.
2025-06-12 02:36:02,651 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:36:02,651 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:36:03,469 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:36:03,470 - INFO - app.main - Redis ping response: True
2025-06-12 02:36:05,573 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:36:05,574 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:36:05,574 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:36:05,575 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:36:07,681 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:36:07,681 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:36:07,681 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:36:07,683 - INFO - app.main - Redis client connection closed.
2025-06-12 02:36:07,683 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:36:11,114 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:36:11,141 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:36:11,150 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:36:11,150 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:36:11,775 - INFO - app.main - Application startup event triggered.
2025-06-12 02:36:11,810 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:36:11,811 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:36:11,839 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:36:11,860 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:36:11,936 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:36:11,942 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:36:11,951 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:36:12,992 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:36:12,993 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjc3MSwiaWF0IjoxNzQ5NzIwOTcxfQ.oPnddURhxuBGiF01PeJEUHV5b4D5f47TKsMFn2GKpHQ
2025-06-12 02:36:12,993 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:36:12,993 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:36:12,993 - INFO - app.main - Application startup event finished.
2025-06-12 02:36:12,994 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:36:12,994 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:36:13,627 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:36:13,644 - INFO - app.main - Redis ping response: True
2025-06-12 02:36:16,955 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:36:16,956 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:36:21,958 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:36:21,958 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:36:26,956 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:36:26,957 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:36:31,952 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:36:31,953 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:36:36,950 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:36:36,951 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:36:37,753 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:36:37,753 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:36:37,753 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:36:37,754 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:36:39,925 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:36:39,925 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:36:39,926 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:36:39,927 - INFO - app.main - Redis client connection closed.
2025-06-12 02:36:39,927 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:36:41,855 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:36:41,878 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:36:41,885 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:36:41,885 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:36:51,245 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:36:51,264 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:36:51,269 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:36:51,269 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:36:51,875 - INFO - app.main - Application startup event triggered.
2025-06-12 02:36:51,917 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:36:51,917 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:36:51,943 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:36:51,993 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:36:52,050 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:36:52,054 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:36:52,060 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:36:53,342 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:36:53,342 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjgxMiwiaWF0IjoxNzQ5NzIxMDEyfQ.vQg0uib20gft2lqrA1TAve36dpdcTSfY5eCq9B2U7IA
2025-06-12 02:36:53,342 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:36:53,342 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:36:53,342 - INFO - app.main - Application startup event finished.
2025-06-12 02:36:53,343 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:36:53,344 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:36:54,034 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:36:54,048 - INFO - app.main - Redis ping response: True
2025-06-12 02:36:57,074 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:36:57,075 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:02,061 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:02,061 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:07,071 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:07,072 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:09,817 - ERROR - app.database.session - Database session error: 2 validation errors:
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'created_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'updated_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'created_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'updated_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}

2025-06-12 02:37:12,066 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:12,067 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:17,068 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:17,069 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:22,074 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:22,075 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:27,069 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:27,070 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:32,061 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:32,062 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:37,058 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:37,059 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:42,074 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:42,075 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:47,073 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:47,074 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:52,064 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:52,065 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:37:57,066 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:37:57,067 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:38:02,071 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:38:02,072 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:38:07,060 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:38:07,061 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:38:08,886 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:38:08,886 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:38:08,886 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:38:08,889 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:38:09,116 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:38:09,116 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:38:09,117 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:38:09,118 - INFO - app.main - Redis client connection closed.
2025-06-12 02:38:09,119 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:38:13,001 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:38:13,019 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:38:13,025 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:38:13,025 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:38:13,586 - INFO - app.main - Application startup event triggered.
2025-06-12 02:38:13,622 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:38:13,622 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:38:13,643 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:38:13,691 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:38:13,755 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:38:13,758 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:38:13,763 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:38:14,947 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:38:14,947 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMjg5MywiaWF0IjoxNzQ5NzIxMDkzfQ.CRs0kgKcpFnDArC5I8WIzJGCQPNDZZb_u1AgIhJghks
2025-06-12 02:38:14,947 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:38:14,947 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:38:14,947 - INFO - app.main - Application startup event finished.
2025-06-12 02:38:14,948 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:38:14,948 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:38:15,563 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:38:15,564 - INFO - app.main - Redis ping response: True
2025-06-12 02:38:18,765 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:38:18,767 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:38:19,939 - ERROR - app.database.session - Database session error: 2 validation errors:
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'created_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'updated_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 176, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'created_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}
  {'type': 'datetime_from_date_parsing', 'loc': ('response', 'favorites', 0, 'updated_at'), 'msg': 'Input should be a valid datetime or date, month value is outside expected range of 1-12', 'input': '0000-00-00 00:00:00', 'ctx': {'error': 'month value is outside expected range of 1-12'}}

2025-06-12 02:38:22,296 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:38:22,297 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:38:22,297 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:38:22,307 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:38:22,837 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:38:22,837 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:38:22,838 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:38:22,839 - INFO - app.main - Redis client connection closed.
2025-06-12 02:38:22,839 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:40:51,529 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:40:51,547 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:40:51,553 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:40:51,553 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:40:52,148 - INFO - app.main - Application startup event triggered.
2025-06-12 02:40:52,194 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:40:52,194 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:40:52,224 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:40:52,245 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:40:52,294 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:40:52,296 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:40:52,299 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:40:53,362 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:40:53,362 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMzA1MiwiaWF0IjoxNzQ5NzIxMjUyfQ.s1ekZuA1tO1N_F-fKWALTz8qQfvij9pjb95ivXaYNeg
2025-06-12 02:40:53,362 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:40:53,362 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:40:53,362 - INFO - app.main - Application startup event finished.
2025-06-12 02:40:53,362 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:40:53,362 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:40:54,090 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:40:54,105 - INFO - app.main - Redis ping response: True
2025-06-12 02:40:54,107 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:40:54,487 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:40:54,487 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:40:54,488 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:40:54,488 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:40:54,488 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:40:54,489 - INFO - app.main - Redis client connection closed.
2025-06-12 02:40:54,489 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:40:56,158 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:40:56,175 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:40:56,181 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:40:56,181 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:40:56,748 - INFO - app.main - Application startup event triggered.
2025-06-12 02:40:56,797 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:40:56,797 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:40:56,817 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:40:56,849 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:40:56,933 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:40:56,937 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:40:56,946 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:40:57,944 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:40:57,944 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMzA1NiwiaWF0IjoxNzQ5NzIxMjU2fQ.mltEWzfwHBASSkxmZufQVLjtkIafkpo7Q4EMLvgNA4E
2025-06-12 02:40:57,944 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:40:57,944 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:40:57,944 - INFO - app.main - Application startup event finished.
2025-06-12 02:40:57,945 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:40:57,945 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:40:58,599 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:40:58,615 - INFO - app.main - Redis ping response: True
2025-06-12 02:41:01,948 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:01,949 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:06,949 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:06,950 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:11,957 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:11,959 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:16,947 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:16,948 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:21,952 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:21,953 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:26,945 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:26,946 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:31,942 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:31,943 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:36,953 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:36,954 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:41,944 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:41,945 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:46,954 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:46,955 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:51,944 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:51,945 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:41:56,954 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:41:56,955 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:01,949 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:01,950 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:06,952 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:06,953 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:11,955 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:11,956 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:16,951 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:16,952 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:21,964 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:21,965 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:26,952 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:26,952 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:31,951 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:31,952 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:36,947 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:36,948 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:41,949 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:41,949 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:46,949 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:42:46,950 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:42:50,930 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:42:50,931 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:42:50,931 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:42:50,933 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:42:52,379 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:42:52,379 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:42:52,379 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:42:52,380 - INFO - app.main - Redis client connection closed.
2025-06-12 02:42:52,380 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:47:05,677 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:47:05,695 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:47:05,700 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:47:05,700 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:47:06,276 - INFO - app.main - Application startup event triggered.
2025-06-12 02:47:06,312 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:47:06,312 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:47:06,335 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:47:06,349 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:47:06,409 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:47:06,411 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:47:06,417 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:47:07,522 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:47:07,522 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMzQyNiwiaWF0IjoxNzQ5NzIxNjI2fQ.I86uZGBOsf9hur9DJVjJjjf9VCeQWzUaV4tcxT3kclg
2025-06-12 02:47:07,522 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:47:07,522 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:47:07,522 - INFO - app.main - Application startup event finished.
2025-06-12 02:47:07,523 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:47:07,523 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:47:08,140 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:47:08,159 - INFO - app.main - Redis ping response: True
2025-06-12 02:47:11,430 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:11,431 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:16,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:16,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:21,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:21,423 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:26,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:26,423 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:31,424 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:31,424 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:36,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:36,423 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:41,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:41,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:46,430 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:46,431 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:51,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:51,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:47:56,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:47:56,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:01,424 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:01,424 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:06,429 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:06,430 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:11,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:11,423 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:16,416 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:16,417 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:21,430 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:21,430 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:26,418 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:26,419 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:31,421 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:31,422 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:36,419 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:36,419 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:41,430 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:41,431 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:46,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:46,423 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:51,424 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:51,425 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:48:56,421 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:48:56,422 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:01,426 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:01,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:06,416 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:06,417 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:11,429 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:11,429 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:16,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:16,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:21,418 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:21,419 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:26,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:26,422 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:31,418 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:31,420 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:36,416 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:36,416 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:41,421 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:41,422 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:46,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:49:46,427 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:49:48,629 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:49:48,629 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:49:48,629 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:49:48,632 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:49:50,447 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:49:50,448 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:49:50,448 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:49:50,450 - INFO - app.main - Redis client connection closed.
2025-06-12 02:49:50,450 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:51:54,703 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:51:54,741 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:51:54,754 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:51:54,755 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:51:55,715 - INFO - app.main - Application startup event triggered.
2025-06-12 02:51:55,804 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:51:55,804 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:51:55,844 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:51:55,919 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:51:56,061 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:51:56,066 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:51:56,079 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:51:57,213 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:51:57,214 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyMzcxNiwiaWF0IjoxNzQ5NzIxOTE2fQ.7Aqz9VJlLdWefRh8XMYZUxsLMJWX3eNH6TV2Y-GwmGU
2025-06-12 02:51:57,214 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:51:57,214 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:51:57,214 - INFO - app.main - Application startup event finished.
2025-06-12 02:51:57,215 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:51:57,216 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:51:58,008 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:51:58,010 - INFO - app.main - Redis ping response: True
2025-06-12 02:52:01,083 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:01,084 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:06,084 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:06,084 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:11,074 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:11,075 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:16,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:16,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:21,072 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:21,073 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:26,083 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:26,084 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:31,076 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:31,076 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:36,081 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:36,082 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:41,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:41,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:46,094 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:46,095 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:51,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:51,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:52:56,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:52:56,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:53:01,074 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:53:01,075 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:53:06,080 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:53:06,080 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:53:11,073 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:53:11,074 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:53:15,336 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:53:15,336 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:53:15,336 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:53:15,340 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:53:16,363 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:53:16,364 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:53:16,364 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:53:16,365 - INFO - app.main - Redis client connection closed.
2025-06-12 02:53:16,365 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:57:26,414 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:57:26,448 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:57:26,459 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:57:26,459 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:57:27,375 - INFO - app.main - Application startup event triggered.
2025-06-12 02:57:27,480 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:57:27,480 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:57:27,517 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:57:27,536 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:57:27,604 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:57:27,606 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:57:27,610 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:57:28,878 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:57:28,878 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyNDA0NywiaWF0IjoxNzQ5NzIyMjQ3fQ.hD4vh_Y7rONl4B6OhBy9EbiybI80L6DhR1OT9WbKRxk
2025-06-12 02:57:28,879 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:57:28,879 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:57:28,879 - INFO - app.main - Application startup event finished.
2025-06-12 02:57:28,879 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:57:28,880 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:57:29,524 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:57:29,547 - INFO - app.main - Redis ping response: True
2025-06-12 02:57:32,612 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:57:32,612 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:57:33,072 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 3 symbols for user 1
2025-06-12 02:57:33,072 - INFO - app.api.v1.endpoints.favorites - Symbols: ['AUDCAD', 'AUDCHF', 'EURUSD']
2025-06-12 02:57:37,611 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:57:37,612 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:57:42,615 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:57:42,617 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:57:47,615 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:57:47,616 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:57:52,617 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:57:52,618 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:57:57,613 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:57:57,614 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:58:02,609 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:58:02,610 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:58:07,618 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:58:07,619 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:58:12,612 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 02:58:12,613 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 02:58:14,440 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:58:14,440 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:58:14,440 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:58:14,443 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:58:16,190 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:58:16,190 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:58:16,191 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 02:58:16,196 - INFO - app.main - Redis client connection closed.
2025-06-12 02:58:16,197 - INFO - app.main - Application shutdown event finished.
2025-06-12 02:58:18,845 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 02:58:18,889 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 02:58:18,901 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 02:58:18,901 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 02:58:19,839 - INFO - app.main - Application startup event triggered.
2025-06-12 02:58:19,897 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 02:58:19,897 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 02:58:19,925 - INFO - app.main - Redis client initialized successfully.
2025-06-12 02:58:19,989 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 02:58:20,105 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 02:58:20,108 - INFO - app.main - Database tables ensured/created.
2025-06-12 02:58:20,114 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 02:58:21,100 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 02:58:21,101 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyNDEwMCwiaWF0IjoxNzQ5NzIyMzAwfQ._dgGJmAqNzJLDW1QaV-TyRnLHbtrxsEMFinP4FsGaYM
2025-06-12 02:58:21,101 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 02:58:21,101 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 02:58:21,101 - INFO - app.main - Application startup event finished.
2025-06-12 02:58:21,102 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:58:21,102 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 02:58:21,937 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 02:58:21,953 - INFO - app.main - Redis ping response: True
2025-06-12 02:58:21,956 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 02:58:23,057 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 02:58:23,066 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 02:58:23,067 - INFO - app.main - Application shutdown event triggered.
2025-06-12 02:58:23,067 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 02:58:23,068 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 02:58:23,071 - INFO - app.main - Redis client connection closed.
2025-06-12 02:58:23,071 - INFO - app.main - Application shutdown event finished.
2025-06-12 03:00:05,160 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 03:00:05,186 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 03:00:05,194 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 03:00:05,194 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 03:00:06,049 - INFO - app.main - Application startup event triggered.
2025-06-12 03:00:06,119 - INFO - app.main - Firebase Admin SDK already initialized.
2025-06-12 03:00:06,119 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 03:00:06,147 - INFO - app.main - Redis client initialized successfully.
2025-06-12 03:00:06,179 - INFO - app.database.session - Running Base.metadata.create_all...
2025-06-12 03:00:06,278 - INFO - app.database.session - Base.metadata.create_all finished.
2025-06-12 03:00:06,282 - INFO - app.main - Database tables ensured/created.
2025-06-12 03:00:06,292 - INFO - app.main - APScheduler started with jobs for daily swap, JWT rotation, and dynamic portfolio updates.
2025-06-12 03:00:07,491 - INFO - app.main - Service account JWT pushed to Firebase.
2025-06-12 03:00:07,491 - INFO - app.main - Generated service account JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTcyNDIwNiwiaWF0IjoxNzQ5NzIyNDA2fQ.A7-KuYR76xIfbPNrSpulC12nx382JWx4Fx268I9Fedk
2025-06-12 03:00:07,491 - INFO - app.main - Firebase stream processing task scheduled.
2025-06-12 03:00:07,491 - INFO - app.main - Redis publisher task scheduled.
2025-06-12 03:00:07,491 - INFO - app.main - Application startup event finished.
2025-06-12 03:00:07,492 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 03:00:07,493 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 03:00:08,211 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 03:00:08,244 - INFO - app.main - Redis ping response: True
2025-06-12 03:00:11,290 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:11,291 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:16,288 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:16,289 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:21,301 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:21,301 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:26,294 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:26,295 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:31,299 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:31,301 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:36,288 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:36,290 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:41,290 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:41,291 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:46,268 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 3 symbols for user 1
2025-06-12 03:00:46,270 - INFO - app.api.v1.endpoints.favorites - Symbols: ['AUDCAD', 'AUDCHF', 'EURUSD']
2025-06-12 03:00:46,339 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:46,382 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:51,298 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:51,299 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:00:56,295 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:00:56,296 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:01:01,289 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 03:01:01,290 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 160, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 03:01:03,425 - INFO - app.main - Application shutdown event triggered.
2025-06-12 03:01:03,426 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 03:01:03,426 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 03:01:03,429 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 03:01:04,736 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 03:01:04,736 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 03:01:04,737 - INFO - app.main - Background task 'firebase_listener' cancelled successfully.
2025-06-12 03:01:04,740 - INFO - app.main - Redis client connection closed.
2025-06-12 03:01:04,740 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:32:42,757 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:32:42,792 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:32:42,800 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:32:42,800 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:33:05,503 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:33:05,555 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:33:05,570 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:33:05,570 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:33:06,287 - INFO - app.main - Application startup event triggered.
2025-06-12 04:33:06,288 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:33:06,292 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:33:08,372 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:33:08,387 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:34:06,969 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:34:07,001 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:34:07,006 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:34:07,006 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:34:07,631 - INFO - app.main - Application startup event triggered.
2025-06-12 04:34:07,631 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:34:07,637 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:34:09,671 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:34:09,679 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:34:09,679 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:34:09,682 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:34:09,683 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:34:10,789 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:34:10,790 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:34:10,792 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:34:10,792 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:35:33,671 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:35:33,702 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:35:33,709 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:35:33,709 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:35:34,415 - INFO - app.main - Application startup event triggered.
2025-06-12 04:35:34,416 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:35:34,420 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:35:36,494 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:35:36,503 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:35:36,503 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:35:36,505 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:35:36,506 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:35:37,613 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:35:37,630 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:35:37,638 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:35:37,639 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:36:01,677 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:36:01,724 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:36:01,732 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:36:01,732 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:36:02,778 - INFO - app.main - Application startup event triggered.
2025-06-12 04:36:02,778 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:36:02,784 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:36:04,863 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:36:04,880 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:36:04,880 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:36:04,884 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:04,884 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:36:06,806 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:06,810 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:36:07,313 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:36:07,314 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:36:26,386 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:36:26,393 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:36:26,401 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:36:26,406 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:36:26,406 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:36:26,409 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:36:26,415 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:36:26,415 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:36:26,927 - INFO - app.main - Application startup event triggered.
2025-06-12 04:36:26,927 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:36:26,932 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:36:26,941 - INFO - app.main - Application startup event triggered.
2025-06-12 04:36:26,941 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:36:26,947 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:36:28,993 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:36:29,004 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:36:29,004 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:36:29,004 - INFO - app.main - Redis publisher background task started
2025-06-12 04:36:29,007 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:29,008 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:36:29,014 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:36:29,023 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:36:29,023 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:36:29,023 - INFO - app.main - Redis publisher background task started
2025-06-12 04:36:29,025 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:29,026 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:36:29,946 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:29,946 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:29,956 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:36:29,956 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:36:30,353 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:36:30,353 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:36:30,353 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:36:30,353 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:36:41,419 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:36:41,431 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:36:41,437 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:36:41,442 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:36:41,442 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:36:41,449 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:36:41,455 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:36:41,455 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:36:42,150 - INFO - app.main - Application startup event triggered.
2025-06-12 04:36:42,150 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:36:42,154 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:36:42,165 - INFO - app.main - Application startup event triggered.
2025-06-12 04:36:42,165 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:36:42,170 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:36:44,188 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:36:44,195 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:36:44,195 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:36:44,195 - INFO - app.main - Redis publisher background task started
2025-06-12 04:36:44,197 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:44,198 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:36:44,204 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:36:44,211 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:36:44,211 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:36:44,211 - INFO - app.main - Redis publisher background task started
2025-06-12 04:36:44,215 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:44,216 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:36:45,000 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:45,012 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:36:45,039 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:36:45,042 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:36:45,441 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:36:45,441 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:36:46,393 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:36:46,393 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:37:38,546 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:37:38,562 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:37:38,562 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:37:38,568 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:37:38,568 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:37:38,578 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:37:38,584 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:37:38,584 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:37:39,086 - INFO - app.main - Application startup event triggered.
2025-06-12 04:37:39,086 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:37:39,090 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:37:39,109 - INFO - app.main - Application startup event triggered.
2025-06-12 04:37:39,109 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 378, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:37:39,113 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:37:41,143 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:37:41,156 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:37:41,156 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:37:41,157 - INFO - app.main - Redis publisher background task started
2025-06-12 04:37:41,163 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:37:41,165 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:37:41,197 - CRITICAL - app.main - Redis ping failed post-init: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 04:37:41,209 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:37:41,209 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:37:41,209 - INFO - app.main - Redis publisher background task started
2025-06-12 04:37:41,212 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:37:41,213 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:37:42,132 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:37:42,132 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:37:42,149 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:37:42,150 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:37:42,153 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:37:42,153 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:37:44,107 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:37:44,107 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:38:16,721 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:38:16,754 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:38:16,759 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:38:16,767 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:38:16,768 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:38:16,788 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:38:16,796 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:38:16,796 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:38:17,343 - INFO - app.main - Application startup event triggered.
2025-06-12 04:38:17,343 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:38:17,347 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:38:17,353 - INFO - app.main - Application startup event triggered.
2025-06-12 04:38:17,353 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:38:17,357 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:38:19,399 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:38:19,399 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:38:19,406 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:38:19,406 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:38:19,406 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:38:19,406 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:38:19,406 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:38:19,406 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:38:19,406 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:38:19,407 - INFO - app.main - Application startup event finished.
2025-06-12 04:38:19,407 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:38:19,407 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:38:19,407 - INFO - app.main - Application startup event finished.
2025-06-12 04:38:19,407 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:38:19,407 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:38:19,408 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:38:20,196 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:38:47,889 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:38:47,890 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:38:47,890 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:38:47,890 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:38:47,994 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:38:47,994 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:38:47,994 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:38:47,996 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:38:48,764 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:38:48,764 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:38:48,765 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:38:48,765 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:38:48,765 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:38:48,765 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:38:48,765 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:38:48,766 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:38:48,766 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:38:48,766 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:38:52,779 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:38:52,805 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:38:52,846 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:38:52,859 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:38:52,859 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:38:52,864 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:38:52,876 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:38:52,877 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:38:54,511 - INFO - app.main - Application startup event triggered.
2025-06-12 04:38:54,511 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
IREBASE_CREDENTIALS_FILE'
2025-06-12 04:38:54,519 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:38:54,519 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:38:56,713 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:38:56,722 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:38:56,747 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:38:56,747 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:38:56,747 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:38:56,748 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:38:56,748 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:38:56,749 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:38:56,756 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:38:56,756 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:38:56,757 - INFO - app.main - Application startup event finished.
2025-06-12 04:38:56,757 - INFO - app.main - Application startup event finished.
2025-06-12 04:38:56,760 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:38:56,761 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:38:57,701 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:38:57,727 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:39:26,046 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:39:26,046 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:39:26,046 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:39:26,047 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:39:26,087 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:39:26,088 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:39:26,088 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:39:26,089 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:39:28,046 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:39:28,046 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:39:28,046 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:39:28,046 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:39:28,046 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:39:28,046 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:39:28,046 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:39:28,046 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:39:28,046 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:39:28,046 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:39:30,094 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:39:30,123 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:39:30,132 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:39:30,138 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:39:30,138 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:39:30,153 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:39:30,160 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:39:30,160 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:39:30,916 - INFO - app.main - Application startup event triggered.
2025-06-12 04:39:30,917 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:39:30,922 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:39:30,929 - INFO - app.main - Application startup event triggered.
2025-06-12 04:39:30,929 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:39:30,934 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:39:33,018 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:39:33,019 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:39:33,024 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:39:33,024 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:39:33,024 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:39:33,025 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:39:33,025 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:39:33,025 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:39:33,025 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:39:33,026 - INFO - app.main - Application startup event finished.
2025-06-12 04:39:33,025 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:39:33,026 - INFO - app.main - Application startup event finished.
2025-06-12 04:39:33,026 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:39:33,026 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:39:33,026 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:39:33,026 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:39:34,180 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:39:34,181 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:39:51,997 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:39:51,997 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:39:51,998 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:39:51,999 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:39:53,510 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:39:53,510 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:39:53,511 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:39:53,511 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:39:53,511 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:39:57,671 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:39:57,687 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:39:57,692 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:39:57,692 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:39:58,173 - INFO - app.main - Application startup event triggered.
2025-06-12 04:39:58,173 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:39:58,177 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:40:00,218 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:40:00,226 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:40:00,226 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:40:00,226 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:40:00,226 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:40:00,227 - INFO - app.main - Application startup event finished.
2025-06-12 04:40:00,227 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:00,228 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:40:01,092 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:33,032 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:40:33,032 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 04:40:33,796 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:40:33,796 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:40:33,796 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:40:33,797 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:40:33,906 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:40:33,907 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:40:33,907 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:40:33,908 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:40:34,940 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:40:34,941 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:40:34,941 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:40:34,942 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:40:34,942 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:40:34,944 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:40:34,944 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:40:34,944 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:40:34,945 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:40:34,945 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:40:36,828 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:40:36,830 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:40:36,850 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:40:36,850 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:40:36,855 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:40:36,855 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:40:36,856 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:40:37,346 - INFO - app.main - Application startup event triggered.
2025-06-12 04:40:37,348 - INFO - app.main - Application startup event triggered.
2025-06-12 04:40:37,346 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:40:37,349 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:40:37,348 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:40:37,351 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:40:39,428 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:40:39,430 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:40:39,442 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:40:39,443 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:40:39,443 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:40:39,443 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:40:39,443 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:40:39,443 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:40:39,444 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:40:39,445 - INFO - app.main - Application startup event finished.
2025-06-12 04:40:39,445 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:40:39,445 - INFO - app.main - Application startup event finished.
2025-06-12 04:40:39,445 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:39,445 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:39,446 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:40:39,446 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:40:40,408 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:40,415 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:50,743 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:40:50,743 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:40:50,743 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:40:50,743 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:40:50,744 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:40:50,745 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:40:50,746 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:40:51,543 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:40:51,543 - INFO - app.firebase_stream - Firebase listener closed.
sing task finished.
2025-06-12 04:40:51,544 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:40:51,544 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:40:51,545 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:40:51,546 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:40:51,546 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:40:51,545 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:40:51,548 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:40:53,731 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:40:53,749 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:40:53,754 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:40:53,754 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:40:53,803 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:40:53,835 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:40:53,842 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:40:53,843 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:40:54,340 - INFO - app.main - Application startup event triggered.
2025-06-12 04:40:54,340 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:40:54,343 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:40:54,391 - INFO - app.main - Application startup event triggered.
2025-06-12 04:40:54,391 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:40:54,395 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:40:56,411 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:40:56,424 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:40:56,424 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:40:56,424 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:40:56,425 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:40:56,426 - INFO - app.main - Application startup event finished.
2025-06-12 04:40:56,427 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:56,428 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:40:56,482 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 04:40:56,494 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:40:56,494 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:40:56,494 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 04:40:56,495 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:40:56,496 - INFO - app.main - Application startup event finished.
2025-06-12 04:40:56,496 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:56,496 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:40:57,233 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:40:57,321 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:06,720 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:41:06,720 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:41:06,720 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:41:06,720 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:41:06,720 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 04:41:06,721 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:41:07,757 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:41:07,757 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:41:07,757 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:41:07,757 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:41:07,757 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:41:07,758 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:41:07,758 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:41:07,759 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:41:07,759 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 04:41:07,759 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:41:09,388 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:41:09,408 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:41:09,411 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:41:09,413 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:41:09,413 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:41:09,436 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:41:09,443 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:41:09,443 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:41:09,934 - INFO - app.main - Application startup event triggered.
2025-06-12 04:41:09,935 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:41:09,938 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:41:09,942 - INFO - app.main - Application startup event triggered.
2025-06-12 04:41:09,942 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:41:09,946 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:41:09,967 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:41:09,969 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:41:09,975 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:41:09,975 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:41:09,975 - INFO - app.main - Redis publisher background task started
2025-06-12 04:41:09,975 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:41:09,976 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:41:09,976 - INFO - app.main - Application startup event finished.
2025-06-12 04:41:09,977 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:41:09,977 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:41:09,977 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:09,977 - INFO - app.main - Redis publisher background task started
2025-06-12 04:41:09,977 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:41:09,977 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:41:09,977 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:41:09,978 - INFO - app.main - Application startup event finished.
2025-06-12 04:41:09,978 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:09,979 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:41:10,940 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:10,940 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:51,513 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:41:51,514 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:41:51,514 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:41:51,514 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:41:51,514 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:41:51,515 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:41:51,515 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:41:51,738 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:41:51,738 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:41:51,738 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:41:51,738 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:41:51,738 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:41:51,738 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:41:51,740 - INFO - app.main - Redis client connection closed.
2025-06-12 04:41:51,740 - INFO - app.main - Redis client connection closed.
2025-06-12 04:41:51,740 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:41:51,740 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:41:53,829 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:41:53,848 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:41:53,860 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:41:53,870 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:41:53,870 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:41:53,886 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:41:53,894 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:41:53,894 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:41:54,725 - INFO - app.main - Application startup event triggered.
2025-06-12 04:41:54,726 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:41:54,738 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:41:54,784 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:41:54,794 - INFO - app.main - Application startup event triggered.
2025-06-12 04:41:54,797 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:41:54,798 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:41:54,798 - INFO - app.main - Redis publisher background task started
2025-06-12 04:41:54,798 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:41:54,800 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:41:54,802 - INFO - app.main - Application startup event finished.
2025-06-12 04:41:54,803 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:54,804 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:41:54,794 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:41:54,806 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:41:54,865 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:41:54,882 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:41:54,882 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:41:54,882 - INFO - app.main - Redis publisher background task started
2025-06-12 04:41:54,882 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:41:54,884 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:41:54,886 - INFO - app.main - Application startup event finished.
2025-06-12 04:41:54,887 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:54,888 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:41:55,586 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:41:55,770 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:42:39,287 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:42:39,287 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:42:39,287 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:42:39,287 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:42:39,287 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:42:39,287 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:42:39,287 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:42:39,288 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:42:40,122 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:42:40,122 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:42:40,123 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:42:40,125 - INFO - app.main - Redis client connection closed.
2025-06-12 04:42:40,125 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:42:40,131 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:42:40,132 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:42:40,132 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:42:40,134 - INFO - app.main - Redis client connection closed.
2025-06-12 04:42:40,134 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:42:41,604 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:42:41,628 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:42:41,629 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:42:41,633 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:42:41,633 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:42:41,649 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:42:41,655 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:42:41,655 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:42:42,165 - INFO - app.main - Application startup event triggered.
2025-06-12 04:42:42,165 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:42:42,170 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:42:42,171 - INFO - app.main - Application startup event triggered.
2025-06-12 04:42:42,171 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:42:42,174 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:42:42,194 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:42:42,200 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:42:42,201 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:42:42,201 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:42:42,201 - INFO - app.main - Redis publisher background task started
2025-06-12 04:42:42,202 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:42:42,203 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:42:42,203 - INFO - app.main - Application startup event finished.
2025-06-12 04:42:42,203 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:42:42,204 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:42:42,206 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:42:42,207 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:42:42,207 - INFO - app.main - Redis publisher background task started
2025-06-12 04:42:42,207 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:42:42,207 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:42:42,208 - INFO - app.main - Application startup event finished.
2025-06-12 04:42:42,208 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:42:42,208 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:42:43,187 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:43:42,201 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:43:42,203 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:43:42,206 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:43:42,208 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:43:59,785 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:43:59,786 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:43:59,786 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:43:59,787 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:43:59,831 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:43:59,831 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:43:59,831 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:43:59,832 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:44:00,974 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:44:00,974 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:44:00,975 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:44:00,977 - INFO - app.main - Redis client connection closed.
2025-06-12 04:44:00,977 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:44:00,977 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:44:00,978 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:44:00,979 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:44:00,981 - INFO - app.main - Redis client connection closed.
2025-06-12 04:44:00,981 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:44:04,303 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:44:04,330 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:44:04,343 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:44:04,351 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:44:04,352 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:44:04,369 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:44:04,378 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:44:04,378 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:44:05,247 - INFO - app.main - Application startup event triggered.
2025-06-12 04:44:05,247 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:44:05,253 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:44:05,263 - INFO - app.main - Application startup event triggered.
2025-06-12 04:44:05,264 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:44:05,270 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:44:05,296 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:44:05,305 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:44:05,305 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:44:05,305 - INFO - app.main - Redis publisher background task started
2025-06-12 04:44:05,305 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:44:05,307 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:44:05,308 - INFO - app.main - Application startup event finished.
2025-06-12 04:44:05,309 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:44:05,309 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:44:05,314 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:44:05,327 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:44:05,327 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:44:05,327 - INFO - app.main - Redis publisher background task started
2025-06-12 04:44:05,327 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:44:05,329 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:44:05,330 - INFO - app.main - Application startup event finished.
2025-06-12 04:44:05,330 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:44:05,330 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:44:06,328 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:44:06,329 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:45:05,305 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:45:05,306 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:45:05,324 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:45:05,325 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:46:05,310 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:46:05,311 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:46:05,324 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:46:05,324 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:47:02,492 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 04:47:02,515 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 04:47:02,540 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 04:47:02,564 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 04:47:02,582 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 04:47:02,610 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 04:47:02,631 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 04:47:02,659 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 04:47:02,679 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 04:47:02,701 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 04:47:02,727 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 04:47:02,767 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 04:47:02,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 04:47:02,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 04:47:02,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 04:47:02,869 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 04:47:02,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 04:47:02,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 04:47:02,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 04:47:02,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 04:47:02,983 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 04:47:03,006 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 04:47:03,029 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 04:47:03,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 04:47:03,075 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 04:47:03,105 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 04:47:03,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 04:47:03,158 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 04:47:03,180 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 04:47:03,209 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 04:47:03,227 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 04:47:03,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 04:47:03,283 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 04:47:03,315 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 04:47:03,342 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 04:47:03,366 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 04:47:03,388 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 04:47:03,409 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 04:47:03,433 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 04:47:03,463 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 04:47:03,484 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 04:47:03,513 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 04:47:03,533 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 04:47:03,562 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 04:47:03,581 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 04:47:03,607 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 04:47:03,637 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 04:47:03,654 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 04:47:03,677 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 04:47:03,701 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 04:47:03,724 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 04:47:03,910 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 04:47:04,348 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 04:47:04,451 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 04:47:04,614 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 04:47:04,642 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 04:47:04,673 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 04:47:04,736 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 04:47:04,889 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 04:47:04,934 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 04:47:04,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 04:47:04,988 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 04:47:05,022 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 04:47:05,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 04:47:05,068 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 04:47:05,089 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 04:47:05,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 04:47:05,137 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 04:47:05,154 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 04:47:05,168 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 04:47:05,198 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 04:47:05,229 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 04:47:05,255 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 04:47:05,282 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 04:47:05,311 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:47:05,312 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:47:05,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 04:47:05,326 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:47:05,340 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:47:05,354 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 04:47:05,379 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 04:47:05,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 04:47:05,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 04:47:07,306 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:08,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:09,599 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:13,065 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:14,483 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:15,806 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:17,146 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:19,612 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:20,937 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:47:20,937 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:47:20,937 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:47:20,938 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:47:21,193 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:22,413 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:47:22,416 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:47:22,418 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:47:22,424 - INFO - app.main - Redis client connection closed.
2025-06-12 04:47:22,424 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:47:22,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:24,304 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:24,996 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:26,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:27,395 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:28,387 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:29,231 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:30,299 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:30,838 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:32,079 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:34,542 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:36,967 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:39,319 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:41,614 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:43,899 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:46,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:48,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:52,926 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:53,675 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:55,998 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:47:57,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:00,083 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:02,471 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:04,634 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:05,330 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:48:05,330 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:48:07,063 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:09,305 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:11,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:13,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:15,930 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:18,386 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:20,813 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:23,018 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:25,283 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:27,663 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:29,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:32,150 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:34,564 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:36,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:39,290 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:41,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:43,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:46,077 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:48,557 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:50,984 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:53,018 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:53,050 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:48:53,076 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:48:53,084 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:48:53,084 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:48:53,785 - INFO - app.main - Application startup event triggered.
2025-06-12 04:48:53,785 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:48:53,789 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:48:53,815 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:48:53,822 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:48:53,822 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:48:53,822 - INFO - app.main - Redis publisher background task started
2025-06-12 04:48:53,822 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:48:53,823 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:48:53,823 - INFO - app.main - Application startup event finished.
2025-06-12 04:48:53,823 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:48:53,824 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:48:54,682 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:48:55,210 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:55,581 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:55,914 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:57,669 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:58,036 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:48:59,947 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:00,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:02,329 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:02,703 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:04,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:05,028 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:05,336 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:49:05,336 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:49:06,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:07,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:09,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:09,430 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:11,526 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:11,903 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:13,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:14,116 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:16,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:16,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:18,669 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:19,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:20,765 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:21,115 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:23,121 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:23,437 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:25,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:26,244 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:28,126 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:28,910 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:30,230 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:30,846 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:32,776 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:49:33,204 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:49:33,204 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:49:33,204 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:49:33,205 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:49:33,264 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:49:33,265 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:49:33,265 - INFO - app.main - Cancelling 2 other background tasks...
2025-06-12 04:49:33,265 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:49:34,306 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:49:34,307 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:49:34,307 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:49:34,307 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:49:34,307 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:49:34,307 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:49:34,308 - INFO - app.main - Redis client connection closed.
2025-06-12 04:49:34,308 - INFO - app.main - Redis client connection closed.
2025-06-12 04:49:34,308 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:49:34,308 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:49:36,270 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:49:36,298 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:49:36,306 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:49:36,306 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:49:36,707 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:49:36,732 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:49:36,737 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:49:36,737 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:49:36,855 - INFO - app.main - Application startup event triggered.
2025-06-12 04:49:36,855 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:49:36,858 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:49:36,880 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:49:36,886 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:49:36,886 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:49:36,886 - INFO - app.main - Redis publisher background task started
2025-06-12 04:49:36,886 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:49:36,887 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:49:36,888 - INFO - app.main - Application startup event finished.
2025-06-12 04:49:36,888 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:49:36,889 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:49:37,582 - INFO - app.main - Application startup event triggered.
2025-06-12 04:49:37,582 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:49:37,589 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:49:37,623 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:49:37,634 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:49:37,634 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:49:37,634 - INFO - app.main - Redis publisher background task started
2025-06-12 04:49:37,635 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:49:37,636 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:49:37,636 - INFO - app.main - Application startup event finished.
2025-06-12 04:49:37,637 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:49:37,638 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:49:37,796 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:49:38,608 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:49:56,261 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:49:56,262 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:49:56,262 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:49:56,262 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 04:49:56,262 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 04:49:56,263 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 04:49:56,264 - INFO - app.main - Background task 'Task-5' cancelled successfully.
d.
2025-06-12 04:49:56,264 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:49:57,355 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:49:57,355 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:49:57,356 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:49:57,356 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:49:57,356 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:49:57,356 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:49:57,356 - INFO - app.main - Redis client connection closed.
2025-06-12 04:49:57,357 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:49:57,357 - INFO - app.main - Redis client connection closed.
2025-06-12 04:49:57,357 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:49:59,200 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:49:59,223 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:49:59,230 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:49:59,230 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:49:59,231 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:49:59,248 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:49:59,255 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:49:59,255 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:49:59,878 - INFO - app.main - Application startup event triggered.
2025-06-12 04:49:59,878 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:49:59,888 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:49:59,915 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:49:59,917 - INFO - app.main - Application startup event triggered.
2025-06-12 04:49:59,918 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:49:59,924 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:49:59,925 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:49:59,925 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:49:59,925 - INFO - app.main - Redis publisher background task started
2025-06-12 04:49:59,925 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:49:59,926 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:49:59,927 - INFO - app.main - Application startup event finished.
2025-06-12 04:49:59,928 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:49:59,928 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:49:59,948 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:49:59,963 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:49:59,963 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:49:59,963 - INFO - app.main - Redis publisher background task started
2025-06-12 04:49:59,964 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:49:59,965 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:49:59,965 - INFO - app.main - Application startup event finished.
2025-06-12 04:49:59,965 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:49:59,966 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:50:00,743 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:50:00,754 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:50:11,739 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 04:50:11,756 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 04:50:11,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 04:50:11,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 04:50:11,798 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 04:50:11,809 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 04:50:11,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 04:50:11,834 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 04:50:11,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 04:50:11,860 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 04:50:11,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 04:50:11,888 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 04:50:11,901 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 04:50:11,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 04:50:11,928 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 04:50:11,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 04:50:11,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 04:50:11,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 04:50:11,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 04:50:11,992 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 04:50:12,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 04:50:12,024 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 04:50:12,040 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 04:50:12,061 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 04:50:12,080 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 04:50:12,096 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 04:50:12,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 04:50:12,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 04:50:12,159 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 04:50:12,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 04:50:12,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 04:50:12,221 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 04:50:12,240 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 04:50:12,258 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 04:50:12,276 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 04:50:12,297 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 04:50:12,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 04:50:12,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 04:50:12,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 04:50:12,377 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 04:50:12,393 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 04:50:12,409 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 04:50:12,423 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 04:50:12,436 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 04:50:12,450 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 04:50:12,465 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 04:50:12,479 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 04:50:12,491 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 04:50:12,504 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 04:50:12,518 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 04:50:12,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 04:50:12,545 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 04:50:12,557 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 04:50:12,569 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 04:50:12,583 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 04:50:12,597 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 04:50:12,611 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 04:50:12,625 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 04:50:12,637 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 04:50:12,650 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 04:50:12,662 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 04:50:12,674 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 04:50:12,687 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 04:50:12,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 04:50:12,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 04:50:12,728 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 04:50:12,741 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 04:50:12,754 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 04:50:12,767 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 04:50:12,779 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 04:50:12,795 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 04:50:12,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 04:50:12,819 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 04:50:12,833 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 04:50:12,845 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 04:50:12,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 04:50:12,871 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 04:50:12,882 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 04:50:12,896 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 04:50:16,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:17,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:18,954 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:20,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:22,884 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:23,547 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:50:23,548 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:50:23,556 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 04:50:23,566 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:50:23,627 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:50:23,628 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:50:23,629 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 04:50:23,638 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 04:50:23,641 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:50:25,112 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:50:25,113 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:50:25,113 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:50:25,120 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:50:25,121 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:50:25,121 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:50:25,123 - INFO - app.main - Redis client connection closed.
2025-06-12 04:50:25,123 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:50:25,126 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 04:50:25,139 - INFO - app.main - Redis client connection closed.
2025-06-12 04:50:25,139 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:50:28,646 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:50:28,714 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:50:28,725 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:50:28,742 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:50:28,743 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:50:28,840 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:50:28,869 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:50:28,869 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:50:30,322 - INFO - app.main - Application startup event triggered.
2025-06-12 04:50:30,322 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:50:30,331 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:50:30,357 - INFO - app.main - Application startup event triggered.
2025-06-12 04:50:30,357 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:50:30,365 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:50:30,391 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:50:30,403 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:50:30,403 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:50:30,403 - INFO - app.main - Redis publisher background task started
2025-06-12 04:50:30,403 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:50:30,405 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:50:30,406 - INFO - app.main - Application startup event finished.
2025-06-12 04:50:30,407 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:50:30,409 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:50:30,431 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:50:30,444 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:50:30,444 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:50:30,444 - INFO - app.main - Redis publisher background task started
2025-06-12 04:50:30,444 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:50:30,445 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:50:30,447 - INFO - app.main - Application startup event finished.
2025-06-12 04:50:30,447 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:50:30,448 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:50:31,254 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:50:31,348 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:50:34,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 04:50:35,008 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 04:50:35,095 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 04:50:35,143 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 04:50:35,218 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 04:50:35,447 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 04:50:35,602 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 04:50:35,651 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 04:50:35,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 04:50:35,871 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 04:50:36,025 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 04:50:36,076 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 04:50:36,106 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 04:50:36,153 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 04:50:36,261 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 04:50:36,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 04:50:36,364 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 04:50:36,384 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 04:50:36,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 04:50:36,434 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 04:50:36,459 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 04:50:36,490 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 04:50:36,513 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 04:50:36,544 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 04:50:36,575 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 04:50:36,606 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 04:50:36,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 04:50:36,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 04:50:36,733 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 04:50:36,761 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 04:50:36,792 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 04:50:36,820 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 04:50:36,865 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 04:50:36,912 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 04:50:36,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 04:50:36,986 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 04:50:37,027 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 04:50:37,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 04:50:37,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 04:50:37,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 04:50:37,175 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 04:50:37,234 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 04:50:37,300 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 04:50:37,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 04:50:37,375 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 04:50:37,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 04:50:37,428 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 04:50:37,447 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 04:50:37,469 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 04:50:37,490 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 04:50:37,515 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 04:50:37,539 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 04:50:37,591 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 04:50:37,615 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 04:50:37,634 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 04:50:37,872 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 04:50:38,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 04:50:38,105 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 04:50:38,162 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 04:50:38,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 04:50:38,224 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 04:50:38,248 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 04:50:38,275 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 04:50:38,300 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 04:50:38,328 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 04:50:38,359 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 04:50:38,384 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 04:50:38,411 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 04:50:38,433 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 04:50:38,456 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 04:50:38,482 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 04:50:38,502 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 04:50:38,523 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 04:50:38,546 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 04:50:38,572 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 04:50:38,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 04:50:38,622 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 04:50:38,644 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 04:50:38,670 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 04:50:40,951 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:42,837 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:44,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:45,352 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:47,623 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:50,146 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:52,116 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:53,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:54,879 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:56,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:57,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:50:59,957 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:01,504 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:03,456 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:04,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:06,082 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:07,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:08,955 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:09,948 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,016 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,109 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,166 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,683 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,902 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,946 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,958 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:10,968 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:12,120 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:51:14,315 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:14,320 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:14,379 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:14,443 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:14,449 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:14,461 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 04:51:30,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:51:30,408 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:51:30,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:51:30,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:51:46,242 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:51:46,258 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:51:46,263 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:51:46,263 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:51:46,794 - INFO - app.main - Application startup event triggered.
2025-06-12 04:51:46,794 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:51:46,797 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:51:46,824 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:51:46,828 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:51:46,828 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:51:46,829 - INFO - app.main - Redis publisher background task started
2025-06-12 04:51:46,829 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:51:46,829 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:51:46,830 - INFO - app.main - Application startup event finished.
2025-06-12 04:51:46,830 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:51:46,830 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:51:47,845 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:52:30,405 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:52:30,406 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:52:30,441 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:52:30,442 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:52:46,842 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:52:46,843 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:53:30,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:53:30,413 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:53:30,443 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:53:30,444 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:53:46,831 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:53:46,831 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:54:30,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:54:30,414 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:54:30,445 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:54:30,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:54:46,832 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:54:46,833 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:55:30,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:55:30,408 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:55:30,453 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:55:30,454 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:55:46,841 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:55:46,842 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:56:30,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:56:30,407 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:56:30,454 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:56:30,455 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:56:46,844 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:56:46,845 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:57:24,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 04:57:24,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 04:57:24,134 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 04:57:24,150 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 04:57:24,167 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 04:57:24,184 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 04:57:24,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 04:57:24,218 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 04:57:24,229 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 04:57:24,238 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 04:57:24,246 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 04:57:24,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 04:57:24,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 04:57:24,277 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 04:57:24,287 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 04:57:24,297 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 04:57:24,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 04:57:24,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 04:57:24,322 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 04:57:24,331 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 04:57:24,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 04:57:24,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 04:57:24,364 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 04:57:24,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 04:57:24,384 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 04:57:24,393 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 04:57:24,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 04:57:24,414 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 04:57:24,425 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 04:57:24,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 04:57:24,445 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 04:57:24,455 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 04:57:24,462 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 04:57:24,471 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 04:57:24,484 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 04:57:24,492 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 04:57:24,501 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 04:57:24,510 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 04:57:24,523 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 04:57:24,533 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 04:57:24,542 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 04:57:24,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 04:57:24,558 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 04:57:24,566 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 04:57:24,587 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 04:57:24,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 04:57:24,604 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 04:57:24,613 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 04:57:24,620 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 04:57:24,629 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 04:57:30,406 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:57:30,406 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:57:46,833 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:57:46,834 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:58:30,400 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:58:30,401 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:58:46,841 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:58:46,841 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:59:01,867 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 04:59:02,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 04:59:04,849 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 04:59:06,490 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 04:59:06,802 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 04:59:06,820 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 04:59:06,831 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 04:59:06,844 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 04:59:06,857 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 04:59:06,869 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 04:59:06,880 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 04:59:06,894 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 04:59:06,907 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 04:59:06,921 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 04:59:06,935 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 04:59:06,946 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 04:59:06,956 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 04:59:06,969 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 04:59:06,983 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 04:59:06,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 04:59:07,006 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 04:59:07,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 04:59:07,027 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 04:59:07,037 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 04:59:07,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 04:59:07,058 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 04:59:07,068 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 04:59:07,080 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 04:59:07,093 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 04:59:17,006 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 04:59:17,024 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 04:59:17,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 04:59:17,068 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 04:59:17,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 04:59:17,140 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 04:59:17,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 04:59:17,198 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 04:59:17,221 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 04:59:17,244 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 04:59:17,270 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 04:59:17,289 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 04:59:17,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 04:59:17,327 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 04:59:17,349 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 04:59:17,367 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 04:59:17,381 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 04:59:17,398 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 04:59:17,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 04:59:17,430 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 04:59:17,450 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 04:59:17,472 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 04:59:17,498 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 04:59:17,515 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 04:59:17,532 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 04:59:17,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 04:59:17,569 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 04:59:17,589 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 04:59:17,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 04:59:17,630 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 04:59:17,649 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 04:59:17,668 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 04:59:17,686 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 04:59:17,705 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 04:59:17,722 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 04:59:17,738 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 04:59:17,754 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 04:59:17,775 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 04:59:17,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 04:59:17,808 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 04:59:17,823 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 04:59:17,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 04:59:17,865 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 04:59:17,889 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 04:59:17,919 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 04:59:17,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 04:59:17,982 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 04:59:18,011 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 04:59:18,044 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 04:59:18,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 04:59:18,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 04:59:18,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 04:59:18,130 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 04:59:18,152 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 04:59:18,175 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 04:59:18,201 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 04:59:18,222 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 04:59:18,241 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 04:59:18,261 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 04:59:18,281 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 04:59:18,302 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 04:59:18,321 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 04:59:18,347 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 04:59:18,379 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 04:59:18,417 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 04:59:18,461 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 04:59:18,486 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 04:59:18,516 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 04:59:18,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 04:59:18,581 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 04:59:18,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 04:59:18,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 04:59:18,656 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 04:59:18,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 04:59:18,698 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 04:59:18,723 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 04:59:18,749 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 04:59:18,779 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 04:59:18,804 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 04:59:21,190 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:21,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:23,533 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:24,499 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:25,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:26,623 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:28,193 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:29,237 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:30,314 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:30,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:59:30,408 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:59:30,443 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 04:59:30,444 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 04:59:31,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:31,488 - INFO - app.main - Application shutdown event triggered.
2025-06-12 04:59:31,488 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 04:59:31,488 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 04:59:31,490 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 04:59:31,842 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 04:59:31,843 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 04:59:31,843 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 04:59:31,846 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 04:59:31,851 - INFO - app.main - Redis client connection closed.
2025-06-12 04:59:31,851 - INFO - app.main - Application shutdown event finished.
2025-06-12 04:59:32,657 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:35,084 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:37,387 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:39,194 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 04:59:39,268 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 04:59:39,280 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 04:59:39,281 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 04:59:39,623 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:40,893 - INFO - app.main - Application startup event triggered.
2025-06-12 04:59:40,894 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 04:59:40,901 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 04:59:40,957 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 04:59:40,974 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 04:59:40,974 - INFO - app.main - Firebase events processor background task started
2025-06-12 04:59:40,975 - INFO - app.main - Redis publisher background task started
2025-06-12 04:59:40,975 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 04:59:40,977 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 04:59:40,978 - INFO - app.main - Application startup event finished.
2025-06-12 04:59:40,978 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:59:40,979 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 04:59:42,062 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 04:59:42,234 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:43,414 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:44,230 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:45,756 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:46,620 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:47,391 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:49,548 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:51,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:53,524 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:55,099 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:58,050 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 04:59:59,868 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:00,784 - ERROR - app.database.session - Database session error: 404: No wallet records found for this user.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\wallets.py", line 39, in get_my_wallets
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 404: No wallet records found for this user.
2025-06-12 05:00:01,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:02,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:05,651 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:08,641 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:10,534 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:12,543 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:14,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:15,839 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:17,453 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:19,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:21,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:24,394 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:25,899 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:27,611 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:29,796 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:30,454 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:00:30,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:00:31,305 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:32,631 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:34,235 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:35,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:38,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:40,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:40,983 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:00:40,984 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:00:42,218 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:44,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:45,246 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:45,252 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '3955717258', 'order_user_id': '4', 'user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'BUY', 'order_status': 'PROCESSING', 'order_price': '0.88835000', 'order_quantity': '0.01000000', 'contract_value': '888.35000000', 'margin': '8.88000000', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_order_id': '', 'modify_id': '', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': 'OPEN', 'timestamp': '2025-06-12T12:00:45.252148', 'account_type': 'live', 'action': ''}
2025-06-12 05:00:45,623 - INFO - app.core.firebase - Order data (ID: 3955717258) sent to Firebase successfully.
2025-06-12 05:00:45,901 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:47,321 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:48,896 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:51,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:53,470 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:55,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:56,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:00:58,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:00,452 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:01,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:02,483 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:05,110 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:07,011 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:09,565 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:10,562 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:11,577 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:12,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:14,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:15,892 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:17,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:18,670 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:19,949 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:20,113 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:21,477 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:23,566 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:25,403 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:26,873 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:28,129 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:29,543 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:30,439 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:01:30,440 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:01:30,750 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:32,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:33,516 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:35,878 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:37,219 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:38,649 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:39,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:40,976 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:01:40,976 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:01:41,189 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:42,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:44,057 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:45,076 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:45,950 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:47,571 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:48,744 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:49,825 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:51,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:52,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:53,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:54,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:55,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:56,250 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:01:59,741 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:03,744 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:09,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:13,797 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:17,583 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:20,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:24,640 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:28,670 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:30,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:02:30,490 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:02:33,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:35,078 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:36,986 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:38,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:39,609 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:40,973 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:02:40,974 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:02:43,758 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:49,417 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:02:55,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:02,172 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:11,334 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:16,330 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:20,602 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:24,690 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:26,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:28,902 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:30,456 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:03:30,479 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:03:31,728 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:35,296 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:37,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:40,409 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:40,985 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:03:40,986 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:03:44,033 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:46,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:51,288 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:56,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:03:59,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:03,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:08,244 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:13,708 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:16,601 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:18,804 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:22,307 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:26,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:27,566 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:28,989 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:30,472 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:04:31,012 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:04:33,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:39,130 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:40,975 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:04:40,976 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:04:44,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:51,136 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:04:56,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:03,898 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:17,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:30,476 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:05:30,480 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:05:30,587 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:36,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:40,982 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:05:40,982 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:05:41,163 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:46,079 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:50,987 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:05:56,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:02,234 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:07,381 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:16,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:21,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:28,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:30,756 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:06:30,814 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:06:34,773 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:40,994 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:06:40,996 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:06:42,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:49,096 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:06:55,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:01,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:06,040 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:13,951 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:21,112 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:27,819 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:30,529 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:07:30,573 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:07:33,124 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:37,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:40,983 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:07:40,984 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:07:42,005 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:46,876 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:52,370 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:07:58,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:08:05,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:08:19,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:08:26,948 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:08:30,453 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:08:30,454 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:08:40,986 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:08:40,988 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:09:30,441 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:09:30,442 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:09:40,978 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:09:40,979 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:10:30,449 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:10:30,449 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:10:40,979 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:10:40,980 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:11:30,440 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:11:30,441 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:11:40,977 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:11:40,978 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:11:45,124 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 05:11:45,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 05:11:45,153 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 05:11:45,166 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 05:11:45,180 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 05:11:45,195 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 05:11:45,208 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 05:11:45,221 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 05:11:45,235 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 05:11:45,251 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 05:11:45,264 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 05:11:45,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 05:11:45,296 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 05:11:45,311 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 05:11:45,326 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 05:11:45,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 05:11:45,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 05:11:45,369 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 05:11:45,383 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 05:11:45,444 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 05:11:45,461 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 05:11:45,475 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 05:11:45,491 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 05:11:45,503 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 05:11:45,519 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 05:11:45,532 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 05:11:45,547 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 05:11:45,564 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 05:11:45,581 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 05:11:45,606 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 05:11:45,621 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 05:11:45,637 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 05:11:45,653 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 05:11:45,669 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 05:11:45,683 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 05:11:45,699 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 05:11:45,715 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 05:11:45,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 05:11:45,746 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 05:11:45,760 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 05:11:45,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 05:11:45,788 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 05:11:45,802 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 05:11:45,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 05:11:45,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 05:11:45,843 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 05:11:45,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 05:11:45,872 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 05:11:45,885 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 05:11:45,900 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 05:11:45,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 05:11:45,930 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 05:11:45,945 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 05:11:45,960 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 05:11:45,982 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 05:11:45,999 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 05:11:46,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 05:11:46,030 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 05:11:46,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 05:11:46,062 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 05:11:46,076 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 05:11:46,093 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 05:11:46,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 05:11:46,121 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 05:11:46,137 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 05:11:46,151 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 05:11:46,167 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 05:11:46,183 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 05:11:46,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 05:11:46,214 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 05:11:46,228 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 05:11:46,247 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 05:11:46,264 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 05:11:46,282 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 05:11:46,296 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 05:11:46,310 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 05:11:46,324 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 05:11:46,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 05:11:46,357 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 05:11:50,577 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:11:53,716 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:11:56,166 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:11:58,787 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:00,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:02,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:05,428 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:10,231 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:19,880 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:27,434 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:12:30,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:12:30,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:12:40,997 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:12:40,999 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:13:30,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:13:30,453 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:13:40,984 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:13:40,985 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:14:30,442 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:14:30,444 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:14:40,979 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:14:40,980 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:15:30,450 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:15:30,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:15:36,107 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '7422527889', 'order_user_id': '4', 'user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'BUY_LIMIT', 'order_status': 'PENDING_PROCESSING', 'order_price': '0.88000000', 'order_quantity': '0.01000000', 'contract_value': '1000.00000000', 'margin': '', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_order_id': '', 'modify_id': '', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': 'PENDING', 'timestamp': '2025-06-12T12:15:36.107749', 'account_type': 'live', 'action': 'pending_order'}
2025-06-12 05:15:36,916 - INFO - app.core.firebase - Order data (ID: 7422527889) sent to Firebase successfully.
2025-06-12 05:15:40,988 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:15:40,989 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:16:30,440 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:16:30,442 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:16:31,938 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:16:31,940 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:16:31,940 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:16:31,945 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:16:31,946 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:16:32,066 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:16:32,069 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:16:32,069 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:16:32,082 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:16:32,323 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:16:32,323 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:16:32,323 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:16:32,330 - INFO - app.main - Redis client connection closed.
2025-06-12 05:16:32,330 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:16:32,335 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:16:32,336 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:16:32,337 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:16:32,341 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:16:32,350 - INFO - app.main - Redis client connection closed.
2025-06-12 05:16:32,351 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:16:36,437 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:16:36,464 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:16:36,470 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:16:36,470 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:16:37,339 - INFO - app.main - Application startup event triggered.
2025-06-12 05:16:37,339 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:16:37,346 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:16:37,395 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:16:37,407 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:16:37,407 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:16:37,407 - INFO - app.main - Redis publisher background task started
2025-06-12 05:16:37,407 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:16:37,410 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:16:37,411 - INFO - app.main - Application startup event finished.
2025-06-12 05:16:37,411 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:16:37,412 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:16:38,238 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:16:44,986 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:16:44,986 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:16:44,986 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:16:44,986 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:16:46,230 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:16:46,230 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:16:46,230 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:16:46,231 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:16:46,232 - INFO - app.main - Redis client connection closed.
2025-06-12 05:16:46,232 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:16:50,080 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:16:50,103 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:16:50,110 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:16:50,110 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:16:50,696 - INFO - app.main - Application startup event triggered.
2025-06-12 05:16:50,696 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:16:50,701 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:16:50,726 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:16:50,734 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:16:50,735 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:16:50,735 - INFO - app.main - Redis publisher background task started
2025-06-12 05:16:50,735 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:16:50,736 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:16:50,736 - INFO - app.main - Application startup event finished.
2025-06-12 05:16:50,737 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:16:50,737 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:16:51,655 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:17:50,735 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:17:50,736 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:17:56,471 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:17:56,472 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:17:56,472 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:17:56,472 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:17:57,791 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:17:57,791 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:17:57,792 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:17:57,798 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:17:57,799 - INFO - app.main - Redis client connection closed.
2025-06-12 05:17:57,799 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:18:00,031 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:18:00,055 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:18:00,061 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:18:00,061 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:18:00,725 - INFO - app.main - Application startup event triggered.
2025-06-12 05:18:00,725 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:18:00,729 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:00,731 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 05:18:00,736 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:18:00,736 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:18:00,736 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 05:18:00,737 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:18:00,738 - INFO - app.main - Application startup event finished.
2025-06-12 05:18:00,738 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:18:00,738 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:18:01,813 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:18:16,414 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:16,415 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:18:25,431 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:25,433 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:18:30,448 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:30,450 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:18:35,469 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:35,472 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:18:40,796 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:40,840 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:18:49,017 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:18:49,017 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:18:49,017 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 05:18:49,018 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:18:50,843 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:18:50,843 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:18:50,843 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:18:50,843 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 05:18:50,843 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:18:52,622 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:18:52,642 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:18:52,647 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:18:52,647 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:18:53,280 - INFO - app.main - Application startup event triggered.
2025-06-12 05:18:53,281 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:18:53,286 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:18:53,287 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 05:18:53,295 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:18:53,295 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:18:53,295 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 05:18:53,296 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:18:53,296 - INFO - app.main - Application startup event finished.
2025-06-12 05:18:53,296 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:18:53,297 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:18:54,266 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:19:32,647 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:19:32,648 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:19:32,648 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 05:19:32,648 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:19:34,667 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:19:34,667 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:19:34,667 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:19:34,667 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 05:19:34,667 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:19:36,194 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:19:36,211 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:19:36,217 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:19:36,217 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:19:36,748 - INFO - app.main - Application startup event triggered.
2025-06-12 05:19:36,748 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:19:36,754 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:19:36,756 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 05:19:36,762 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:19:36,762 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:19:36,762 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 05:19:36,763 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:19:36,763 - INFO - app.main - Application startup event finished.
2025-06-12 05:19:36,764 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:19:36,764 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:19:37,748 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:20:01,895 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:20:01,896 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:20:01,896 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 05:20:01,896 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:20:02,426 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:20:02,426 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:20:02,426 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:20:02,426 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 05:20:02,426 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:20:03,778 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:20:03,795 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:20:03,800 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:20:03,800 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:20:04,454 - INFO - app.main - Application startup event triggered.
2025-06-12 05:20:04,455 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:20:04,459 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:20:04,461 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 05:20:04,466 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:20:04,467 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:20:04,467 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 05:20:04,467 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:20:04,468 - INFO - app.main - Application startup event finished.
2025-06-12 05:20:04,469 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:20:04,470 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:20:05,399 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:20:24,041 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:20:24,084 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:20:24,090 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:20:24,090 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:20:24,918 - INFO - app.main - Application startup event triggered.
2025-06-12 05:20:24,918 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:20:24,924 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:20:24,925 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 05:20:24,936 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:20:24,937 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:20:24,937 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 05:20:24,939 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:20:24,940 - INFO - app.main - Application startup event finished.
2025-06-12 05:20:24,941 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:20:24,941 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:20:28,168 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:21:01,427 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:21:01,431 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:21:04,467 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:21:04,468 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 05:21:06,478 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:21:06,480 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:21:11,502 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:21:11,505 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 383, in app
    await dependant.call(**solved_result.values)
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\market_data_ws.py", line 752, in websocket_endpoint
    redis_client = await get_redis_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:21:11,768 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:21:11,774 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:21:24,952 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:21:24,952 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 05:21:26,832 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:21:26,841 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:21:55,270 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:21:55,272 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:22:00,799 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:22:00,799 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:22:00,799 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 05:22:00,800 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:22:03,054 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:22:03,054 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:22:03,054 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:22:03,055 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 05:22:03,055 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:22:06,658 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:22:06,676 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:22:06,681 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:22:06,681 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:22:07,247 - INFO - app.main - Application startup event triggered.
2025-06-12 05:22:07,247 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:22:07,253 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:07,254 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 05:22:07,260 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:22:07,260 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:22:07,260 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 05:22:07,260 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:22:07,261 - INFO - app.main - Application startup event finished.
2025-06-12 05:22:07,261 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:07,261 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:22:08,373 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:18,661 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:18,664 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-12 05:22:24,945 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:22:24,945 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 05:22:34,802 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:22:34,803 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:22:34,803 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 05:22:34,804 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:22:34,857 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:22:34,857 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:22:34,857 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 05:22:34,858 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:22:35,306 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:22:35,306 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:22:35,306 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:22:35,306 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:22:35,306 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 05:22:35,306 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:22:35,306 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:22:35,307 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:22:35,307 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 05:22:35,307 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:22:36,884 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:22:36,904 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:22:36,909 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:22:36,909 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:22:36,918 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:22:36,955 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:22:36,965 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:22:36,965 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:22:37,557 - INFO - app.main - Application startup event triggered.
2025-06-12 05:22:37,557 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:22:37,563 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:37,596 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:22:37,603 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:22:37,603 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:22:37,603 - INFO - app.main - Redis publisher background task started
2025-06-12 05:22:37,603 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:22:37,604 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:22:37,604 - INFO - app.main - Application startup event finished.
2025-06-12 05:22:37,604 - INFO - app.main - Application startup event triggered.
2025-06-12 05:22:37,605 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:37,605 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:22:37,605 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:22:37,609 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:37,646 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:22:37,653 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:22:37,653 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:22:37,653 - INFO - app.main - Redis publisher background task started
2025-06-12 05:22:37,653 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:22:37,654 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:22:37,655 - INFO - app.main - Application startup event finished.
2025-06-12 05:22:37,655 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:37,656 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:22:38,410 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:38,412 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:38,418 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:22:38,443 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:22:39,905 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:22:39,906 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:22:39,906 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:22:39,906 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:22:39,906 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:22:39,906 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:22:39,906 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:22:39,907 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:22:39,907 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:22:39,907 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:22:39,908 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:22:39,908 - INFO - app.main - Redis client connection closed.
2025-06-12 05:22:39,908 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:22:39,909 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:22:39,909 - INFO - app.main - Redis client connection closed.
2025-06-12 05:22:39,909 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:22:41,498 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:22:41,515 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:22:41,518 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:22:41,521 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:22:41,521 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:22:41,535 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:22:41,542 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:22:41,542 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:22:42,145 - INFO - app.main - Application startup event triggered.
2025-06-12 05:22:42,145 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:22:42,151 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:42,177 - INFO - app.main - Application startup event triggered.
2025-06-12 05:22:42,178 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:22:42,182 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:42,193 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:22:42,202 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:22:42,202 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:22:42,202 - INFO - app.main - Redis publisher background task started
2025-06-12 05:22:42,202 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:22:42,203 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:22:42,204 - INFO - app.main - Application startup event finished.
2025-06-12 05:22:42,204 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:42,204 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:22:42,211 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:22:42,218 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:22:42,218 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:22:42,219 - INFO - app.main - Redis publisher background task started
2025-06-12 05:22:42,219 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:22:42,219 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:22:42,220 - INFO - app.main - Application startup event finished.
2025-06-12 05:22:42,220 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:42,221 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:22:43,294 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:43,300 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:50,571 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:22:50,572 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:22:50,572 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:22:50,573 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:22:51,484 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:22:51,484 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:22:51,484 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:22:51,485 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:22:51,486 - INFO - app.main - Redis client connection closed.
2025-06-12 05:22:51,486 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:22:55,771 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:22:55,789 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:22:55,796 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:22:55,796 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:22:56,298 - INFO - app.main - Application startup event triggered.
2025-06-12 05:22:56,298 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:22:56,304 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:22:56,345 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:22:56,357 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:22:56,357 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:22:56,357 - INFO - app.main - Redis publisher background task started
2025-06-12 05:22:56,357 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:22:56,357 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:22:56,358 - INFO - app.main - Application startup event finished.
2025-06-12 05:22:56,358 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:22:56,358 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:22:57,532 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:23:42,218 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:23:42,219 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:23:56,359 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:23:56,360 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:24:41,737 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 05:24:41,756 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 05:24:41,775 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 05:24:41,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 05:24:41,806 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 05:24:41,823 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 05:24:41,841 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 05:24:41,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 05:24:41,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 05:24:41,892 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 05:24:41,911 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 05:24:41,929 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 05:24:41,942 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 05:24:41,954 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 05:24:41,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 05:24:41,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 05:24:41,993 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 05:24:42,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 05:24:42,021 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 05:24:42,034 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 05:24:42,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 05:24:42,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 05:24:42,082 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 05:24:42,096 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 05:24:42,111 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 05:24:42,122 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 05:24:42,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 05:24:42,150 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 05:24:42,158 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 05:24:42,165 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 05:24:42,173 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 05:24:42,184 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 05:24:42,196 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 05:24:42,205 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 05:24:42,215 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 05:24:42,217 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:24:42,221 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:24:42,225 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 05:24:42,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 05:24:42,240 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 05:24:42,245 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 05:24:42,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 05:24:42,260 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 05:24:42,267 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 05:24:42,275 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 05:24:42,283 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 05:24:42,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 05:24:42,295 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 05:24:42,302 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 05:24:42,311 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 05:24:42,319 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 05:24:42,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 05:24:42,349 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 05:24:42,356 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 05:24:42,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 05:24:42,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 05:24:42,381 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 05:24:42,386 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 05:24:42,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 05:24:42,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 05:24:42,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 05:24:42,428 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 05:24:42,452 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 05:24:42,473 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 05:24:42,486 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 05:24:42,501 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 05:24:42,520 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 05:24:42,531 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 05:24:42,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 05:24:42,565 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 05:24:42,581 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 05:24:42,592 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 05:24:42,603 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 05:24:42,618 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 05:24:42,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 05:24:42,647 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 05:24:42,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 05:24:42,682 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 05:24:42,691 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 05:24:42,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 05:24:42,717 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 05:24:48,194 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:24:51,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:24:54,358 - ERROR - app.database.session - Database session error: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 896, in close_order
    is_barclays_live_user = (user_type == 'live' and sending_orders_normalized == 'barclays')
                             ^^^^^^^^^
NameError: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1237, in close_order
    raise HTTPException(status_code=500, detail=f"Error processing close order: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error processing close order: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1240, in close_order
    raise HTTPException(status_code=500, detail=f"Error in close_order endpoint: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
2025-06-12 05:24:55,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:24:56,367 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:24:56,368 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:24:59,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:02,382 - ERROR - app.database.session - Database session error: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 896, in close_order
    is_barclays_live_user = (user_type == 'live' and sending_orders_normalized == 'barclays')
                             ^^^^^^^^^
NameError: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1237, in close_order
    raise HTTPException(status_code=500, detail=f"Error processing close order: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error processing close order: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1240, in close_order
    raise HTTPException(status_code=500, detail=f"Error in close_order endpoint: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
2025-06-12 05:25:02,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:06,428 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:11,788 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:15,253 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:22,568 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 05:25:22,576 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 05:25:22,585 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 05:25:22,592 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 05:25:22,600 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 05:25:22,611 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 05:25:22,621 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 05:25:22,629 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 05:25:22,641 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 05:25:22,651 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 05:25:22,658 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 05:25:22,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 05:25:22,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 05:25:22,684 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 05:25:22,692 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 05:25:22,701 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 05:25:22,710 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 05:25:22,721 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 05:25:22,730 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 05:25:22,741 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 05:25:22,749 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 05:25:22,759 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 05:25:22,764 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 05:25:22,773 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 05:25:22,781 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 05:25:22,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 05:25:22,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 05:25:22,806 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 05:25:22,816 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 05:25:22,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 05:25:22,833 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 05:25:22,841 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 05:25:22,850 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 05:25:22,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 05:25:22,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 05:25:22,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 05:25:22,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 05:25:22,908 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 05:25:22,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 05:25:22,930 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 05:25:22,940 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 05:25:22,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 05:25:22,962 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 05:25:22,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 05:25:22,981 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 05:25:22,992 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 05:25:23,004 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 05:25:23,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 05:25:23,028 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 05:25:23,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 05:25:23,054 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 05:25:23,063 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 05:25:23,071 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 05:25:23,081 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 05:25:23,090 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 05:25:23,100 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 05:25:23,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 05:25:23,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 05:25:23,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 05:25:23,134 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 05:25:23,144 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 05:25:23,152 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 05:25:23,162 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 05:25:23,171 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 05:25:23,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 05:25:23,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 05:25:23,195 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 05:25:23,202 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 05:25:23,215 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 05:25:23,233 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 05:25:23,260 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 05:25:23,276 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 05:25:23,292 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 05:25:23,308 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 05:25:23,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 05:25:23,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 05:25:23,348 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 05:25:23,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 05:25:23,368 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 05:25:24,442 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:26,843 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:29,429 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:31,713 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:33,742 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:34,017 - ERROR - app.database.session - Database session error: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 896, in close_order
    is_barclays_live_user = (user_type == 'live' and sending_orders_normalized == 'barclays')
                             ^^^^^^^^^
NameError: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1237, in close_order
    raise HTTPException(status_code=500, detail=f"Error processing close order: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error processing close order: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1240, in close_order
    raise HTTPException(status_code=500, detail=f"Error in close_order endpoint: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
2025-06-12 05:25:36,361 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:38,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:40,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:42,917 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:45,229 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:47,565 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:50,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:52,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:54,614 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:56,355 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:25:56,355 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:25:56,944 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:25:59,111 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:01,351 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:03,637 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:06,131 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:08,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:10,818 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:12,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:15,609 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:15,966 - ERROR - app.database.session - Database session error: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 896, in close_order
    is_barclays_live_user = (user_type == 'live' and sending_orders_normalized == 'barclays')
                             ^^^^^^^^^
NameError: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1237, in close_order
    raise HTTPException(status_code=500, detail=f"Error processing close order: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error processing close order: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1240, in close_order
    raise HTTPException(status_code=500, detail=f"Error in close_order endpoint: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
2025-06-12 05:26:18,584 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:20,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:21,878 - ERROR - app.database.session - Database session error: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 896, in close_order
    is_barclays_live_user = (user_type == 'live' and sending_orders_normalized == 'barclays')
                             ^^^^^^^^^
NameError: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1237, in close_order
    raise HTTPException(status_code=500, detail=f"Error processing close order: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error processing close order: name 'user_type' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1240, in close_order
    raise HTTPException(status_code=500, detail=f"Error in close_order endpoint: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error in close_order endpoint: 500: Error processing close order: name 'user_type' is not defined
2025-06-12 05:26:22,616 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:25,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:27,082 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:29,299 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:31,831 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:34,056 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:36,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:38,689 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:41,129 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:43,349 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:45,669 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:47,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:50,276 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:52,482 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:54,808 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:56,370 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:26:56,371 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:26:57,188 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:26:59,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:01,697 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:03,813 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:06,280 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:08,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:11,042 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:13,342 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:15,660 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:18,366 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:21,288 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:22,725 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:25,047 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:27,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:29,740 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:32,146 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:34,502 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:36,547 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:38,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:41,024 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:43,483 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:46,115 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:47,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:50,473 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:52,660 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:55,054 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:56,355 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:27:56,356 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:27:57,221 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:27:59,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:01,868 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:04,031 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:06,341 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:08,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:08,956 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '4573979015', 'order_user_id': '4', 'user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'BUY_LIMIT', 'order_status': 'PENDING', 'order_price': '0.1', 'order_quantity': '1', 'contract_value': '', 'margin': '', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_order_id': '', 'modify_id': '9597874149', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': 'PENDING', 'timestamp': '2025-06-12T12:28:08.956878', 'account_type': 'live', 'action': 'modify_order'}
2025-06-12 05:28:09,566 - INFO - app.core.firebase - Order data (ID: 4573979015) sent to Firebase successfully.
2025-06-12 05:28:11,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:13,750 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:15,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:19,102 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:21,467 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:23,048 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:25,261 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:27,469 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:29,902 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:33,018 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:34,880 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:37,266 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:39,406 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:41,376 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:44,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:45,924 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:48,221 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:50,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:52,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:55,299 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:28:56,358 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:28:56,358 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:28:57,521 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:00,164 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:02,271 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:04,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:06,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:09,287 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:11,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:14,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:15,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:18,221 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:21,627 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:23,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:25,568 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:27,694 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:30,030 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:31,896 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:34,596 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:36,796 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:39,255 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:41,891 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:44,502 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:46,199 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:48,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:50,716 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:53,349 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:55,719 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:29:56,368 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:29:56,368 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:29:57,969 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:00,254 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:02,425 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:04,588 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:06,816 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:09,201 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:11,204 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:13,461 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:15,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:18,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:20,595 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:22,551 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '4573979015', 'order_user_id': '4', 'user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'BUY_LIMIT', 'order_status': 'PENDING', 'order_price': '0.8', 'order_quantity': '2', 'contract_value': '', 'margin': '', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_order_id': '', 'modify_id': '3368787729', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': 'PENDING', 'timestamp': '2025-06-12T12:30:22.551475', 'account_type': 'live', 'action': 'modify_order'}
2025-06-12 05:30:23,161 - INFO - app.core.firebase - Order data (ID: 4573979015) sent to Firebase successfully.
2025-06-12 05:30:23,470 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:25,204 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:27,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:29,710 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:31,901 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:34,332 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:36,528 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:39,186 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:41,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:43,763 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:46,126 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:48,783 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:51,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:53,338 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:56,370 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:30:56,371 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:30:56,427 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:30:57,829 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:00,286 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:02,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:04,757 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:06,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:09,362 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:11,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:13,612 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:16,572 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:18,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:21,670 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:23,522 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:25,472 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:27,686 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:30,094 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:32,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:34,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:36,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:39,177 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:31:40,652 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:31:40,652 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:31:40,652 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:31:40,653 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:31:40,904 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:31:40,904 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:31:40,905 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:31:40,905 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:31:40,906 - INFO - app.main - Redis client connection closed.
2025-06-12 05:31:40,906 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:49:20,047 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:49:20,079 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:49:20,084 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:49:20,084 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:49:20,787 - INFO - app.main - Application startup event triggered.
2025-06-12 05:49:20,787 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:49:20,791 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:49:20,835 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:49:20,848 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:49:20,849 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:49:20,849 - INFO - app.main - Redis publisher background task started
2025-06-12 05:49:20,849 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:49:20,850 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:49:20,851 - INFO - app.main - Application startup event finished.
2025-06-12 05:49:20,851 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:49:20,852 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:49:22,047 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:50:20,856 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:50:20,857 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:51:20,849 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:51:20,850 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:52:20,849 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:52:20,850 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:53:20,855 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:53:20,856 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:54:20,847 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:54:20,848 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:54:45,494 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 05:54:45,512 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 05:54:45,534 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 05:54:45,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 05:54:45,575 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 05:54:45,589 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 05:54:45,606 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 05:54:45,623 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 05:54:45,637 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 05:54:45,652 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 05:54:45,669 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 05:54:45,685 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 05:54:45,700 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 05:54:45,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 05:54:45,734 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 05:54:45,749 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 05:54:45,763 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 05:54:45,775 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 05:54:45,787 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 05:54:45,803 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 05:54:45,821 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 05:54:45,834 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 05:54:45,845 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 05:54:45,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 05:54:45,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 05:54:45,891 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 05:54:45,904 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 05:54:45,916 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 05:54:45,933 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 05:54:45,946 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 05:54:45,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 05:54:45,980 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 05:54:45,995 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 05:54:46,010 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 05:54:46,021 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 05:54:46,035 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 05:54:46,048 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 05:54:46,062 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 05:54:46,077 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 05:54:46,091 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 05:54:46,106 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 05:54:46,122 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 05:54:46,135 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 05:54:46,148 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 05:54:46,163 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 05:54:46,182 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 05:54:46,193 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 05:54:46,207 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 05:54:46,226 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 05:54:46,241 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 05:54:46,259 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 05:54:46,273 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 05:54:46,287 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 05:54:46,300 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 05:54:46,317 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 05:54:46,334 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 05:54:46,346 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 05:54:46,360 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 05:54:46,375 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 05:54:46,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 05:54:46,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 05:54:46,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 05:54:46,434 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 05:54:46,446 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 05:54:46,461 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 05:54:46,477 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 05:54:46,490 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 05:54:46,501 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 05:54:46,514 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 05:54:46,529 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 05:54:46,544 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 05:54:46,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 05:54:46,575 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 05:54:46,591 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 05:54:46,602 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 05:54:46,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 05:54:46,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 05:54:46,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 05:54:46,658 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 05:54:48,165 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:54:50,781 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:54:52,610 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:54:55,142 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:54:57,364 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:54:59,765 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:01,931 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:04,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:06,504 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:08,924 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:11,141 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:13,527 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:15,817 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:18,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:20,846 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:55:20,847 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:55:22,201 - ERROR - app.database.session - Database session error: 400: Failed to process order: Not enough wallet balance to cover additional margin.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\order_processing.py", line 321, in process_new_order
    raise InsufficientFundsError("Not enough wallet balance to cover additional margin.")
app.services.order_processing.InsufficientFundsError: Not enough wallet balance to cover additional margin.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 370, in place_order
    order_create_internal = await process_new_order(
                            ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\app\services\order_processing.py", line 362, in process_new_order
    raise OrderProcessingError(f"Failed to process order: {str(e)}")
app.services.order_processing.OrderProcessingError: Failed to process order: Not enough wallet balance to cover additional margin.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 544, in place_order
    raise HTTPException(status_code=400, detail=str(e))
fastapi.exceptions.HTTPException: 400: Failed to process order: Not enough wallet balance to cover additional margin.
2025-06-12 05:55:22,396 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:24,316 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:25,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:28,346 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:30,125 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:30,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:31,017 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:31,913 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:34,296 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:36,330 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:38,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:40,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:43,501 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:45,619 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:46,572 - ERROR - app.database.session - Database session error: 400: Failed to process order: Not enough wallet balance to cover additional margin.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\order_processing.py", line 321, in process_new_order
    raise InsufficientFundsError("Not enough wallet balance to cover additional margin.")
app.services.order_processing.InsufficientFundsError: Not enough wallet balance to cover additional margin.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 370, in place_order
    order_create_internal = await process_new_order(
                            ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\app\services\order_processing.py", line 362, in process_new_order
    raise OrderProcessingError(f"Failed to process order: {str(e)}")
app.services.order_processing.OrderProcessingError: Failed to process order: Not enough wallet balance to cover additional margin.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 544, in place_order
    raise HTTPException(status_code=400, detail=str(e))
fastapi.exceptions.HTTPException: 400: Failed to process order: Not enough wallet balance to cover additional margin.
2025-06-12 05:55:48,091 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:50,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:52,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:54,281 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:54,832 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:55,568 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:57,229 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:55:59,555 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:56:02,026 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:56:04,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:56:04,429 - INFO - app.main - Application shutdown event triggered.
2025-06-12 05:56:04,429 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 05:56:04,429 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 05:56:04,432 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 05:56:04,432 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 05:56:05,858 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 05:56:05,858 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 05:56:05,858 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 05:56:05,860 - INFO - app.main - Redis client connection closed.
2025-06-12 05:56:05,860 - INFO - app.main - Application shutdown event finished.
2025-06-12 05:56:45,707 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 05:56:45,742 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 05:56:45,749 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 05:56:45,749 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 05:56:46,236 - INFO - app.main - Application startup event triggered.
2025-06-12 05:56:46,237 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 05:56:46,241 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 05:56:46,274 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 05:56:46,281 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 05:56:46,282 - INFO - app.main - Firebase events processor background task started
2025-06-12 05:56:46,282 - INFO - app.main - Redis publisher background task started
2025-06-12 05:56:46,282 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 05:56:46,283 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 05:56:46,284 - INFO - app.main - Application startup event finished.
2025-06-12 05:56:46,284 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:56:46,285 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 05:56:47,264 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 05:57:19,713 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 05:57:19,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 05:57:19,745 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 05:57:19,764 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 05:57:19,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 05:57:19,815 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 05:57:19,835 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 05:57:19,853 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 05:57:19,871 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 05:57:19,884 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 05:57:19,899 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 05:57:19,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 05:57:19,929 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 05:57:19,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 05:57:19,960 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 05:57:19,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 05:57:19,993 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 05:57:20,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 05:57:20,018 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 05:57:20,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 05:57:20,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 05:57:20,122 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 05:57:20,145 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 05:57:20,161 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 05:57:20,176 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 05:57:20,198 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 05:57:20,237 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 05:57:20,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 05:57:20,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 05:57:20,288 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 05:57:20,305 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 05:57:20,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 05:57:20,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 05:57:20,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 05:57:20,369 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 05:57:20,384 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 05:57:20,404 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 05:57:20,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 05:57:20,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 05:57:20,448 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 05:57:20,475 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 05:57:20,491 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 05:57:20,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 05:57:20,525 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 05:57:20,537 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 05:57:20,556 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 05:57:20,571 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 05:57:20,592 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 05:57:20,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 05:57:20,625 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 05:57:20,643 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 05:57:20,663 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 05:57:20,682 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 05:57:20,700 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 05:57:20,715 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 05:57:20,729 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 05:57:20,743 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 05:57:20,757 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 05:57:20,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 05:57:20,788 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 05:57:20,800 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 05:57:20,820 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 05:57:20,835 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 05:57:20,849 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 05:57:20,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 05:57:20,875 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 05:57:20,896 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 05:57:20,912 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 05:57:20,925 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 05:57:20,937 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 05:57:20,949 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 05:57:20,961 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 05:57:20,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 05:57:20,994 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 05:57:21,004 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 05:57:21,020 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 05:57:21,042 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 05:57:21,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 05:57:21,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 05:57:23,203 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:25,420 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:28,570 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:29,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:32,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:34,492 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:37,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:39,483 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:41,756 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:43,880 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:46,279 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:57:46,280 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:57:46,560 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:46,762 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:48,479 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:50,892 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:52,940 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:55,407 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:57:57,566 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:00,156 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:02,148 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:04,284 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:06,905 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:09,601 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:10,712 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:11,573 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:13,403 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:16,113 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:18,246 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:21,132 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:21,641 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:23,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:25,327 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:28,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:29,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:32,080 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:34,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:36,575 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:38,999 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:41,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:43,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:46,144 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:46,289 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:58:46,290 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:58:48,463 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:50,569 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:53,075 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:55,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:57,623 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:58:59,816 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:02,203 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:04,404 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:06,720 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:08,996 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:11,297 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:13,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:16,042 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:18,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:20,701 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:22,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:25,182 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:27,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:30,409 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:32,139 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:34,472 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:36,617 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:38,996 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:41,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:43,393 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:46,265 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:46,279 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 05:59:46,280 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 05:59:48,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:51,262 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:53,625 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:55,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 05:59:57,933 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:00,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:02,430 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:04,460 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:06,897 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:09,132 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:11,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:14,267 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:16,455 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:18,727 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:21,060 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:23,296 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:25,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:28,979 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:31,121 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:33,042 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:35,247 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:37,734 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:40,264 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:42,358 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:44,623 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:46,280 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 06:00:46,281 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 06:00:46,787 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:49,294 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:51,902 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:53,956 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:56,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:00:58,865 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:01,220 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:03,144 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:05,778 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:07,539 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:10,303 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:12,538 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:14,908 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:17,047 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:19,416 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:22,086 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:24,166 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:26,145 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:28,837 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:31,688 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:33,307 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:35,586 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:38,270 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:40,217 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:42,306 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:44,650 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:46,288 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 06:01:46,290 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 06:01:47,008 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:49,111 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:51,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:53,811 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:56,610 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:01:58,695 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:00,869 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:03,460 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:06,116 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:08,872 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:10,587 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:12,973 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:14,660 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:17,325 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:20,035 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:22,161 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:24,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:26,976 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:29,666 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:34,399 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:37,118 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:40,220 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:41,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:44,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:46,278 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 06:02:46,279 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 06:02:46,855 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:48,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:51,892 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:53,383 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:56,050 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:02:57,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:00,465 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:02,728 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:05,522 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:07,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:09,455 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:12,188 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:14,242 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:17,119 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:19,219 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:21,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:23,559 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:26,046 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:27,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:31,222 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:33,344 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:35,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:37,488 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:39,461 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:42,074 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:44,077 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:46,281 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 06:03:46,283 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 06:03:46,289 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:48,911 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:51,326 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:53,415 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:55,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:03:57,993 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:00,331 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:02,552 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:04,938 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:07,185 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:09,422 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:12,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:14,437 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:16,539 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:18,730 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:21,519 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:23,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:26,058 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:28,347 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:31,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:32,965 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:34,803 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:37,175 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:39,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:42,056 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:44,117 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:46,280 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 06:04:46,285 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 06:04:46,342 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:48,847 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:51,158 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:53,404 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:55,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:04:58,129 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:00,406 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:02,773 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:04,704 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:07,177 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:09,587 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:11,907 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:13,942 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 06:05:16,521 - INFO - app.main - Application shutdown event triggered.
2025-06-12 06:05:16,522 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 06:05:16,522 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 06:05:16,523 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 06:05:17,845 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 06:05:17,845 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 06:05:17,845 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 06:05:17,848 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 06:05:17,849 - INFO - app.main - Redis client connection closed.
2025-06-12 06:05:17,849 - INFO - app.main - Application shutdown event finished.
2025-06-12 09:45:14,948 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 09:45:14,976 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 09:45:14,984 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 09:45:14,984 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 09:45:15,738 - INFO - app.main - Application startup event triggered.
2025-06-12 09:45:15,739 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 09:45:15,746 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 09:45:17,835 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 09:45:17,850 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 09:45:17,851 - INFO - app.main - Firebase events processor background task started
2025-06-12 09:45:17,851 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 09:45:17,853 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 09:45:17,854 - INFO - app.main - Application startup event finished.
2025-06-12 09:45:17,855 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:45:17,855 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 09:45:19,149 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:46:01,579 - INFO - app.main - Application shutdown event triggered.
2025-06-12 09:46:01,579 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 09:46:01,579 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 09:46:01,580 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 09:46:03,916 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 09:46:03,916 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 09:46:03,917 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 09:46:03,917 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 09:46:03,917 - INFO - app.main - Application shutdown event finished.
2025-06-12 09:46:07,922 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 09:46:07,960 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 09:46:07,966 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 09:46:07,966 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 09:46:08,833 - INFO - app.main - Application startup event triggered.
2025-06-12 09:46:08,833 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 09:46:08,838 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 09:46:08,882 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 09:46:08,893 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 09:46:08,893 - INFO - app.main - Firebase events processor background task started
2025-06-12 09:46:08,893 - INFO - app.main - Redis publisher background task started
2025-06-12 09:46:08,893 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 09:46:08,894 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 09:46:08,895 - INFO - app.main - Application startup event finished.
2025-06-12 09:46:08,895 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:46:08,897 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 09:46:09,783 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:47:08,896 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:47:08,897 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:48:08,894 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:48:08,895 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:48:47,106 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 09:48:47,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 09:48:47,170 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 09:48:47,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 09:48:47,220 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 09:48:47,245 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 09:48:47,293 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 09:48:47,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 09:48:47,339 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 09:48:47,370 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 09:48:47,388 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 09:48:47,410 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 09:48:47,436 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 09:48:47,468 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 09:48:47,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 09:48:47,529 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 09:48:47,554 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 09:48:47,578 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 09:48:47,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 09:48:47,640 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 09:48:47,692 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 09:48:47,782 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 09:48:47,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 09:48:47,866 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 09:48:47,921 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 09:48:47,952 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 09:48:47,984 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 09:48:48,021 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 09:48:48,062 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 09:48:48,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 09:48:48,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 09:48:48,184 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 09:48:48,228 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 09:48:48,243 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 09:48:48,257 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 09:48:48,286 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 09:48:48,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 09:48:48,343 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 09:48:48,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 09:48:48,399 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 09:48:48,429 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 09:48:48,447 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 09:48:48,516 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 09:48:48,531 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 09:48:48,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 09:48:48,571 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 09:48:48,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 09:48:48,628 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 09:48:48,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 09:48:48,674 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 09:48:48,692 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 09:48:48,704 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 09:48:48,722 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 09:48:48,746 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 09:48:48,767 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 09:48:48,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 09:48:48,803 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 09:48:48,818 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 09:48:48,834 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 09:48:48,852 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 09:48:48,872 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 09:48:48,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 09:48:48,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 09:48:48,936 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 09:48:48,956 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 09:48:48,975 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 09:48:49,004 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 09:48:49,028 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 09:48:49,049 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 09:48:49,068 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 09:48:49,090 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 09:48:49,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 09:48:49,154 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 09:48:49,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 09:48:49,216 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 09:48:49,265 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 09:48:49,299 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 09:48:49,330 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 09:48:49,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 09:48:50,544 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:48:52,712 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:48:55,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:48:57,979 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:48:59,999 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:02,155 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:04,155 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:06,424 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:08,854 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:08,896 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:49:08,897 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:49:11,146 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:13,369 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:15,804 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:18,151 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:20,686 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:22,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:24,882 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:27,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:29,792 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:31,923 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:34,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:36,619 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:38,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:40,996 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:43,397 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:45,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:47,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:50,346 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:52,523 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:54,906 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:57,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:49:59,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:01,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:04,077 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:06,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:08,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:08,894 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:50:08,894 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:50:11,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:13,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:15,869 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:17,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:20,283 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:23,151 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:23,305 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:23,375 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:24,864 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:27,203 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:29,424 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:31,891 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:34,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:36,398 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:38,882 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:41,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:43,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:45,665 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:47,868 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:50,195 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:52,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:54,780 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:57,891 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:50:59,991 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:02,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:04,802 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:07,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:08,896 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:51:08,897 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:51:09,304 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:11,864 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:13,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:16,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:18,464 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:20,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:22,924 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:25,274 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:27,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:30,129 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:32,235 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:34,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:36,923 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:39,151 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:41,824 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:43,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:46,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:48,382 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:50,641 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:51:51,567 - INFO - app.main - Application shutdown event triggered.
2025-06-12 09:51:51,567 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 09:51:51,567 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 09:51:51,568 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 09:51:52,610 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 09:51:52,610 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 09:51:52,610 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 09:51:52,611 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 09:51:52,612 - INFO - app.main - Redis client connection closed.
2025-06-12 09:51:52,612 - INFO - app.main - Application shutdown event finished.
2025-06-12 09:51:54,766 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 09:51:54,796 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 09:51:54,801 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 09:51:54,801 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 09:51:55,620 - INFO - app.main - Application startup event triggered.
2025-06-12 09:51:55,620 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 09:51:55,637 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 09:51:55,685 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 09:51:55,703 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 09:51:55,703 - INFO - app.main - Firebase events processor background task started
2025-06-12 09:51:55,704 - INFO - app.main - Redis publisher background task started
2025-06-12 09:51:55,704 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 09:51:55,705 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 09:51:55,706 - INFO - app.main - Application startup event finished.
2025-06-12 09:51:55,706 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:51:55,707 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 09:51:56,800 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:52:55,708 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:52:55,709 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:53:55,704 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:53:55,706 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:54:30,332 - INFO - app.main - Application shutdown event triggered.
2025-06-12 09:54:30,333 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 09:54:30,333 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 09:54:30,333 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 09:54:31,846 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 09:54:31,846 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 09:54:31,846 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 09:54:31,848 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 09:54:31,849 - INFO - app.main - Redis client connection closed.
2025-06-12 09:54:31,850 - INFO - app.main - Application shutdown event finished.
2025-06-12 09:54:33,956 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 09:54:33,978 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 09:54:33,985 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 09:54:33,985 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 09:54:34,651 - INFO - app.main - Application startup event triggered.
2025-06-12 09:54:34,651 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 09:54:34,656 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 09:54:34,685 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 09:54:34,691 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 09:54:34,691 - INFO - app.main - Firebase events processor background task started
2025-06-12 09:54:34,691 - INFO - app.main - Redis publisher background task started
2025-06-12 09:54:34,691 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 09:54:34,692 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 09:54:34,692 - INFO - app.main - Application startup event finished.
2025-06-12 09:54:34,693 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:54:34,693 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 09:54:35,542 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:55:34,694 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:55:34,695 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:56:34,691 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:56:34,691 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:57:34,701 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:57:34,702 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:58:34,692 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:58:34,693 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 09:58:37,729 - INFO - app.main - Application shutdown event triggered.
2025-06-12 09:58:37,730 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 09:58:37,730 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 09:58:37,731 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 09:58:39,451 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 09:58:39,452 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 09:58:39,452 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 09:58:39,454 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 09:58:39,456 - INFO - app.main - Redis client connection closed.
2025-06-12 09:58:39,457 - INFO - app.main - Application shutdown event finished.
2025-06-12 09:58:41,330 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 09:58:41,363 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 09:58:41,368 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 09:58:41,368 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 09:58:42,163 - INFO - app.main - Application startup event triggered.
2025-06-12 09:58:42,163 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 09:58:42,203 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 09:58:42,248 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 09:58:42,262 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 09:58:42,262 - INFO - app.main - Firebase events processor background task started
2025-06-12 09:58:42,262 - INFO - app.main - Redis publisher background task started
2025-06-12 09:58:42,263 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 09:58:42,264 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 09:58:42,265 - INFO - app.main - Application startup event finished.
2025-06-12 09:58:42,266 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:58:42,266 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 09:58:43,544 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 09:58:53,174 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:Group B:AUDCAD
2025-06-12 09:58:53,203 - ERROR - app.core.cache - Fallback error fetching from Firebase for AUDCAD: name 'get_latest_market_data' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\cache.py", line 478, in get_live_adjusted_buy_price_for_pair
    fallback_data = get_latest_market_data(symbol)
                    ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'get_latest_market_data' is not defined
2025-06-12 09:58:53,637 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 09:59:42,270 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 09:59:42,271 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:00:02,764 - INFO - app.main - Application shutdown event triggered.
2025-06-12 10:00:02,764 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 10:00:02,764 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 10:00:02,765 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 10:00:04,856 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 10:00:04,857 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 10:00:04,858 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 10:00:04,878 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 10:00:04,880 - INFO - app.main - Redis client connection closed.
2025-06-12 10:00:04,881 - INFO - app.main - Application shutdown event finished.
2025-06-12 10:00:06,630 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 10:00:06,649 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 10:00:06,656 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 10:00:06,657 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 10:00:07,271 - INFO - app.main - Application startup event triggered.
2025-06-12 10:00:07,281 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 10:00:07,286 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 10:00:07,340 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 10:00:07,352 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 10:00:07,352 - INFO - app.main - Firebase events processor background task started
2025-06-12 10:00:07,352 - INFO - app.main - Redis publisher background task started
2025-06-12 10:00:07,352 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 10:00:07,353 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 10:00:07,354 - INFO - app.main - Application startup event finished.
2025-06-12 10:00:07,354 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 10:00:07,354 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 10:00:08,349 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 10:01:07,360 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:01:07,360 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:02:07,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:02:07,350 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:03:07,354 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:03:07,354 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:04:07,353 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:04:07,354 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:05:07,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:05:07,358 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:06:07,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:06:07,358 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:07:07,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:07:07,358 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:08:07,353 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:08:07,353 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:09:07,348 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:09:07,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:10:07,362 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:10:07,362 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:10:10,797 - INFO - app.main - Application shutdown event triggered.
2025-06-12 10:10:10,799 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 10:10:10,799 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 10:10:10,815 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 10:10:11,464 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 10:10:11,464 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 10:10:11,465 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 10:10:11,471 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 10:10:11,499 - INFO - app.main - Redis client connection closed.
2025-06-12 10:10:11,500 - INFO - app.main - Application shutdown event finished.
2025-06-12 10:10:14,891 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 10:10:14,947 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 10:10:14,959 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 10:10:14,959 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 10:10:16,009 - INFO - app.main - Application startup event triggered.
2025-06-12 10:10:16,009 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 10:10:16,015 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 10:10:16,102 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 10:10:16,113 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 10:10:16,113 - INFO - app.main - Firebase events processor background task started
2025-06-12 10:10:16,114 - INFO - app.main - Redis publisher background task started
2025-06-12 10:10:16,114 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 10:10:16,115 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 10:10:16,116 - INFO - app.main - Application startup event finished.
2025-06-12 10:10:16,116 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 10:10:16,116 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 10:10:17,842 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 10:11:16,115 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:11:16,115 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:12:16,115 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 10:12:16,116 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 10:12:39,970 - INFO - app.main - Application shutdown event triggered.
2025-06-12 10:12:39,970 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 10:12:39,970 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 10:12:39,971 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 10:12:41,617 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 10:12:41,618 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 10:12:41,618 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 10:12:41,619 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 10:12:41,620 - INFO - app.main - Redis client connection closed.
2025-06-12 10:12:41,620 - INFO - app.main - Application shutdown event finished.
2025-06-12 21:21:50,079 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 21:21:50,108 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 21:21:50,116 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 21:21:50,116 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 21:21:50,928 - INFO - app.main - Application startup event triggered.
2025-06-12 21:21:50,928 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 21:21:50,934 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 21:21:53,022 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-12 21:21:53,039 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 21:21:53,039 - INFO - app.main - Firebase events processor background task started
2025-06-12 21:21:53,039 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-12 21:21:53,041 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 21:21:53,042 - INFO - app.main - Application startup event finished.
2025-06-12 21:21:53,042 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:21:53,043 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 21:21:54,202 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:22:53,049 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:22:53,050 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 21:23:53,046 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:23:53,046 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 21:24:53,049 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:24:53,049 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-12 21:25:34,172 - INFO - app.main - Application shutdown event triggered.
2025-06-12 21:25:34,173 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 21:25:34,173 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-12 21:25:34,174 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 21:25:35,192 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 21:25:35,192 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 21:25:35,193 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 21:25:35,193 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-12 21:25:35,194 - INFO - app.main - Application shutdown event finished.
2025-06-12 21:25:47,091 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 21:25:47,124 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 21:25:47,130 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 21:25:47,130 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 21:25:48,000 - INFO - app.main - Application startup event triggered.
2025-06-12 21:25:48,000 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 21:25:48,011 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 21:25:48,074 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 21:25:48,088 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 21:25:48,088 - INFO - app.main - Firebase events processor background task started
2025-06-12 21:25:48,088 - INFO - app.main - Redis publisher background task started
2025-06-12 21:25:48,088 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 21:25:48,089 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 21:25:48,089 - INFO - app.main - Application startup event finished.
2025-06-12 21:25:48,089 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:25:48,090 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 21:25:49,027 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:26:26,598 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:Group B:AUDCAD
2025-06-12 21:26:26,599 - ERROR - app.core.cache - Fallback error fetching from Firebase for AUDCAD: name 'get_latest_market_data' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\cache.py", line 478, in get_live_adjusted_buy_price_for_pair
    fallback_data = get_latest_market_data(symbol)
                    ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'get_latest_market_data' is not defined
2025-06-12 21:26:27,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 21:26:48,096 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:26:48,097 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 21:26:57,565 - INFO - app.main - Application shutdown event triggered.
2025-06-12 21:26:57,566 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 21:26:57,566 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 21:26:57,567 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 21:26:58,236 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 21:26:58,236 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 21:26:58,236 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 21:26:58,237 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 21:26:58,237 - INFO - app.main - Redis client connection closed.
2025-06-12 21:26:58,237 - INFO - app.main - Application shutdown event finished.
2025-06-12 21:31:12,005 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 21:31:12,058 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 21:31:12,067 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 21:31:12,067 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 21:31:12,966 - INFO - app.main - Application startup event triggered.
2025-06-12 21:31:12,966 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 21:31:12,973 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 21:31:13,011 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 21:31:13,022 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 21:31:13,022 - INFO - app.main - Firebase events processor background task started
2025-06-12 21:31:13,022 - INFO - app.main - Redis publisher background task started
2025-06-12 21:31:13,022 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 21:31:13,023 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 21:31:13,024 - INFO - app.main - Application startup event finished.
2025-06-12 21:31:13,024 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:31:13,024 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 21:31:14,139 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:31:18,335 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:Group B:AUDCAD
2025-06-12 21:31:18,336 - ERROR - app.core.cache - Fallback error fetching from Firebase for AUDCAD: name 'get_latest_market_data' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\cache.py", line 478, in get_live_adjusted_buy_price_for_pair
    fallback_data = get_latest_market_data(symbol)
                    ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'get_latest_market_data' is not defined
2025-06-12 21:31:18,767 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 21:32:13,029 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:32:13,030 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 21:33:13,025 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:33:13,025 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 21:33:17,031 - INFO - app.main - Application shutdown event triggered.
2025-06-12 21:33:17,031 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 21:33:17,031 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 21:33:17,032 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 21:33:17,315 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 21:33:17,315 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 21:33:17,315 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 21:33:17,316 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 21:33:17,317 - INFO - app.main - Redis client connection closed.
2025-06-12 21:33:17,317 - INFO - app.main - Application shutdown event finished.
2025-06-12 21:37:05,628 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 21:37:05,646 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 21:37:05,652 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 21:37:05,652 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 21:37:06,201 - INFO - app.main - Application startup event triggered.
2025-06-12 21:37:06,202 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 21:37:06,205 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 21:37:06,269 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 21:37:06,276 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 21:37:06,276 - INFO - app.main - Firebase events processor background task started
2025-06-12 21:37:06,276 - INFO - app.main - Redis publisher background task started
2025-06-12 21:37:06,277 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 21:37:06,278 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 21:37:06,279 - INFO - app.main - Application startup event finished.
2025-06-12 21:37:06,279 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:37:06,280 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 21:37:07,614 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:37:12,650 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:Group B:AUDCAD
2025-06-12 21:37:12,651 - ERROR - app.core.cache - Fallback error fetching from Firebase for AUDCAD: name 'get_latest_market_data' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\cache.py", line 478, in get_live_adjusted_buy_price_for_pair
    fallback_data = get_latest_market_data(symbol)
                    ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'get_latest_market_data' is not defined
2025-06-12 21:37:13,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 153, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 21:37:27,702 - INFO - app.main - Application shutdown event triggered.
2025-06-12 21:37:27,703 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 21:37:27,703 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 21:37:27,704 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 21:37:28,906 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 21:37:28,906 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 21:37:28,907 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 21:37:28,950 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 21:37:28,951 - INFO - app.main - Redis client connection closed.
2025-06-12 21:37:28,951 - INFO - app.main - Application shutdown event finished.
2025-06-12 21:55:27,237 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 21:55:27,292 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 21:55:27,302 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 21:55:27,302 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 21:55:28,798 - INFO - app.main - Application startup event triggered.
2025-06-12 21:55:28,798 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 21:55:28,807 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 21:55:28,900 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 21:55:28,939 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 21:55:28,939 - INFO - app.main - Firebase events processor background task started
2025-06-12 21:55:28,939 - INFO - app.main - Redis publisher background task started
2025-06-12 21:55:28,939 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 21:55:28,948 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 21:55:28,951 - INFO - app.main - Application startup event finished.
2025-06-12 21:55:28,952 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:55:28,954 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 21:55:30,931 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 21:56:11,985 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:Group B:AUDCAD
2025-06-12 21:56:11,999 - ERROR - app.core.cache - Fallback error fetching from Firebase for AUDCAD: name 'get_latest_market_data' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\cache.py", line 478, in get_live_adjusted_buy_price_for_pair
    fallback_data = get_latest_market_data(symbol)
                    ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'get_latest_market_data' is not defined
2025-06-12 21:56:13,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 21:56:28,942 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 21:56:28,942 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 163, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 21:57:06,716 - INFO - app.main - Application shutdown event triggered.
2025-06-12 21:57:06,717 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 21:57:06,717 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 21:57:06,717 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 21:57:07,208 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 21:57:07,208 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 21:57:07,209 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 21:57:07,211 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 21:57:07,212 - INFO - app.main - Redis client connection closed.
2025-06-12 21:57:07,212 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:03:16,439 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:03:16,502 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:03:16,516 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:03:16,517 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:04:46,112 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:04:46,160 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:04:46,176 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:04:46,176 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:05:32,292 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:05:32,351 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:05:32,365 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:05:32,366 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:05:34,008 - INFO - app.main - Application startup event triggered.
2025-06-12 22:05:34,008 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:05:34,019 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:05:34,085 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:05:34,104 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:05:34,104 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:05:34,104 - INFO - app.main - Redis publisher background task started
2025-06-12 22:05:34,104 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:05:34,107 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:05:34,108 - INFO - app.main - Application startup event finished.
2025-06-12 22:05:34,109 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:05:34,110 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:05:35,365 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:06:16,831 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:06:16,831 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:06:16,831 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:06:16,833 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:06:16,834 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:06:18,477 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:06:18,478 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:06:18,478 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:06:18,480 - INFO - app.main - Redis client connection closed.
2025-06-12 22:06:18,481 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:06:21,925 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:06:21,972 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:06:21,983 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:06:21,984 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:06:23,214 - INFO - app.main - Application startup event triggered.
2025-06-12 22:06:23,214 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 380, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:06:23,222 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:06:23,266 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:06:23,278 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:06:23,279 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:06:23,279 - INFO - app.main - Redis publisher background task started
2025-06-12 22:06:23,279 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:06:23,282 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 475, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:06:23,282 - INFO - app.main - Application startup event finished.
2025-06-12 22:06:23,283 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:06:23,284 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:06:24,226 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:07:15,833 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:07:15,834 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:07:15,834 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:07:15,835 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:07:16,315 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:07:16,315 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:07:16,315 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:07:16,317 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:07:16,318 - INFO - app.main - Redis client connection closed.
2025-06-12 22:07:16,318 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:07:19,151 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:07:19,189 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:07:19,203 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:07:19,204 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:07:20,221 - INFO - app.main - Application startup event triggered.
2025-06-12 22:07:20,222 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 381, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:07:20,227 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:07:20,272 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:07:20,297 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:07:20,298 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:07:20,298 - INFO - app.main - Redis publisher background task started
2025-06-12 22:07:20,298 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:07:20,301 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 476, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:07:20,302 - INFO - app.main - Application startup event finished.
2025-06-12 22:07:20,303 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:07:20,304 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:07:21,356 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:07:39,389 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:07:39,390 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:07:39,390 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:07:39,391 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:07:41,683 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:07:41,683 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:07:41,683 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:07:41,685 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:07:41,686 - INFO - app.main - Redis client connection closed.
2025-06-12 22:07:41,686 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:07:45,122 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:07:45,172 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:07:45,183 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:07:45,183 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:07:46,417 - INFO - app.main - Application startup event triggered.
2025-06-12 22:07:46,417 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 395, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:07:46,424 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:07:46,459 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:07:46,470 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:07:46,470 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:07:46,471 - INFO - app.main - Redis publisher background task started
2025-06-12 22:07:46,471 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:07:46,471 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 490, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:07:46,472 - INFO - app.main - Application startup event finished.
2025-06-12 22:07:46,472 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:07:46,473 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:07:47,473 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:07:59,454 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:07:59,455 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:07:59,455 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:07:59,456 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:08:00,259 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:08:00,260 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:08:00,260 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:08:00,262 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:08:00,262 - INFO - app.main - Redis client connection closed.
2025-06-12 22:08:00,262 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:08:03,159 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:08:03,186 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:08:03,197 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:08:03,197 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:08:04,286 - INFO - app.main - Application startup event triggered.
2025-06-12 22:08:04,286 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:08:04,295 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:08:04,338 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:08:04,346 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:08:04,346 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:08:04,346 - INFO - app.main - Redis publisher background task started
2025-06-12 22:08:04,346 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:08:04,347 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:08:04,348 - INFO - app.main - Application startup event finished.
2025-06-12 22:08:04,348 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:08:04,349 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:08:05,383 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:08:14,794 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:08:14,794 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:08:14,794 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:08:14,795 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:08:16,455 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:08:16,456 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:08:16,457 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:08:16,468 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:08:16,469 - INFO - app.main - Redis client connection closed.
2025-06-12 22:08:16,469 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:08:23,259 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:08:23,313 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:08:23,327 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:08:23,327 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:08:24,545 - INFO - app.main - Application startup event triggered.
2025-06-12 22:08:24,545 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:08:24,555 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:08:24,626 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:08:24,643 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:08:24,644 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:08:24,644 - INFO - app.main - Redis publisher background task started
2025-06-12 22:08:24,644 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:08:24,646 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:08:24,647 - INFO - app.main - Application startup event finished.
2025-06-12 22:08:24,648 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:08:24,649 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:08:25,782 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:08:39,556 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-12 22:09:00,166 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:Group B:AUDCAD
2025-06-12 22:09:00,167 - ERROR - app.core.cache - Fallback error fetching from Firebase for AUDCAD: name 'get_latest_market_data' is not defined
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\cache.py", line 478, in get_live_adjusted_buy_price_for_pair
    fallback_data = get_latest_market_data(symbol)
                    ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'get_latest_market_data' is not defined
2025-06-12 22:09:01,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:09:17,961 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:09:17,962 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:09:17,963 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:09:17,965 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:09:18,877 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:09:18,877 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:09:18,877 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:09:18,878 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:09:18,879 - INFO - app.main - Redis client connection closed.
2025-06-12 22:09:18,879 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:09:22,127 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:09:22,175 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:09:22,191 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:09:22,191 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:09:23,499 - INFO - app.main - Application startup event triggered.
2025-06-12 22:09:23,499 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:09:23,505 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:09:23,568 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:09:23,582 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:09:23,583 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:09:23,583 - INFO - app.main - Redis publisher background task started
2025-06-12 22:09:23,583 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:09:23,584 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:09:23,585 - INFO - app.main - Application startup event finished.
2025-06-12 22:09:23,586 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:09:23,588 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:09:24,537 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:10:23,585 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:10:23,585 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:10:39,067 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:10:39,067 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:10:39,068 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:10:39,069 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:10:39,898 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:10:39,899 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:10:39,900 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:10:39,904 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:10:39,907 - INFO - app.main - Redis client connection closed.
2025-06-12 22:10:39,908 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:13:21,565 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:13:21,595 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:13:21,607 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:13:21,607 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:13:22,715 - INFO - app.main - Application startup event triggered.
2025-06-12 22:13:22,715 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:13:22,722 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:13:22,807 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:13:22,822 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:13:22,822 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:13:22,822 - INFO - app.main - Redis publisher background task started
2025-06-12 22:13:22,822 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:13:22,824 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:13:22,825 - INFO - app.main - Application startup event finished.
2025-06-12 22:13:22,825 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:13:22,826 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:13:24,370 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:14:22,822 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:14:22,823 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:15:22,829 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:15:22,829 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:16:22,831 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:16:22,832 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:17:22,827 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:17:22,828 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:18:22,831 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:18:22,833 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:19:22,819 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:19:22,820 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:20:22,823 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:20:22,824 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:21:22,826 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:21:22,826 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:22:22,822 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:22:22,823 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:23:01,213 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:23:01,214 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:23:01,214 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:23:01,214 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:23:03,106 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:23:03,107 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:23:03,107 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:23:03,116 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:23:03,117 - INFO - app.main - Redis client connection closed.
2025-06-12 22:23:03,117 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:23:06,129 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:23:06,150 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:23:06,159 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:23:06,159 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:23:07,175 - INFO - app.main - Application startup event triggered.
2025-06-12 22:23:07,175 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:23:07,180 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:23:07,264 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:23:07,276 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:23:07,276 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:23:07,276 - INFO - app.main - Redis publisher background task started
2025-06-12 22:23:07,276 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:23:07,277 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:23:07,278 - INFO - app.main - Application startup event finished.
2025-06-12 22:23:07,278 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:23:07,279 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:23:08,535 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:24:07,272 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:24:07,272 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:24:12,152 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:24:12,152 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:24:12,152 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:24:12,153 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:24:12,153 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:24:13,041 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:24:13,041 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:24:13,042 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:24:13,042 - INFO - app.main - Redis client connection closed.
2025-06-12 22:24:13,042 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:24:15,381 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:24:15,400 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:24:15,407 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:24:15,407 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:24:16,151 - INFO - app.main - Application startup event triggered.
2025-06-12 22:24:16,151 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:24:16,155 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:24:16,188 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:24:16,196 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:24:16,196 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:24:16,196 - INFO - app.main - Redis publisher background task started
2025-06-12 22:24:16,196 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:24:16,197 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:24:16,197 - INFO - app.main - Application startup event finished.
2025-06-12 22:24:16,198 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:24:16,198 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:24:17,249 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:25:16,214 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:25:16,214 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:25:22,469 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:25:22,470 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:25:22,470 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:25:22,472 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:25:22,472 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:25:22,677 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:25:22,677 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:25:22,677 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:25:22,679 - INFO - app.main - Redis client connection closed.
2025-06-12 22:25:22,679 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:25:24,422 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:25:24,436 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:25:24,441 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:25:24,441 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:25:24,969 - INFO - app.main - Application startup event triggered.
2025-06-12 22:25:24,969 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:25:24,972 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:25:25,034 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:25:25,042 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:25:25,043 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:25:25,043 - INFO - app.main - Redis publisher background task started
2025-06-12 22:25:25,043 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:25:25,044 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:25:25,044 - INFO - app.main - Application startup event finished.
2025-06-12 22:25:25,045 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:25:25,045 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:25:25,919 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:25:57,945 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:25:57,945 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:25:57,945 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:25:57,946 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:25:57,946 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:25:59,641 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:25:59,642 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:25:59,642 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:25:59,644 - INFO - app.main - Redis client connection closed.
2025-06-12 22:25:59,644 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:26:33,417 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:26:33,444 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:26:33,452 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:26:33,453 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:26:34,180 - INFO - app.main - Application startup event triggered.
2025-06-12 22:26:34,180 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:26:34,186 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:26:34,213 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:26:34,219 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:26:34,219 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:26:34,219 - INFO - app.main - Redis publisher background task started
2025-06-12 22:26:34,219 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:26:34,219 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:26:34,220 - INFO - app.main - Application startup event finished.
2025-06-12 22:26:34,220 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:26:34,220 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:26:35,226 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:26:43,503 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:26:43,503 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:26:43,504 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:26:43,504 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:26:45,516 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:26:45,516 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:26:45,517 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:26:45,524 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:26:45,525 - INFO - app.main - Redis client connection closed.
2025-06-12 22:26:45,525 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:26:47,422 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:26:47,437 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:26:47,442 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:26:47,442 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:26:48,045 - INFO - app.main - Application startup event triggered.
2025-06-12 22:26:48,045 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 394, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:26:48,049 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:26:48,084 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:26:48,088 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:26:48,088 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:26:48,088 - INFO - app.main - Redis publisher background task started
2025-06-12 22:26:48,088 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:26:48,089 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 489, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:26:48,089 - INFO - app.main - Application startup event finished.
2025-06-12 22:26:48,089 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:26:48,090 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:26:48,882 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:27:48,089 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:27:48,089 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 177, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:28:09,235 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:28:09,236 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:28:09,236 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:28:09,237 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:28:09,238 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:28:10,508 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:28:10,508 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:28:10,508 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:28:10,509 - INFO - app.main - Redis client connection closed.
2025-06-12 22:28:10,509 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:29:39,334 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:29:39,363 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:29:39,370 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:29:39,370 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:29:40,011 - INFO - app.main - Application startup event triggered.
2025-06-12 22:29:40,011 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:29:40,016 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:29:40,054 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:29:40,062 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:29:40,062 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:29:40,062 - INFO - app.main - Redis publisher background task started
2025-06-12 22:29:40,062 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:29:40,063 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:29:40,063 - INFO - app.main - Application startup event finished.
2025-06-12 22:29:40,064 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:29:40,064 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:29:41,131 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:30:40,071 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:30:40,073 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:30:49,238 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:30:49,239 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:30:49,240 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:30:49,241 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:30:50,761 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:30:50,761 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:30:50,762 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:30:50,763 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:30:50,764 - INFO - app.main - Redis client connection closed.
2025-06-12 22:30:50,764 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:30:52,098 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:30:52,110 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:30:52,115 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:30:52,115 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:30:52,539 - INFO - app.main - Application startup event triggered.
2025-06-12 22:30:52,539 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:30:52,542 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:30:52,558 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:30:52,562 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:30:52,562 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:30:52,562 - INFO - app.main - Redis publisher background task started
2025-06-12 22:30:52,562 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:30:52,563 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:30:52,563 - INFO - app.main - Application startup event finished.
2025-06-12 22:30:52,564 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:30:52,564 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:30:53,426 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:31:52,571 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:31:52,572 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:32:52,571 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:32:52,572 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:33:04,893 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:33:04,894 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:33:04,894 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:33:04,895 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:33:06,415 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:33:06,415 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:33:06,415 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:33:06,416 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:33:06,417 - INFO - app.main - Redis client connection closed.
2025-06-12 22:33:06,417 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:33:07,978 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:33:07,991 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:33:07,995 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:33:07,995 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:33:08,434 - INFO - app.main - Application startup event triggered.
2025-06-12 22:33:08,434 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:33:08,438 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:33:08,482 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:33:08,488 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:33:08,489 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:33:08,489 - INFO - app.main - Redis publisher background task started
2025-06-12 22:33:08,489 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:33:08,490 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:33:08,490 - INFO - app.main - Application startup event finished.
2025-06-12 22:33:08,490 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:33:08,491 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:33:09,416 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:33:36,914 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:33:36,932 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:33:36,940 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:33:36,940 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:33:37,465 - INFO - app.main - Application startup event triggered.
2025-06-12 22:33:37,465 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:33:37,470 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:33:37,502 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:33:37,512 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:33:37,513 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:33:37,513 - INFO - app.main - Redis publisher background task started
2025-06-12 22:33:37,513 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:33:37,514 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:33:37,514 - INFO - app.main - Application startup event finished.
2025-06-12 22:33:37,515 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:33:37,516 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:33:38,468 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:34:03,575 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:34:03,575 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:34:03,576 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:34:03,576 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:34:03,576 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:34:03,576 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:34:03,576 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:34:03,780 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:34:03,781 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:34:03,781 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:34:03,781 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:34:03,781 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:34:03,781 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:34:03,783 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:34:03,784 - INFO - app.main - Redis client connection closed.
2025-06-12 22:34:03,784 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:34:03,790 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:34:03,791 - INFO - app.main - Redis client connection closed.
2025-06-12 22:34:03,791 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:34:05,478 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:34:05,479 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:34:05,494 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:34:05,494 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:34:05,499 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:34:05,499 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:34:05,499 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:34:05,500 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:34:06,121 - INFO - app.main - Application startup event triggered.
2025-06-12 22:34:06,121 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:34:06,125 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:34:06,130 - INFO - app.main - Application startup event triggered.
2025-06-12 22:34:06,131 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:34:06,135 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:34:06,148 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:34:06,153 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:34:06,153 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:34:06,153 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:34:06,153 - INFO - app.main - Redis publisher background task started
2025-06-12 22:34:06,154 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:34:06,154 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:34:06,155 - INFO - app.main - Application startup event finished.
2025-06-12 22:34:06,155 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:34:06,155 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:34:06,158 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:34:06,158 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:34:06,158 - INFO - app.main - Redis publisher background task started
2025-06-12 22:34:06,158 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:34:06,159 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:34:06,159 - INFO - app.main - Application startup event finished.
2025-06-12 22:34:06,159 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:34:06,160 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:34:07,473 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:35:06,162 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:35:06,163 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:35:06,163 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:35:06,163 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:36:06,160 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:36:06,160 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:36:06,161 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:36:06,161 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:37:06,166 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:37:06,166 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:37:06,166 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:37:06,167 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:38:06,154 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:38:06,155 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:38:06,165 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:38:06,166 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:39:06,157 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:39:06,157 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:39:06,172 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:39:06,173 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:40:06,166 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:40:06,167 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:40:06,167 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:41:06,164 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:41:06,164 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:41:06,164 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:41:59,915 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:41:59,937 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:41:59,942 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:41:59,942 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:42:00,623 - INFO - app.main - Application startup event triggered.
2025-06-12 22:42:00,623 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:42:00,629 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:42:00,672 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:42:00,683 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:42:00,684 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:42:00,684 - INFO - app.main - Redis publisher background task started
2025-06-12 22:42:00,684 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:42:00,685 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:42:00,686 - INFO - app.main - Application startup event finished.
2025-06-12 22:42:00,686 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:42:00,686 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:42:01,980 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:42:06,170 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:42:06,170 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:42:06,524 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:42:06,528 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:43:00,682 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:43:00,683 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:43:06,162 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:43:06,163 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:43:06,162 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:43:06,163 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:44:00,196 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:44:00,197 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:44:00,197 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:44:00,198 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:44:02,000 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:44:02,000 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:44:02,000 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:44:02,003 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:44:02,005 - INFO - app.main - Redis client connection closed.
2025-06-12 22:44:02,005 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:44:06,164 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:44:06,164 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:44:06,164 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:44:06,165 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 181, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:44:27,091 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:44:27,091 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:44:27,091 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:44:27,091 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:44:27,091 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:44:27,091 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:44:27,092 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:44:27,092 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:44:27,313 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:44:27,314 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:44:27,314 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:44:27,314 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:44:27,314 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:44:27,314 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:44:27,315 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:44:27,316 - INFO - app.main - Redis client connection closed.
2025-06-12 22:44:27,316 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:44:27,316 - INFO - app.main - Redis client connection closed.
2025-06-12 22:44:27,317 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:44:29,194 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:44:29,206 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:44:29,212 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:44:29,217 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:44:29,217 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:44:29,222 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:44:29,227 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:44:29,227 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:44:29,720 - INFO - app.main - Application startup event triggered.
2025-06-12 22:44:29,721 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:44:29,725 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:44:29,728 - INFO - app.main - Application startup event triggered.
2025-06-12 22:44:29,728 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:44:29,732 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:44:29,756 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:44:29,756 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:44:29,762 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:44:29,762 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:44:29,762 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:44:29,762 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:44:29,762 - INFO - app.main - Redis publisher background task started
2025-06-12 22:44:29,762 - INFO - app.main - Redis publisher background task started
2025-06-12 22:44:29,762 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:44:29,762 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:44:29,762 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:44:29,763 - INFO - app.main - Application startup event finished.
2025-06-12 22:44:29,763 - INFO - app.main - Application startup event finished.
2025-06-12 22:44:29,763 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:29,763 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:29,763 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:44:30,730 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:30,740 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:52,275 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:44:52,275 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:44:52,275 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:44:52,275 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:44:52,276 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:44:52,276 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:44:52,276 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:44:52,276 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:44:52,276 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:44:52,680 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:44:52,680 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:44:52,681 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:44:52,681 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:44:52,682 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:44:52,682 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:44:52,682 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:44:52,682 - INFO - app.main - Redis client connection closed.
2025-06-12 22:44:52,682 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:44:52,683 - INFO - app.main - Redis client connection closed.
2025-06-12 22:44:52,683 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:44:54,232 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:44:54,238 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:44:54,245 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:44:54,250 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:44:54,250 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:44:54,251 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:44:54,256 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:44:54,256 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:44:54,695 - INFO - app.main - Application startup event triggered.
2025-06-12 22:44:54,696 - INFO - app.main - Application startup event triggered.
2025-06-12 22:44:54,696 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:44:54,696 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:44:54,700 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:44:54,700 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:44:54,726 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:44:54,733 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:44:54,733 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:44:54,733 - INFO - app.main - Redis publisher background task started
2025-06-12 22:44:54,733 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:44:54,733 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:44:54,734 - INFO - app.main - Application startup event finished.
2025-06-12 22:44:54,734 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:54,734 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:44:54,742 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:44:54,746 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:44:54,746 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:44:54,746 - INFO - app.main - Redis publisher background task started
2025-06-12 22:44:54,746 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:44:54,747 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:44:54,747 - INFO - app.main - Application startup event finished.
2025-06-12 22:44:54,747 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:54,748 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:44:55,544 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:44:55,561 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:45:18,162 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:45:18,162 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:45:18,162 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:45:18,162 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:45:18,163 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:45:18,163 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:45:18,163 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:45:18,164 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:45:18,165 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:45:18,165 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:45:18,172 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:45:18,172 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:45:18,172 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:45:18,173 - INFO - app.main - Redis client connection closed.
2025-06-12 22:45:18,173 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:45:18,173 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:45:18,173 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:45:18,174 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:45:18,175 - INFO - app.main - Redis client connection closed.
2025-06-12 22:45:18,175 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:45:19,715 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:45:19,718 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:45:19,731 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:45:19,733 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:45:19,736 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:45:19,736 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:45:19,739 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:45:19,739 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:45:20,208 - INFO - app.main - Application startup event triggered.
2025-06-12 22:45:20,209 - INFO - app.main - Application startup event triggered.
2025-06-12 22:45:20,208 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:45:20,211 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:45:20,209 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:45:20,212 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:45:20,233 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:45:20,240 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:45:20,240 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:45:20,240 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:45:20,240 - INFO - app.main - Redis publisher background task started
2025-06-12 22:45:20,240 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:45:20,240 - INFO - app.main - Redis publisher background task started
2025-06-12 22:45:20,240 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:45:20,241 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:45:20,241 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:45:20,241 - INFO - app.main - Application startup event finished.
2025-06-12 22:45:20,241 - INFO - app.main - Application startup event finished.
2025-06-12 22:45:20,242 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:45:20,242 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:45:20,242 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:45:20,242 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:45:21,020 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:45:21,031 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:17,280 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:46:17,280 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:46:17,280 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:46:17,280 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:46:17,281 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:46:17,281 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:46:17,281 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:46:17,282 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:46:17,283 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:46:17,283 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:46:18,184 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:46:18,184 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:46:18,184 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:46:18,184 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:46:18,184 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:46:18,184 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:46:18,185 - INFO - app.main - Redis client connection closed.
2025-06-12 22:46:18,185 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:46:18,185 - INFO - app.main - Redis client connection closed.
2025-06-12 22:46:18,185 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:46:19,753 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:46:19,767 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:46:19,767 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:46:19,772 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:46:19,772 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:46:19,772 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:46:19,773 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:46:20,228 - INFO - app.main - Application startup event triggered.
2025-06-12 22:46:20,229 - INFO - app.main - Application startup event triggered.
2025-06-12 22:46:20,228 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:46:20,231 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:46:20,229 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:46:20,232 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:46:20,260 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:46:20,264 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:46:20,264 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:46:20,265 - INFO - app.main - Redis publisher background task started
2025-06-12 22:46:20,265 - INFO - app.main - Redis publisher background task started
2025-06-12 22:46:20,265 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:46:20,265 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:46:20,265 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:46:20,265 - INFO - app.main - Application startup event finished.
2025-06-12 22:46:20,265 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:46:20,265 - INFO - app.main - Application startup event finished.
2025-06-12 22:46:20,266 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:20,266 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:20,266 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:46:20,266 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:46:21,309 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:22,053 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:30,972 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:46:30,986 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:46:30,992 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:46:30,992 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:46:31,512 - INFO - app.main - Application startup event triggered.
2025-06-12 22:46:31,512 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:46:31,516 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:46:31,540 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:46:31,547 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:46:31,547 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:46:31,547 - INFO - app.main - Redis publisher background task started
2025-06-12 22:46:31,547 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:46:31,549 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:46:31,549 - INFO - app.main - Application startup event finished.
2025-06-12 22:46:31,550 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:31,550 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:46:32,719 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:52,328 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:46:52,328 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:46:52,328 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:46:52,328 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:46:52,328 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:46:52,328 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:46:52,330 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:46:52,331 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:46:52,332 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:46:52,331 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:46:52,357 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:46:52,357 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:46:52,357 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:46:52,358 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:46:52,358 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:46:52,704 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:46:52,705 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:46:52,705 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:46:52,705 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:46:52,705 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:46:52,705 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:46:52,705 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:46:52,705 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:46:52,706 - INFO - app.main - Redis client connection closed.
2025-06-12 22:46:52,706 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:46:52,706 - INFO - app.main - Redis client connection closed.
2025-06-12 22:46:52,706 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:46:52,706 - INFO - app.main - Redis client connection closed.
2025-06-12 22:46:52,706 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:46:54,447 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:46:54,464 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:46:54,469 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:46:54,469 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:46:54,472 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:46:54,479 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:46:54,490 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:46:54,497 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:46:54,497 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:46:54,499 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:46:54,507 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:46:54,507 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:46:55,043 - INFO - app.main - Application startup event triggered.
2025-06-12 22:46:55,043 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:46:55,048 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:46:55,071 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:46:55,077 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:46:55,078 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:46:55,078 - INFO - app.main - Redis publisher background task started
2025-06-12 22:46:55,078 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:46:55,079 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:46:55,080 - INFO - app.main - Application startup event finished.
2025-06-12 22:46:55,081 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:55,082 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:46:55,091 - INFO - app.main - Application startup event triggered.
2025-06-12 22:46:55,091 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:46:55,095 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:46:55,096 - INFO - app.main - Application startup event triggered.
2025-06-12 22:46:55,096 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 398, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:46:55,100 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:46:55,118 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:46:55,121 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:46:55,123 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:46:55,124 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:46:55,124 - INFO - app.main - Redis publisher background task started
2025-06-12 22:46:55,124 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:46:55,125 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:46:55,125 - INFO - app.main - Application startup event finished.
2025-06-12 22:46:55,126 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:55,126 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:46:55,128 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:46:55,128 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:46:55,128 - INFO - app.main - Redis publisher background task started
2025-06-12 22:46:55,128 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:46:55,129 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 493, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:46:55,129 - INFO - app.main - Application startup event finished.
2025-06-12 22:46:55,130 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:55,130 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:46:55,982 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:55,982 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:46:55,982 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:44,846 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:47:44,846 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:47:44,846 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:47:44,846 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:47:44,846 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:47:44,846 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:47:44,847 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:47:44,847 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:47:44,847 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:47:44,847 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:47:44,868 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:47:44,869 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:47:44,869 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:47:44,870 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:47:44,871 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:47:45,694 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:47:45,694 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:47:45,695 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:47:45,696 - INFO - app.main - Redis client connection closed.
2025-06-12 22:47:45,696 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:47:45,696 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:47:45,696 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:47:45,696 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:47:45,698 - INFO - app.main - Redis client connection closed.
2025-06-12 22:47:45,698 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:47:45,703 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:47:45,703 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:47:45,703 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:47:45,704 - INFO - app.main - Redis client connection closed.
2025-06-12 22:47:45,705 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:47:47,743 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:47:47,745 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:47:47,753 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:47:47,768 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:47:47,772 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:47:47,776 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:47:47,776 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:47:47,779 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:47:47,781 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:47:47,781 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:47:47,789 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:47:47,789 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:47:48,518 - INFO - app.main - Application startup event triggered.
2025-06-12 22:47:48,518 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:47:48,522 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:47:48,523 - INFO - app.main - Application startup event triggered.
2025-06-12 22:47:48,524 - INFO - app.main - Application startup event triggered.
2025-06-12 22:47:48,524 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:47:48,529 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:47:48,525 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:47:48,529 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:47:48,559 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:47:48,568 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:47:48,574 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:47:48,574 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:47:48,574 - INFO - app.main - Redis publisher background task started
2025-06-12 22:47:48,574 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:47:48,574 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:47:48,575 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:47:48,576 - INFO - app.main - Application startup event finished.
2025-06-12 22:47:48,576 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:48,577 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:47:48,579 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:47:48,579 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:47:48,579 - INFO - app.main - Redis publisher background task started
2025-06-12 22:47:48,579 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:47:48,579 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:47:48,580 - INFO - app.main - Application startup event finished.
2025-06-12 22:47:48,581 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:48,581 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:47:48,581 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:47:48,581 - INFO - app.main - Redis publisher background task started
2025-06-12 22:47:48,582 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:47:48,582 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:47:48,583 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:47:48,584 - INFO - app.main - Application startup event finished.
2025-06-12 22:47:48,585 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:48,586 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:47:49,409 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:49,424 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:47:49,425 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:47:49,425 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:47:49,425 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:47:49,464 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:49,468 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:49,496 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:47:49,496 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:47:49,496 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:47:49,496 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:47:49,513 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:47:49,514 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:47:49,514 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:47:49,515 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:47:50,284 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:47:50,285 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:47:50,285 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:47:50,286 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:47:50,288 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:47:50,288 - INFO - app.main - Redis client connection closed.
2025-06-12 22:47:50,288 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:47:50,288 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:47:50,289 - INFO - app.main - Redis client connection closed.
2025-06-12 22:47:50,289 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:47:50,291 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:47:50,291 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:47:50,294 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:47:50,295 - INFO - app.main - Redis client connection closed.
2025-06-12 22:47:50,295 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:47:53,334 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:47:53,352 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:47:53,355 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:47:53,357 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:47:53,363 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:47:53,363 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:47:53,371 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:47:53,375 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:47:53,378 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:47:53,378 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:47:53,384 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:47:53,384 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:47:54,158 - INFO - app.main - Application startup event triggered.
2025-06-12 22:47:54,159 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:47:54,169 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:47:54,247 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:47:54,257 - INFO - app.main - Application startup event triggered.
2025-06-12 22:47:54,268 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:47:54,269 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:47:54,270 - INFO - app.main - Redis publisher background task started
2025-06-12 22:47:54,270 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:47:54,273 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:47:54,275 - INFO - app.main - Application startup event finished.
2025-06-12 22:47:54,276 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:54,278 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:47:54,257 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:47:54,289 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:47:54,304 - INFO - app.main - Application startup event triggered.
2025-06-12 22:47:54,305 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:47:54,328 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:47:54,370 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:47:54,387 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:47:54,387 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:47:54,387 - INFO - app.main - Redis publisher background task started
2025-06-12 22:47:54,387 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:47:54,390 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:47:54,391 - INFO - app.main - Application startup event finished.
2025-06-12 22:47:54,391 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:54,392 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:47:54,394 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:47:54,408 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:47:54,409 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:47:54,409 - INFO - app.main - Redis publisher background task started
2025-06-12 22:47:54,409 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:47:54,411 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:47:54,412 - INFO - app.main - Application startup event finished.
2025-06-12 22:47:54,412 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:54,413 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:47:55,353 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:55,456 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:47:55,463 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:08,123 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:48:08,136 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:48:08,140 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:48:08,140 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:48:08,685 - INFO - app.main - Application startup event triggered.
2025-06-12 22:48:08,685 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:48:08,688 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:48:08,717 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:48:08,727 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:48:08,727 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:48:08,727 - INFO - app.main - Redis publisher background task started
2025-06-12 22:48:08,727 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:48:08,728 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:48:08,729 - INFO - app.main - Application startup event finished.
2025-06-12 22:48:08,730 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:08,730 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:48:09,767 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:48,968 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:48:48,968 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:48:48,968 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:48:48,969 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:48:48,969 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:48:48,969 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:48:48,969 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:48:48,969 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:48:48,969 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:48:48,970 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:48:48,971 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:48:48,971 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:48:48,971 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:48:48,972 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:48:48,984 - INFO - app.main - Application shutdown event triggered.
2025-06-12 22:48:48,985 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 22:48:48,985 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 22:48:48,987 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 22:48:48,987 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 22:48:50,518 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:48:50,519 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:48:50,519 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:48:50,520 - INFO - app.main - Redis client connection closed.
2025-06-12 22:48:50,520 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:48:50,522 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:48:50,522 - INFO - app.firebase_stream - Firebase listener closed.
sing task finished.
2025-06-12 22:48:50,522 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 22:48:50,523 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:48:50,523 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:48:50,523 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 22:48:50,523 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:48:50,523 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 22:48:50,523 - INFO - app.main - Redis client connection closed.
2025-06-12 22:48:50,523 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:48:50,523 - INFO - app.main - Redis client connection closed.
2025-06-12 22:48:50,524 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:48:50,524 - INFO - app.main - Redis client connection closed.
2025-06-12 22:48:50,524 - INFO - app.main - Application shutdown event finished.
2025-06-12 22:48:52,647 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:48:52,650 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:48:52,657 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:48:52,662 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 22:48:52,663 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:48:52,665 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:48:52,668 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:48:52,669 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:48:52,672 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:48:52,672 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:48:52,673 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:48:52,679 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:48:52,679 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:48:52,680 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 22:48:52,686 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 22:48:52,686 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 22:48:53,293 - INFO - app.main - Application startup event triggered.
2025-06-12 22:48:53,293 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:48:53,299 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:48:53,308 - INFO - app.main - Application startup event triggered.
2025-06-12 22:48:53,308 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:48:53,316 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:48:53,329 - INFO - app.main - Application startup event triggered.
2025-06-12 22:48:53,330 - INFO - app.main - Application startup event triggered.
2025-06-12 22:48:53,333 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:48:53,330 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:48:53,334 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:48:53,330 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 22:48:53,336 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 22:48:53,339 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:48:53,339 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:48:53,339 - INFO - app.main - Redis publisher background task started
2025-06-12 22:48:53,340 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:48:53,341 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:48:53,341 - INFO - app.main - Application startup event finished.
2025-06-12 22:48:53,341 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:48:53,341 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:53,342 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:48:53,351 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:48:53,351 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:48:53,351 - INFO - app.main - Redis publisher background task started
2025-06-12 22:48:53,351 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:48:53,352 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:48:53,353 - INFO - app.main - Application startup event finished.
2025-06-12 22:48:53,354 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:53,356 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:48:53,371 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 22:48:53,384 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 22:48:53,385 - INFO - app.main - Firebase events processor background task started
2025-06-12 22:48:53,385 - INFO - app.main - Redis publisher background task started
2025-06-12 22:48:53,385 - INFO - app.main - Redis publisher background task started
2025-06-12 22:48:53,385 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:48:53,385 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 22:48:53,387 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:48:53,388 - INFO - app.main - Application startup event finished.
2025-06-12 22:48:53,387 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 22:48:53,388 - INFO - app.main - Application startup event finished.
2025-06-12 22:48:53,388 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:53,389 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:53,389 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:48:53,389 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 22:48:54,239 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:54,334 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:54,334 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:48:54,342 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 22:49:53,342 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:49:53,343 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:49:53,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:49:53,357 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:49:53,386 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:49:53,386 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:49:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:49:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:50:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:50:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:50:53,350 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:50:53,350 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:50:53,384 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:50:53,385 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:51:53,341 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:51:53,342 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:51:53,356 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:51:53,357 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:51:53,389 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:51:53,389 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:51:53,389 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:51:53,389 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:51:58,673 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 22:51:58,687 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 22:51:58,701 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 22:51:58,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 22:51:58,725 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 22:51:58,737 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 22:51:58,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 22:51:58,759 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 22:51:58,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 22:51:58,784 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 22:51:58,796 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 22:51:58,808 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 22:51:58,818 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 22:51:58,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 22:51:58,842 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 22:51:58,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 22:51:58,870 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 22:51:58,920 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 22:51:58,947 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 22:51:59,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 22:51:59,028 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 22:51:59,063 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 22:51:59,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 22:51:59,117 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 22:51:59,134 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 22:51:59,146 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 22:51:59,157 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 22:51:59,185 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 22:51:59,204 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 22:51:59,218 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 22:51:59,229 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 22:51:59,240 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 22:51:59,250 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 22:51:59,262 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 22:51:59,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 22:51:59,284 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 22:51:59,294 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 22:51:59,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 22:51:59,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 22:51:59,327 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 22:51:59,338 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 22:51:59,348 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 22:51:59,361 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 22:51:59,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 22:51:59,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 22:51:59,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 22:51:59,407 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 22:51:59,417 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 22:51:59,427 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 22:51:59,437 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 22:51:59,448 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 22:51:59,458 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 22:51:59,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 22:51:59,515 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 22:51:59,528 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 22:51:59,539 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 22:51:59,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 22:51:59,563 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 22:51:59,577 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 22:51:59,591 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 22:51:59,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 22:51:59,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 22:51:59,628 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 22:51:59,640 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 22:51:59,652 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 22:51:59,662 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 22:51:59,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 22:51:59,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 22:51:59,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 22:51:59,717 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 22:51:59,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 22:51:59,743 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 22:51:59,751 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 22:51:59,760 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 22:51:59,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 22:51:59,780 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 22:51:59,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 22:51:59,800 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 22:51:59,811 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 22:52:02,242 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:02,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:03,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:03,488 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:04,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:04,911 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:05,286 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:06,097 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:06,738 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:07,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:07,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:07,947 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:09,077 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:09,511 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:09,890 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:10,363 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:11,265 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:11,560 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:11,848 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:12,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:13,978 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:14,628 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:15,142 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:15,733 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:16,145 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:16,544 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:16,932 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:17,341 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:18,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:18,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:19,395 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:19,561 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:20,526 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:20,845 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:21,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:21,262 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:22,776 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:23,162 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:23,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:23,982 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:25,244 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:25,654 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:26,073 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:26,935 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:27,440 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:27,898 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:28,371 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:28,768 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:29,599 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:29,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:30,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:30,492 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:32,108 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:32,680 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:33,193 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:33,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:34,484 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:35,093 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:35,978 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:36,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:36,873 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:37,293 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:37,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:38,083 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:39,299 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:39,712 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:40,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:40,599 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:41,649 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:42,265 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:42,682 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:43,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:43,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:43,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:44,319 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:44,713 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:45,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:46,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:46,501 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:46,718 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:47,070 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:48,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:49,160 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:49,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:49,865 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:50,668 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:51,047 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:51,532 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:52,123 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:53,212 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:53,340 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:52:53,341 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:52:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:52:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:52:53,395 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:52:53,395 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:52:53,395 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:52:53,715 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:54,194 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:54,650 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:55,663 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:56,104 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:56,558 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:57,108 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:57,750 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:58,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:58,743 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:59,327 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:52:59,852 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:00,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:00,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:01,372 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:02,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:02,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:02,865 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:03,287 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:04,376 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:04,619 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:04,815 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:04,970 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:06,733 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:07,026 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:07,319 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:07,547 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:08,989 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:09,285 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:09,511 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:09,733 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:10,818 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:11,327 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:11,694 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:12,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:12,359 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:13,611 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:13,840 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:14,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:14,544 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:15,989 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:16,227 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:16,473 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:16,673 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:18,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:18,577 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:18,940 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:19,293 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:20,620 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:21,034 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:21,451 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:21,834 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:22,924 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:23,256 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:23,511 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:23,783 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:25,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:25,727 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:26,119 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:26,447 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:27,451 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:27,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:28,260 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:28,560 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:30,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:30,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:31,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:31,750 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:32,429 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:32,931 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:33,361 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:33,730 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:33,818 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:34,751 - ERROR - app.database.session - Database session error: 500: Error in close_order endpoint: 500: Error processing close order: 400: Order status is 'CLOSED'. Only 'OPEN' orders can be closed.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1083, in close_order
    raise HTTPException(status_code=400, detail=f"Order status is '{db_order.order_status}'. Only 'OPEN' orders can be closed.")
fastapi.exceptions.HTTPException: 400: Order status is 'CLOSED'. Only 'OPEN' orders can be closed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1237, in close_order
    raise HTTPException(status_code=500, detail=f"Error processing close order: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error processing close order: 400: Order status is 'CLOSED'. Only 'OPEN' orders can be closed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\orders.py", line 1240, in close_order
    raise HTTPException(status_code=500, detail=f"Error in close_order endpoint: {str(e)}")
fastapi.exceptions.HTTPException: 500: Error in close_order endpoint: 500: Error processing close order: 400: Order status is 'CLOSED'. Only 'OPEN' orders can be closed.
2025-06-12 22:53:34,797 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:35,290 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:35,667 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:36,025 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:36,661 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:36,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:37,228 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:37,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:39,040 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:39,440 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:39,774 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:40,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:41,262 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:41,743 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:42,113 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:42,517 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:44,442 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:44,888 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:45,265 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:45,634 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:45,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:46,173 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:46,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:46,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:47,120 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:48,117 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:48,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:49,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:49,838 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:50,557 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:50,988 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:51,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:51,557 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:51,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:52,837 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:53,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:53,338 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:53:53,338 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:53:53,352 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:53:53,352 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:53:53,385 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:53:53,385 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:53:53,385 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:53:53,698 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:54,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:55,019 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:55,280 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:55,663 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:55,954 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:56,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:57,396 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:57,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:57,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:58,282 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:59,602 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:59,818 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:53:59,995 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:00,210 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:02,053 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:02,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:02,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:02,835 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:03,258 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:04,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:05,031 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:05,605 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:06,024 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:06,660 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:06,965 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:07,286 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:07,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:08,865 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:09,008 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:09,140 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:09,284 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:11,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:11,376 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:11,699 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:11,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:13,453 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:13,633 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:13,735 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:13,854 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:15,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:16,190 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:16,465 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:16,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:18,281 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:18,520 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:18,699 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:18,868 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:20,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:20,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:20,492 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:20,584 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:22,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:22,931 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:23,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:23,321 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:25,761 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:26,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:26,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:27,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:27,280 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:27,471 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:27,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:27,893 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:29,613 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:29,767 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:29,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:30,023 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:31,852 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:31,951 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:32,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:32,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:34,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:35,070 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:35,593 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:36,225 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:36,567 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:36,820 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:37,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:37,256 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:38,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:39,054 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:39,287 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:39,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:41,084 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:41,212 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:41,349 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:41,485 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:43,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:43,698 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:43,870 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:44,136 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:45,991 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:46,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:46,658 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:47,028 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:48,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:48,425 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:48,811 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:49,194 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:50,772 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:51,138 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:51,585 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:52,067 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:53,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:53,338 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:54:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:54:53,356 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:54:53,356 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:54:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:54:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:54:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:54:53,796 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:54,418 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:54,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:55,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:56,391 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:57,058 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:57,832 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:58,521 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:59,092 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:54:59,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:00,203 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:01,029 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:01,795 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:02,517 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:03,620 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:04,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:06,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:07,884 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:09,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:09,901 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:10,809 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:11,408 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:12,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:13,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:16,147 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:18,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:19,837 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:22,229 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:24,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:28,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:29,977 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:32,187 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:35,419 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:38,841 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:40,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:42,779 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:44,379 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:46,640 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:48,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:50,969 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:51,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:52,451 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:53,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:53,339 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:55:53,345 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:55:53,352 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:55:53,352 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:55:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:55:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:55:53,396 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:55:53,396 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:55:53,840 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:54,530 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:55,139 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:55,913 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:56,608 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:57,325 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:58,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:58,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:55:59,556 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:00,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:01,281 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:02,233 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:03,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:04,030 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:04,950 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:05,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:06,700 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:07,604 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:08,545 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:09,452 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:10,186 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:10,952 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:11,697 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:12,449 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:13,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:13,602 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:14,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:14,788 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:15,437 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:16,332 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:17,246 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:18,114 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:18,777 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:19,369 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:20,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:20,641 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:21,014 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:21,402 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:21,926 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:22,437 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:23,024 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:23,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:24,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:24,935 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:25,600 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:26,122 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:26,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:27,647 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:28,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:29,123 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:29,846 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:30,338 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:31,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:31,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:32,705 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:33,406 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:33,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:34,473 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:35,087 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:35,676 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:36,488 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:37,050 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:37,822 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:38,728 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:39,541 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:40,342 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:41,224 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:42,054 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:42,810 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:43,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:44,085 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:44,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:45,432 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:46,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:46,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:47,603 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:48,125 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:48,637 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:49,218 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:49,810 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:50,526 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:51,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:52,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:53,286 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:53,343 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:56:53,343 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:56:53,360 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:56:53,360 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:56:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:56:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:56:53,396 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:56:53,935 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:54,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:55,117 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:55,674 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:56,468 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:57,328 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:58,121 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:56:59,827 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:02,168 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:04,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:06,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:07,574 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:09,381 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-12 22:57:09,467 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:11,717 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:13,626 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:15,817 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:19,057 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:21,700 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:22,024 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:24,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:25,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:28,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:30,263 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:32,748 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:34,977 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:36,791 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:39,251 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:41,017 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:42,601 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:43,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:45,735 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:47,381 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:49,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:51,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:53,348 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:57:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:57:53,382 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:57:53,384 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:57:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:57:53,385 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:57:53,385 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:57:54,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:57,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:57:59,492 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:01,977 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:03,522 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:05,352 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:07,032 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:09,086 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:10,625 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:12,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:14,391 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:18,060 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:20,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:22,821 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:24,982 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:26,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:28,842 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:29,896 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:30,924 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:32,007 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:33,671 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:35,707 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:37,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:40,471 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:42,317 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:44,668 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:46,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:49,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:52,132 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:58:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:58:53,377 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:58:53,378 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:58:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:58:53,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:58:53,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:58:54,926 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:58:57,856 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:00,996 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:04,006 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:06,490 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:09,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:11,952 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:14,415 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:16,454 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:19,035 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:21,571 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:23,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:26,265 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:28,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:32,192 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:35,020 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:37,940 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:41,358 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:43,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:46,608 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:49,466 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:52,026 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:53,348 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:59:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:59:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:59:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:59:53,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:59:53,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:59:53,420 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 22:59:53,421 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 22:59:54,486 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:56,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 22:59:59,399 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:01,590 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:04,204 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:06,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:09,521 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:12,116 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:15,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:18,314 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:21,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:24,982 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:27,572 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:30,595 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:33,700 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:36,335 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:38,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:41,253 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:43,754 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:45,825 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:48,762 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:51,541 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:53,350 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:00:53,351 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:00:53,369 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:00:53,369 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:00:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:00:53,382 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:00:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:00:53,398 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:00:54,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:56,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:00:59,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:02,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:04,774 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:07,454 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:09,822 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:12,360 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:14,811 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:17,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:19,877 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:22,625 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:24,824 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:27,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:30,710 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:33,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:35,824 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:38,332 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:40,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:43,450 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:45,774 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:48,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:51,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:53,351 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:01:53,352 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:01:53,376 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:01:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:01:53,379 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:01:53,381 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:01:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:01:53,398 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:01:55,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:01:58,290 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:01,691 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:01,950 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:04,984 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:07,809 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:10,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:14,080 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:16,382 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:18,646 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:21,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:24,596 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:26,982 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:29,555 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:32,164 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:34,570 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:37,446 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:39,366 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:42,023 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:45,065 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:47,679 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:51,159 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:53,339 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:02:53,340 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:02:53,358 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:02:53,359 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:02:53,389 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:02:53,390 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:02:53,390 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:02:53,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:56,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:02:59,722 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:02,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:04,424 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:06,931 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:09,938 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:12,202 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:14,927 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:18,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:21,450 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:23,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:26,297 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:30,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:32,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:34,929 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:37,758 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:40,490 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:43,302 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:46,273 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:48,300 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:51,486 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:53,356 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:03:53,356 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:03:53,362 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:03:53,369 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:03:53,388 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:03:53,388 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:03:53,388 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:03:53,932 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:03:56,903 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:00,361 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:03,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:06,290 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:09,899 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:13,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:15,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:18,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:21,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:23,997 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:27,690 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:30,932 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:34,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:37,493 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:40,879 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:43,030 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:45,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:48,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:51,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:53,338 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:04:53,339 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:04:53,356 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:04:53,357 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:04:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:04:53,388 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:04:53,388 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:04:54,200 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:04:56,658 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:00,099 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:03,575 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:06,539 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:09,692 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:13,399 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:16,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:19,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:23,093 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:26,374 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:30,733 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:33,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:36,195 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:39,434 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:42,719 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:45,837 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:48,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:51,878 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:53,353 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:05:53,353 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:05:53,362 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:05:53,363 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:05:53,393 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:05:53,394 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:05:53,394 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:05:54,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:56,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:05:59,191 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:02,076 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:04,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:07,517 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:09,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:12,788 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:15,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:18,022 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:21,466 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:24,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:27,141 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:29,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:32,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:35,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:38,559 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:41,944 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:44,231 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:47,072 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:49,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:53,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:06:53,350 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:06:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:06:53,381 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:06:53,391 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:06:53,392 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:06:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:06:53,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:06:56,094 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:06:58,401 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:01,124 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:04,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:06,294 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:09,179 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:12,307 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:15,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:18,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:22,076 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:25,267 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:29,493 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:32,912 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:35,914 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:39,676 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:42,730 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:45,386 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:47,744 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:50,320 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:53,340 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:07:53,340 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:07:53,359 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:07:53,360 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:07:53,391 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:07:53,392 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:07:53,603 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:56,304 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:07:59,410 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:02,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:05,665 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:08,933 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:12,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:15,485 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:18,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:22,196 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:24,635 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:27,039 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:31,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:33,397 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:35,991 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:38,808 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:41,834 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:44,749 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:47,672 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:51,813 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:53,342 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:08:53,350 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:08:53,351 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:08:53,377 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:08:53,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:08:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:08:53,396 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:08:53,398 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:08:54,405 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:08:57,410 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:00,432 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:03,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:06,298 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:09,562 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:12,156 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:14,971 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:17,910 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:20,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:24,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:26,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:30,167 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:33,324 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:36,233 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:38,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:41,802 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:44,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:47,408 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:50,738 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:53,353 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:09:53,354 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:09:53,385 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:09:53,386 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:09:53,386 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:09:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:09:53,398 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:09:54,189 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:09:57,444 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:01,584 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:05,055 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:07,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:10,628 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:14,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:17,036 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:20,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:23,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:27,232 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:30,982 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:33,596 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:36,385 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:39,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:41,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:44,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:46,381 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:48,852 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:51,587 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:53,361 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:10:53,362 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:10:53,374 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:10:53,392 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:10:53,392 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:10:53,393 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:10:53,393 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:10:53,459 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:10:54,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:57,460 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:10:59,919 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:02,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:04,689 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:07,462 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:10,161 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:12,258 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:14,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:17,433 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:20,371 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:23,110 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:25,166 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:27,130 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:28,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:31,326 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:33,631 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:35,657 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:37,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:40,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:42,270 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:43,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:46,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:48,836 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:51,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:53,356 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:11:53,362 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:11:53,357 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:11:53,363 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:11:53,393 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:11:53,394 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:11:53,394 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:11:53,394 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:11:54,415 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:56,556 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:11:59,874 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:02,225 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:03,067 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:03,898 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:04,869 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:05,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:06,719 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:07,584 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:08,238 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:08,906 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:09,637 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:10,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:11,572 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:12,462 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:13,333 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:14,190 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:15,094 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:15,950 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:16,852 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:17,603 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:18,302 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:18,987 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:19,636 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:20,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:21,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:21,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:22,249 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:22,923 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:23,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:24,363 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:25,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:25,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:26,763 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:27,541 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:28,233 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:28,901 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:29,670 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:30,303 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:30,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:31,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:32,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:33,063 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:33,744 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:34,445 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:35,424 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:36,483 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:37,524 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:38,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:39,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:40,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:42,035 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:43,056 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:43,961 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:45,187 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:46,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:47,357 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:48,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:48,754 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:49,548 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:50,267 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:51,165 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:52,367 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:53,337 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:12:53,337 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:12:53,348 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:12:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:12:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:12:53,381 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:12:53,397 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:54,293 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:55,385 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:56,272 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:57,017 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:57,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:58,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:12:59,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:00,627 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:01,389 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:02,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:02,410 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:02,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:03,307 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:03,636 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:04,533 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:05,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:06,190 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:07,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:07,913 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:08,715 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:09,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:10,642 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:11,552 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:12,415 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:13,288 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:14,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:14,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:15,574 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:16,783 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:17,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:19,018 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:20,070 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:21,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:22,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:23,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:23,898 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:24,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:25,842 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:26,719 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:27,434 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:28,250 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:29,116 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:29,941 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:30,661 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:31,395 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:32,079 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:32,911 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:33,643 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:34,376 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:35,198 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:36,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:37,114 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:37,860 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:38,485 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:39,141 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:39,735 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:40,437 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:41,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:41,679 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:42,344 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:43,168 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:43,703 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:44,347 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:45,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:45,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:46,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:47,370 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:48,037 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:48,745 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:49,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:49,998 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:50,919 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:51,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:52,633 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:53,338 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:13:53,338 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:13:53,347 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:13:53,347 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:13:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:13:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:13:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:13:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:13:53,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:54,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:54,897 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:55,874 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:56,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:57,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:57,877 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:58,502 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:59,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:13:59,677 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:00,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:00,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:01,556 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:02,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:02,673 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:03,331 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:03,936 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:04,716 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:05,593 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:06,220 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:07,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:07,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:08,331 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:09,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:09,686 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:10,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:11,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:11,811 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:12,583 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:13,377 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:14,185 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:14,937 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:15,664 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:16,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:17,076 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:17,724 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:18,353 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:19,022 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:19,665 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:20,212 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:20,961 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:21,571 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:22,446 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:23,780 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:24,816 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:26,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:27,256 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:28,014 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:28,685 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:29,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:30,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:30,893 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:31,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:32,321 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:33,082 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:33,780 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:34,556 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:35,584 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:36,329 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:37,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:37,963 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:38,639 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:39,248 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:39,971 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:40,757 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:41,489 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:42,270 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:43,028 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:44,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:44,844 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:45,595 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:46,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:47,046 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:47,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:48,324 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:48,919 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:49,679 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:50,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:50,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:51,453 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:52,293 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:53,276 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:53,337 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:14:53,338 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:14:53,359 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:14:53,360 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:14:53,382 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:14:53,383 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:14:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:14:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:14:54,057 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:55,011 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:56,009 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:57,014 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:58,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:58,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:14:59,953 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:00,961 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:01,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:02,591 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:03,539 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:04,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:05,411 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:06,209 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:06,923 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:07,676 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:08,490 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:09,201 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:09,888 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:10,604 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:11,322 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:12,153 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:13,104 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:13,909 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:14,828 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:15,683 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:16,612 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:17,436 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:18,370 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:19,012 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:19,605 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:20,749 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:21,697 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:22,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:23,835 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:25,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:26,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:27,118 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:28,325 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:29,244 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:30,153 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:30,954 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:32,036 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:33,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:33,852 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:34,794 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:35,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:36,500 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:37,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:38,320 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:38,892 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:39,582 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:40,124 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:40,774 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:41,495 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:42,283 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:43,226 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:44,153 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:44,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:45,784 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:46,578 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:47,372 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:48,149 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:48,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:49,637 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:50,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:51,226 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:51,924 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:52,735 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:53,338 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:15:53,338 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:15:53,347 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:15:53,347 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:15:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:15:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:15:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:15:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:15:53,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:54,267 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:55,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:55,811 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:56,450 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:57,164 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:57,876 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:58,690 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:15:59,382 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:00,273 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:00,961 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:01,632 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:02,553 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:03,288 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:04,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:04,700 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:05,646 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:06,258 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:06,850 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:07,407 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:07,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:08,489 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:09,133 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:09,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:10,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:11,003 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:11,723 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:12,619 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:13,303 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:13,998 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:14,643 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:15,520 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:16,321 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:16,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:17,751 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:18,475 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:19,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:19,838 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:20,462 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:21,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:21,898 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:22,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:23,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:24,327 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:24,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:25,694 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:26,229 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:26,777 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:27,560 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:28,221 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:28,927 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:29,696 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:30,581 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:31,271 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:31,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:32,844 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:34,059 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:35,338 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:36,628 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:37,879 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:38,596 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:39,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:40,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:40,846 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:41,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:42,284 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:43,186 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:43,878 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:44,675 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:45,618 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:46,537 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:47,369 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:48,217 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:49,023 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:49,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:50,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:51,278 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:51,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:52,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:53,338 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:16:53,338 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:16:53,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:16:53,358 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:16:53,395 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:16:53,395 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:16:53,395 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:16:53,395 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:16:53,445 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:54,176 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:54,870 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:55,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:56,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:57,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:57,861 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:58,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:16:59,398 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:00,381 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:01,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:01,801 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:02,413 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:03,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:03,897 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:04,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:05,639 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:06,314 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:07,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:07,864 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:08,713 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:09,480 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:10,102 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:10,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:11,430 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:12,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:13,025 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:13,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:14,876 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:15,810 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:16,582 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:17,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:17,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:18,778 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:19,715 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:20,946 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:22,109 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:23,148 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:24,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:25,366 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:26,426 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:27,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:28,560 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:29,796 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:31,148 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:32,326 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:33,164 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:34,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:34,976 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:35,923 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:37,134 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:38,284 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:39,331 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:40,246 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:41,493 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:42,413 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:43,396 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:44,077 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:44,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:45,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:46,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:47,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:48,672 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:49,837 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:50,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:52,084 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:52,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:53,343 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:17:53,343 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:17:53,361 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:17:53,362 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:17:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:17:53,388 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:17:53,947 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:54,797 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:55,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:56,862 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:57,908 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:17:59,164 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:00,174 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:00,968 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:01,599 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:02,267 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:02,983 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:04,311 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:05,385 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:06,565 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:07,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:08,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:10,163 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:11,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:12,078 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:12,832 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:13,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:14,826 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:15,856 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:16,675 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:17,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:18,513 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:19,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:20,401 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:21,253 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:22,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:22,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:23,727 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:24,840 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:25,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:26,607 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:27,583 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:28,815 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:29,697 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:30,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:31,749 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:32,763 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:33,899 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:35,003 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:35,932 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:36,830 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:38,046 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:39,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:39,951 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:40,857 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:41,787 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:42,707 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:44,127 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:45,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:46,462 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:47,619 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:48,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:49,625 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:50,472 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:51,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:52,226 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:53,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:53,340 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:18:53,340 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:18:53,347 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:18:53,347 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:18:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:18:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:18:53,382 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:18:53,382 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:18:53,772 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:54,660 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:55,757 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:56,688 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:57,764 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:18:59,082 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:00,158 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:01,521 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:02,649 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:04,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:05,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:06,240 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:07,373 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:08,442 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:09,474 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:10,241 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:11,072 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:11,843 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:12,828 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:13,978 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:14,874 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:15,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:16,759 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:17,605 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:18,495 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:19,324 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:20,268 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:21,261 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:22,373 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:23,704 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:24,786 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:25,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:27,086 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:28,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:28,767 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:29,538 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:30,229 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:31,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:31,751 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:32,873 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:34,219 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:35,036 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:35,999 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:37,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:38,112 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:39,143 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:40,067 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:40,939 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:41,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:42,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:43,630 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:44,612 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:45,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:46,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:47,004 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:47,741 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:48,705 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:49,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:51,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:52,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:53,340 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:19:53,341 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:19:53,355 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:19:53,356 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:19:53,386 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:19:53,386 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:19:53,386 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:19:53,386 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:19:53,738 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:54,558 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:55,446 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:56,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:57,330 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:58,316 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:19:59,105 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:00,030 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:00,766 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:01,498 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:02,268 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:03,145 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:03,855 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:04,741 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:05,647 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:06,366 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:07,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:07,786 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:08,425 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:09,122 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:09,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:10,780 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:11,525 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:12,262 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:13,095 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:13,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:14,688 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:15,322 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:16,350 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:17,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:17,907 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:18,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:19,346 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:20,130 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:20,673 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:21,187 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:21,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:22,294 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:23,059 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:23,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:24,604 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:25,212 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:26,182 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:26,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:27,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:28,338 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:29,095 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:29,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:30,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:31,442 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:32,234 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:33,097 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:33,887 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:34,682 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:35,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:36,630 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:37,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:38,238 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:38,964 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:39,614 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:40,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:40,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:41,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:42,389 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:43,275 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:43,937 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:44,933 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:45,878 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:46,757 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:47,614 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:48,399 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:49,031 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:49,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:50,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:51,214 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:51,971 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:52,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:53,341 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:20:53,342 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:20:53,347 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:20:53,347 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:20:53,392 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:20:53,392 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:20:53,393 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:20:53,393 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:20:53,526 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:54,692 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:55,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:57,046 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:58,228 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:20:59,285 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:00,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:01,168 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:02,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:02,983 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:03,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:04,829 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:05,827 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:06,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:07,792 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:08,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:09,490 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:10,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:10,993 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:11,847 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:12,554 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:13,327 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:13,991 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:14,753 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:15,762 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:16,636 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:17,524 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:18,253 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:19,089 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:20,386 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:21,398 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:22,646 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:23,751 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:24,914 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:26,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:27,207 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:28,200 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:29,105 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:30,004 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:31,143 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:32,219 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:33,110 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:34,283 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:35,189 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:36,320 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:37,194 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:38,014 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:39,038 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:39,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:40,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:41,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:42,709 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:43,640 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:44,455 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:45,344 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:46,386 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:47,258 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:48,131 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:48,997 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:50,114 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:51,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:52,094 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:53,004 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:53,344 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:21:53,344 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:21:53,353 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:21:53,354 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:21:53,382 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:21:53,382 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:21:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:21:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:21:53,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:54,728 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:55,477 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:56,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:57,025 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:57,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:58,713 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:21:59,616 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:00,820 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:01,761 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:02,886 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:04,037 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:05,274 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:06,343 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:07,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:07,971 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:08,721 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:09,513 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:10,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:11,241 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:11,950 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:12,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:13,701 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:14,635 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:15,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:16,262 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:17,473 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:18,565 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:19,662 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:20,730 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:21,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:22,982 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:24,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:25,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:25,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:26,745 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:27,592 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:28,363 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:29,358 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:30,438 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:31,573 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:32,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:33,801 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:34,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:36,059 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:37,184 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:38,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:39,724 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:40,979 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:41,841 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:42,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:43,418 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:44,070 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:44,772 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:45,871 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:46,660 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:47,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:48,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:49,137 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:49,887 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:50,650 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:51,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:52,207 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:53,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:53,344 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:22:53,345 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:22:53,351 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:22:53,352 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:22:53,383 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:22:53,383 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:22:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:22:53,828 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:54,710 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:55,377 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:56,360 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:57,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:57,795 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:58,737 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:22:59,432 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:00,275 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:01,082 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:01,803 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:02,844 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:03,643 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:04,561 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:05,725 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:06,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:08,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:09,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:10,096 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:10,730 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:11,671 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:12,493 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:13,426 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:14,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:14,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:15,942 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:16,692 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:17,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:18,492 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:19,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:19,852 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:20,564 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:21,320 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:21,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:22,686 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:23,644 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:24,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:25,987 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:26,803 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:27,830 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:28,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:29,949 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:31,385 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:32,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:33,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:35,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:36,214 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:37,273 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:38,329 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:39,436 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:40,753 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:42,148 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:43,311 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:44,683 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:46,000 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:47,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:48,657 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:50,035 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:50,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:51,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:52,654 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:53,341 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:23:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:23:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:23:53,352 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:23:53,389 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:23:53,390 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:23:53,390 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:23:53,391 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:23:53,661 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:54,420 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:55,680 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:56,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:58,202 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:23:59,542 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:00,647 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:01,776 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:02,992 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:04,118 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:05,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:06,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:07,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:08,890 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:09,807 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:11,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:12,219 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:13,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:15,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:16,416 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:17,718 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:18,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:19,869 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:20,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:22,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:23,153 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:24,177 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:25,578 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:26,876 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:28,094 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:29,341 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:30,393 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:31,575 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:32,618 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:33,740 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:34,905 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:36,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:37,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:38,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:39,144 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:40,222 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:41,501 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:42,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:43,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:45,030 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:46,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:47,182 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:48,440 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:49,553 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:50,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:51,395 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:52,583 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:53,337 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:24:53,338 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:24:53,349 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:24:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:24:53,382 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:24:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:24:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:24:53,504 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:54,523 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:55,839 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:56,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:57,991 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:24:59,110 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:00,505 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:01,530 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:02,671 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:03,694 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:04,892 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:05,784 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:07,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:08,112 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:09,234 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:10,350 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:11,598 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:13,019 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:14,155 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:15,150 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:16,449 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:17,792 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:18,884 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:20,055 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:21,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:22,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:23,220 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:24,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:25,097 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:26,214 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:27,381 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:28,428 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:29,488 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:30,431 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:31,410 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:32,667 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:33,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:34,470 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:35,391 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:36,364 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:37,155 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:38,211 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:39,333 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:40,226 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:41,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:41,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:42,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:43,595 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:44,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:45,360 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:46,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:47,485 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:48,427 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:49,708 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:50,763 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:52,013 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:53,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:53,339 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:25:53,347 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:25:53,350 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:25:53,350 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:25:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:25:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:25:53,381 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:25:53,382 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:25:54,271 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:55,298 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:56,421 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:57,726 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:58,649 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:25:59,601 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:00,550 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:01,344 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:02,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:03,293 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:04,372 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:05,448 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:06,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:07,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:07,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:08,600 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:09,495 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:10,427 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:11,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:12,667 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:13,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:14,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:15,276 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:16,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:16,821 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:17,541 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:18,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:19,125 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:19,953 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:21,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:21,963 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:23,110 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:24,192 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:25,241 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:26,152 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:26,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:27,632 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:28,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:28,927 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:29,448 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:29,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:30,372 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:30,868 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:31,359 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:32,198 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:32,846 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:33,637 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:34,522 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:35,334 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:36,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:36,990 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:37,773 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:38,648 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:39,415 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:40,249 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:41,137 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:42,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:43,168 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:44,076 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:44,976 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:46,112 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:46,855 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:49,296 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:52,831 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:53,350 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:26:53,351 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:26:53,363 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:26:53,364 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:26:53,383 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:26:53,383 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:26:55,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:26:58,235 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:01,352 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:04,245 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:06,632 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:09,696 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:12,433 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:15,581 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:17,925 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:20,615 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:23,180 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:25,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:27,712 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:29,720 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:31,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:33,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:35,709 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:37,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:40,463 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:42,874 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:45,211 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:47,546 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:49,578 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:52,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:53,355 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:27:53,357 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:27:53,356 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:27:53,357 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:27:53,392 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:27:53,392 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:27:53,392 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:27:54,516 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:27:57,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:00,060 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:03,020 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:08,017 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:12,260 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:15,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:18,315 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:21,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:24,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:27,311 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:30,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:34,345 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:38,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:40,699 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:43,298 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:46,298 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:49,119 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:51,658 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:53,348 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:28:53,349 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:28:53,355 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:28:53,356 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:28:53,386 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:28:53,387 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:28:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:28:53,387 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:28:53,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:55,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:57,193 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:28:58,590 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:00,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:01,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:04,233 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:07,166 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:09,433 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:11,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:13,722 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:16,038 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:18,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:20,294 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:22,050 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:24,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:26,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:28,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:30,983 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:33,149 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:36,229 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:41,632 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:45,193 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:48,109 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:29:48,169 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:29:48,181 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:29:48,181 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:29:48,647 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:49,600 - INFO - app.main - Application startup event triggered.
2025-06-12 23:29:49,601 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:29:49,609 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:29:49,684 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:29:49,705 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:29:49,705 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:29:49,705 - INFO - app.main - Redis publisher background task started
2025-06-12 23:29:49,705 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:29:49,709 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:29:49,711 - INFO - app.main - Application startup event finished.
2025-06-12 23:29:49,711 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:29:49,713 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:29:49,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:50,792 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:50,877 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:29:51,646 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:52,716 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:53,389 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:29:53,393 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:29:53,390 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:29:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:29:53,399 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:29:53,393 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:29:53,400 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:29:53,400 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:29:54,893 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:29:57,184 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:30:00,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:30:49,702 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:30:49,703 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:30:53,343 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:30:53,343 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:30:53,350 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:30:53,351 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:30:53,381 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:30:53,381 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:30:53,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:30:53,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:31:27,353 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:31:27,354 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:31:27,354 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:31:27,354 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:31:27,370 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:31:27,374 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:31:27,374 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:31:27,393 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:31:27,396 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:31:27,397 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:31:27,398 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:31:27,398 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:31:27,401 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:31:27,403 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:31:27,404 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:31:27,404 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:31:27,407 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:31:27,407 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:31:27,410 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:31:27,412 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:31:27,416 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:31:27,419 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:31:27,420 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:31:27,424 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:31:27,640 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:31:27,640 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:31:27,641 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:31:27,641 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:31:27,643 - INFO - app.main - Redis client connection closed.
2025-06-12 23:31:27,643 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:31:27,674 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:31:27,674 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:31:27,674 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:31:27,675 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:31:27,675 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:31:27,676 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:31:27,676 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:31:27,677 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:31:27,677 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:31:27,684 - INFO - app.main - Redis client connection closed.
2025-06-12 23:31:27,684 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:31:27,687 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:31:27,687 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:31:27,687 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:31:27,689 - INFO - app.main - Redis client connection closed.
2025-06-12 23:31:27,689 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:31:27,689 - INFO - app.main - Redis client connection closed.
2025-06-12 23:31:27,689 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:31:27,700 - INFO - app.main - Redis client connection closed.
2025-06-12 23:31:27,701 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:31:30,613 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:31:30,683 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:31:30,700 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:31:30,701 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:31:31,663 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:31:31,663 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:31:31,663 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:31:31,730 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:31:31,730 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:31:31,730 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:31:31,739 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:31:31,740 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:31:31,740 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:31:31,740 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:31:31,740 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:31:31,740 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:31:31,741 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:31:31,741 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:31:31,911 - INFO - app.main - Application startup event triggered.
2025-06-12 23:31:31,912 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:31:31,920 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:31:31,998 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:31:32,016 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:31:32,016 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:31:32,016 - INFO - app.main - Redis publisher background task started
2025-06-12 23:31:32,016 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:31:32,018 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:31:32,020 - INFO - app.main - Application startup event finished.
2025-06-12 23:31:32,020 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:32,021 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:31:33,065 - INFO - app.main - Application startup event triggered.
2025-06-12 23:31:33,067 - INFO - app.main - Application startup event triggered.
2025-06-12 23:31:33,068 - INFO - app.main - Application startup event triggered.
2025-06-12 23:31:33,072 - INFO - app.main - Application startup event triggered.
2025-06-12 23:31:33,073 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:31:33,080 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:31:33,080 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:31:33,067 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:31:33,081 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:31:33,107 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:31:33,108 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:31:33,121 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:31:33,121 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:31:33,121 - INFO - app.main - Redis publisher background task started
2025-06-12 23:31:33,121 - INFO - app.main - Redis publisher background task started
2025-06-12 23:31:33,121 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:31:33,121 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:31:33,121 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:31:33,122 - INFO - app.main - Redis publisher background task started
2025-06-12 23:31:33,122 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:31:33,123 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:31:33,124 - INFO - app.main - Application startup event finished.
2025-06-12 23:31:33,124 - INFO - app.main - Application startup event finished.
2025-06-12 23:31:33,124 - INFO - app.main - Application startup event finished.
2025-06-12 23:31:33,124 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:33,124 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:33,124 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:33,125 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:31:33,125 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:31:33,125 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:31:33,125 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:31:33,161 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:33,990 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:33,995 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:33,990 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:34,007 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:31:36,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 23:31:36,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 23:31:36,697 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 23:31:36,711 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 23:31:36,737 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 23:31:36,819 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 23:31:36,842 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 23:31:36,869 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 23:31:36,897 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 23:31:36,923 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 23:31:36,949 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 23:31:36,977 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 23:31:37,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 23:31:37,025 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 23:31:37,053 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 23:31:37,084 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 23:31:37,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 23:31:37,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 23:31:37,164 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 23:31:37,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 23:31:37,217 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 23:31:37,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 23:31:37,262 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 23:31:37,284 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 23:31:37,305 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 23:31:37,326 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 23:31:37,357 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 23:31:37,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 23:31:37,396 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 23:31:37,407 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 23:31:37,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 23:31:37,433 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 23:31:37,446 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 23:31:37,460 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 23:31:37,473 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 23:31:37,488 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 23:31:37,506 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 23:31:37,521 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 23:31:37,542 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 23:31:37,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 23:31:37,571 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 23:31:37,586 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 23:31:37,598 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 23:31:37,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 23:31:37,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 23:31:37,651 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 23:31:37,664 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 23:31:37,678 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 23:31:37,691 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 23:31:37,704 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 23:31:37,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 23:31:37,731 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 23:31:37,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 23:31:37,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 23:31:37,853 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 23:31:37,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 23:31:37,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 23:31:38,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 23:31:38,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 23:31:38,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 23:31:38,072 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 23:31:38,096 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 23:31:38,110 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 23:31:38,123 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 23:31:38,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 23:31:38,148 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 23:31:38,161 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 23:31:38,175 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 23:31:38,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 23:31:38,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 23:31:38,217 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 23:31:38,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 23:31:38,245 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 23:31:38,257 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 23:31:38,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 23:31:38,292 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 23:31:38,319 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 23:31:38,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 23:31:38,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 23:31:42,401 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:31:45,174 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:31:45,545 - INFO - app.api.v1.endpoints.favorites - Add to favorites request: {'symbol': 'AUDCAD'}
2025-06-12 23:31:47,728 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:31:48,791 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 2 symbols for user 1
2025-06-12 23:31:48,791 - INFO - app.api.v1.endpoints.favorites - Symbols: ['AUDCAD', 'AUDCHF']
2025-06-12 23:31:50,341 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:31:52,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:31:55,697 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:31:57,719 - INFO - app.api.v1.endpoints.favorites - Add to favorites request: {'symbol': 'CADCHF'}
2025-06-12 23:31:58,228 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:01,177 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 3 symbols for user 1
2025-06-12 23:32:01,178 - INFO - app.api.v1.endpoints.favorites - Symbols: ['AUDCAD', 'AUDCHF', 'CADCHF']
2025-06-12 23:32:01,350 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:05,433 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:08,683 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:12,145 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:14,851 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 1 by invalidating refresh token.
2025-06-12 23:32:32,065 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:32:32,066 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:32:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:32:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:32:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:32:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:32:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:32:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:32:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:32:35,079 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 23:32:35,109 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 23:32:35,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 23:32:35,169 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 23:32:35,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 23:32:35,229 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 23:32:35,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 23:32:35,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 23:32:35,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 23:32:35,374 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 23:32:35,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 23:32:35,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 23:32:35,444 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 23:32:35,479 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 23:32:35,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 23:32:35,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 23:32:35,569 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 23:32:35,608 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 23:32:35,641 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 23:32:35,671 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 23:32:35,704 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 23:32:35,747 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 23:32:35,806 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 23:32:35,843 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 23:32:35,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 23:32:35,931 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 23:32:35,954 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 23:32:35,994 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 23:32:36,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 23:32:36,056 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 23:32:36,076 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 23:32:36,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 23:32:36,101 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 23:32:36,114 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 23:32:36,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 23:32:36,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 23:32:36,154 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 23:32:36,171 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 23:32:36,184 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 23:32:36,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 23:32:36,213 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 23:32:36,228 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 23:32:36,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 23:32:36,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 23:32:36,297 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 23:32:36,348 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 23:32:36,390 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 23:32:36,516 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 23:32:36,687 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 23:32:36,723 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 23:32:36,733 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 23:32:36,751 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 23:32:36,762 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 23:32:36,778 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 23:32:36,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 23:32:36,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 23:32:36,825 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 23:32:36,843 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 23:32:36,857 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 23:32:36,870 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 23:32:36,886 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 23:32:36,905 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 23:32:36,919 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 23:32:36,932 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 23:32:36,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 23:32:36,957 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 23:32:36,970 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 23:32:36,986 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 23:32:36,999 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 23:32:37,011 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 23:32:37,026 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 23:32:37,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 23:32:37,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 23:32:37,067 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 23:32:37,081 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 23:32:37,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 23:32:37,110 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 23:32:37,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 23:32:37,143 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 23:32:39,959 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 3 symbols for user 1
2025-06-12 23:32:39,959 - INFO - app.api.v1.endpoints.favorites - Symbols: ['AUDCAD', 'AUDCHF', 'CADCHF']
2025-06-12 23:32:42,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:44,508 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:46,497 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:49,685 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:52,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:56,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:32:59,449 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:00,927 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:02,191 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:03,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:04,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:06,075 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:07,326 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:08,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:09,956 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:11,276 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:12,386 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:13,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:14,701 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:16,070 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:17,346 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:18,440 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 3 symbols for user 1
2025-06-12 23:33:18,441 - INFO - app.api.v1.endpoints.favorites - Symbols: ['AUDCAD', 'AUDCHF', 'CADCHF']
2025-06-12 23:33:18,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:19,951 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:21,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:22,087 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:23,391 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:24,752 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:26,019 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:27,280 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:28,555 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:29,830 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:31,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:32,021 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:33:32,021 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:33:32,987 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:33,120 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:33:33,120 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:33:33,120 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:33:33,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:33:33,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:33:33,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:33:33,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:33:33,126 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:33:34,263 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:35,366 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:36,893 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:38,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:39,630 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:40,956 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:42,521 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:44,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:45,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:46,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:47,455 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:48,402 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:49,981 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:51,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:52,095 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:53,014 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:54,025 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:54,992 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:56,011 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:56,973 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:33:59,293 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 23:33:59,334 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 23:33:59,346 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 23:33:59,360 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 23:33:59,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 23:33:59,388 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 23:33:59,398 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 23:33:59,407 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 23:33:59,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 23:33:59,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 23:33:59,446 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 23:33:59,460 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 23:33:59,468 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 23:33:59,478 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 23:33:59,489 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 23:33:59,500 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 23:33:59,509 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 23:33:59,519 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 23:33:59,531 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 23:33:59,543 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 23:33:59,556 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 23:33:59,567 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 23:33:59,577 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 23:33:59,583 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 23:33:59,590 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 23:33:59,598 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 23:33:59,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 23:33:59,613 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 23:33:59,620 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 23:33:59,629 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 23:33:59,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 23:33:59,643 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 23:33:59,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 23:33:59,671 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 23:33:59,678 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 23:33:59,684 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 23:33:59,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 23:33:59,696 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 23:33:59,703 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 23:33:59,709 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 23:33:59,716 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 23:33:59,723 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 23:33:59,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 23:33:59,741 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 23:33:59,752 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 23:33:59,759 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 23:33:59,767 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 23:33:59,776 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 23:33:59,782 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 23:33:59,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 23:33:59,796 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 23:33:59,802 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 23:33:59,810 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 23:33:59,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 23:33:59,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 23:33:59,832 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 23:33:59,839 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 23:33:59,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 23:33:59,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 23:33:59,866 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 23:33:59,877 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 23:33:59,886 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 23:33:59,895 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 23:33:59,905 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 23:33:59,915 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 23:33:59,924 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 23:33:59,933 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 23:33:59,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 23:33:59,952 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 23:33:59,959 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 23:33:59,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 23:33:59,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 23:33:59,978 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 23:33:59,988 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 23:33:59,994 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 23:34:00,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 23:34:00,010 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 23:34:00,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 23:34:00,036 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 23:34:02,659 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:03,841 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:04,897 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:05,707 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:06,653 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:07,671 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:08,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:09,498 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:10,592 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:11,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:12,436 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:13,411 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:14,731 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:16,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:18,207 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:19,470 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:20,475 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:21,532 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:22,829 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:23,838 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:24,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:25,474 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:26,581 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:27,555 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:28,680 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:29,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:30,592 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:31,383 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:32,016 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:34:32,017 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:34:32,186 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:32,944 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:33,118 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:34:33,119 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:34:33,119 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:34:33,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:34:33,119 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:34:33,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:34:34,081 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:35,118 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:36,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:37,407 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:38,512 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:39,532 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:40,646 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:41,657 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:42,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:43,616 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:44,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:45,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:46,019 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:46,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:47,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:48,830 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:49,812 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:50,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:51,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:52,557 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:53,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:54,391 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:55,370 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:56,432 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:57,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:58,467 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:34:59,454 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:00,481 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:01,430 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:02,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:03,834 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:04,717 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:05,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:06,571 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:07,551 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:08,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:09,785 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:10,727 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:11,704 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:12,404 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:13,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:14,180 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:14,964 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:15,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:16,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:17,363 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:18,235 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:18,990 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:19,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:20,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:21,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:22,102 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:22,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:23,587 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:24,667 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:25,757 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:27,009 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:28,376 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:29,557 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:30,644 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:31,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:32,012 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:35:32,012 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:35:32,444 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:33,119 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:35:33,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:35:33,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:35:33,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:35:33,127 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:35:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:35:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:35:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:35:33,182 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:34,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:34,854 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:35,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:36,825 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:37,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:38,610 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:39,508 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:40,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:41,271 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:42,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:43,029 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:43,869 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:44,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:45,448 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:46,210 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:47,103 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:47,970 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:48,890 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:49,784 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:50,562 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:51,450 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:52,473 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:53,346 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:54,307 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:55,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:56,418 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:57,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:58,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:35:59,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:00,781 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:01,905 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:02,996 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:03,886 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:04,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:05,783 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:06,813 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:07,712 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:08,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:09,489 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:10,280 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:11,059 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:11,855 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:12,532 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:13,172 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:13,755 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:14,264 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:14,829 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:15,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:16,801 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:17,884 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:18,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:20,026 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:21,278 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:22,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:23,285 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:24,341 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:25,464 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:26,500 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:27,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:28,611 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:29,482 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:30,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:31,448 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:32,011 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:36:32,012 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:36:32,571 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:33,119 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:36:33,120 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:36:33,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:36:33,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:36:33,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:36:33,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:36:33,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:36:33,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:36:33,621 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:34,784 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:35,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:36,789 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:37,763 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:38,527 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:39,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:40,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:41,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:42,271 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:43,112 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:44,118 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:45,086 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:45,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:47,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:48,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:48,968 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:49,748 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:50,727 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:51,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:52,667 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:53,590 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:54,498 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:55,577 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:56,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:57,843 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:58,756 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:36:59,711 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:00,731 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:01,827 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:02,926 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:03,888 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:04,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:05,948 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:07,043 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:08,009 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:08,775 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:09,605 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:10,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:11,218 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:12,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:12,964 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:14,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:14,976 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:16,018 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:17,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:18,255 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:19,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:20,559 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:21,661 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:22,726 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:23,809 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:24,874 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:25,773 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:26,878 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:27,842 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:28,818 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:29,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:30,945 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:31,938 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:32,023 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:37:32,024 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:37:32,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:33,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:37:33,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:37:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:37:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:37:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:37:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:37:33,907 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:34,808 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:35,767 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:36,670 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:37,631 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:38,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:39,764 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:40,925 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:42,165 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:43,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:44,425 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:45,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:46,705 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:47,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:48,855 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:49,879 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:51,004 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:51,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:52,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:53,862 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:54,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:55,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:56,883 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:57,896 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:58,914 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:37:59,904 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:00,919 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:01,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:03,074 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:04,214 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:05,576 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:06,790 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:07,728 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:08,573 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:09,539 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:10,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:11,334 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:12,141 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:12,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:13,848 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:14,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:15,639 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:16,582 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:17,654 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:18,604 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:19,596 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:20,604 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:21,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:21,715 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:22,242 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:22,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:23,365 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:23,935 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:24,434 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:24,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:25,505 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:26,033 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:27,006 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:27,989 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:28,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:30,043 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:31,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:32,017 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:38:32,017 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:38:32,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:33,126 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:38:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:38:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:38:33,126 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:38:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:38:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:38:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:38:34,135 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:35,306 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:36,593 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:38,013 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:39,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:40,464 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:41,702 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:42,967 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:44,639 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:46,266 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:47,588 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:48,765 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:50,199 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:51,568 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:52,781 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:53,857 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:54,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:55,936 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:56,936 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:58,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:38:59,699 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:01,117 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:02,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:03,761 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:04,778 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:05,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:06,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:07,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:08,998 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:09,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:10,998 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:12,053 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:12,910 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:13,892 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:14,961 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:16,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:16,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:17,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:18,821 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:20,024 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:21,038 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:22,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:23,155 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:24,232 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:25,432 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:26,523 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:27,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:28,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:29,973 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:31,106 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:32,010 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:39:32,010 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:39:32,049 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:33,123 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:33,125 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:39:33,125 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:39:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:39:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:39:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:39:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:39:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:39:34,345 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:35,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:36,569 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:37,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:38,871 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:40,062 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:39:41,171 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:40:32,014 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:40:32,015 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:40:33,130 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:40:33,130 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:40:33,130 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:40:33,131 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:40:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:40:33,131 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:40:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:40:33,131 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:41:32,011 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:41:32,011 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:41:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:41:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:41:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:41:33,130 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:41:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:41:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:41:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:41:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:42:32,010 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:42:32,010 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:42:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:42:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:42:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:42:33,128 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:42:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:42:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:42:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:43:32,023 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:43:32,023 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:43:33,119 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:43:33,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:43:33,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:43:33,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:43:33,121 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:43:33,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:43:33,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:43:36,331 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:43:36,333 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:43:36,334 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:43:36,339 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:43:37,549 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:43:37,549 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:43:37,549 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:43:37,550 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:43:37,560 - INFO - app.main - Redis client connection closed.
2025-06-12 23:43:37,560 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:44:33,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:44:33,121 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:44:33,123 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:44:33,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:44:33,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:44:33,122 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:44:33,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:44:33,124 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:45:33,122 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:45:33,122 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:45:33,122 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:45:33,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:45:33,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:45:33,123 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:45:42,857 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 23:45:42,868 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 23:45:42,879 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 23:45:42,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 23:45:42,897 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 23:45:42,909 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 23:45:42,919 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 23:45:42,930 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 23:45:42,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 23:45:42,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 23:45:42,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 23:45:42,981 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 23:45:42,992 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 23:45:43,004 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 23:45:43,014 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 23:45:43,024 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 23:45:43,034 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 23:45:43,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 23:45:43,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 23:45:43,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 23:45:43,076 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 23:45:43,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 23:45:43,098 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 23:45:43,109 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 23:45:43,121 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 23:45:43,131 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 23:45:43,143 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 23:45:43,187 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 23:45:43,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 23:45:43,215 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 23:45:43,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 23:45:43,244 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 23:45:43,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 23:45:43,269 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 23:45:43,283 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 23:45:43,295 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 23:45:43,307 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 23:45:43,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 23:45:43,330 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 23:45:43,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 23:45:43,350 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 23:45:43,362 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 23:45:43,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 23:45:43,384 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 23:45:43,395 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 23:45:43,406 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 23:45:43,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 23:45:43,430 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 23:45:43,442 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 23:45:43,454 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 23:45:43,467 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 23:45:43,478 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 23:45:43,488 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 23:45:43,498 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 23:45:43,507 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 23:45:43,517 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 23:45:43,527 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 23:45:43,537 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 23:45:43,548 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 23:45:43,559 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 23:45:43,570 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 23:45:43,581 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 23:45:43,593 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 23:45:43,603 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 23:45:43,615 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 23:45:43,628 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 23:45:43,639 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 23:45:43,650 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 23:45:43,665 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 23:45:43,680 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 23:45:43,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 23:45:43,700 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 23:45:43,708 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 23:45:43,719 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 23:45:43,728 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 23:45:43,738 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 23:45:43,749 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 23:45:43,760 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 23:45:43,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 23:45:45,735 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:47,073 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:48,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:49,561 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:50,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:52,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:53,462 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:54,742 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:55,703 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:56,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:57,467 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:58,438 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:45:59,690 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:01,163 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:02,473 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:03,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:05,138 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:06,383 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:07,695 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:09,074 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:10,376 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:11,838 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:13,199 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:14,781 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:16,321 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:17,848 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:19,304 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:20,721 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:22,053 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:23,481 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:24,799 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:46:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:46:33,128 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:46:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:46:33,129 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:46:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:46:33,129 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:46:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:46:33,130 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:46:58,015 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:46:58,065 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:46:58,074 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:46:58,075 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:46:59,204 - INFO - app.main - Application startup event triggered.
2025-06-12 23:46:59,204 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:46:59,213 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:46:59,268 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:46:59,288 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:46:59,288 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:46:59,288 - INFO - app.main - Redis publisher background task started
2025-06-12 23:46:59,288 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:46:59,289 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:46:59,290 - INFO - app.main - Application startup event finished.
2025-06-12 23:46:59,291 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:46:59,292 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:47:00,365 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:26,982 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:47:26,983 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:47:26,984 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:47:26,986 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:47:26,986 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:47:27,099 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:47:27,101 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:47:27,102 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:47:27,108 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:47:27,110 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:47:27,128 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:47:27,128 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:47:27,130 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:47:27,130 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:47:27,130 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:47:27,130 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:47:27,131 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:47:27,133 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:47:27,133 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:47:27,137 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:47:27,138 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:47:27,138 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:47:27,139 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:47:27,139 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:47:27,141 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:47:27,827 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:47:27,827 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:47:27,827 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:47:27,828 - INFO - app.main - Redis client connection closed.
2025-06-12 23:47:27,828 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:47:27,884 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:47:27,885 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:47:27,885 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:47:27,887 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:47:27,888 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:47:27,888 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:47:27,889 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:47:27,889 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:47:27,890 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:47:27,893 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:47:27,893 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:47:27,894 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:47:27,900 - INFO - app.main - Redis client connection closed.
2025-06-12 23:47:27,901 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:47:27,904 - INFO - app.main - Redis client connection closed.
2025-06-12 23:47:27,905 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:47:27,909 - INFO - app.main - Redis client connection closed.
2025-06-12 23:47:27,909 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:47:27,910 - INFO - app.main - Redis client connection closed.
2025-06-12 23:47:27,911 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:47:30,443 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:47:30,474 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:47:30,482 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:47:30,482 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:47:30,716 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:47:30,728 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:47:30,731 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:47:30,744 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:47:30,752 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:47:30,753 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:47:30,756 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:47:30,759 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:47:30,769 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:47:30,769 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:47:30,771 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:47:30,771 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:47:30,771 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:47:30,808 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:47:30,816 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:47:30,816 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:47:31,599 - INFO - app.main - Application startup event triggered.
2025-06-12 23:47:31,599 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:47:31,605 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:47:31,638 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:47:31,648 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:47:31,648 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:47:31,649 - INFO - app.main - Redis publisher background task started
2025-06-12 23:47:31,649 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:47:31,650 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:47:31,650 - INFO - app.main - Application startup event finished.
2025-06-12 23:47:31,651 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:31,652 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:47:31,671 - INFO - app.main - Application startup event triggered.
2025-06-12 23:47:31,671 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:47:31,680 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:47:31,688 - INFO - app.main - Application startup event triggered.
2025-06-12 23:47:31,688 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:47:31,695 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:47:31,697 - INFO - app.main - Application startup event triggered.
2025-06-12 23:47:31,697 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:47:31,705 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:47:31,710 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:47:31,716 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:47:31,716 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:47:31,716 - INFO - app.main - Redis publisher background task started
2025-06-12 23:47:31,716 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:47:31,717 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:47:31,718 - INFO - app.main - Application startup event finished.
2025-06-12 23:47:31,718 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:31,719 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:47:31,722 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:47:31,728 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:47:31,728 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:47:31,728 - INFO - app.main - Redis publisher background task started
2025-06-12 23:47:31,728 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:47:31,728 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:47:31,729 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:47:31,729 - INFO - app.main - Application startup event finished.
2025-06-12 23:47:31,730 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:31,730 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:47:31,735 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:47:31,735 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:47:31,735 - INFO - app.main - Redis publisher background task started
2025-06-12 23:47:31,736 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:47:31,737 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:47:31,738 - INFO - app.main - Application startup event finished.
2025-06-12 23:47:31,739 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:31,739 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:47:31,754 - INFO - app.main - Application startup event triggered.
2025-06-12 23:47:31,754 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:47:31,758 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:47:31,777 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:47:31,782 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:47:31,782 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:47:31,782 - INFO - app.main - Redis publisher background task started
2025-06-12 23:47:31,782 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:47:31,782 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:47:31,783 - INFO - app.main - Application startup event finished.
2025-06-12 23:47:31,783 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:31,784 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:47:32,635 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:32,638 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:32,635 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:32,650 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:47:32,740 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:03,211 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:03,212 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:03,212 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:03,214 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:03,214 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:03,277 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:03,277 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:03,277 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:03,279 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:03,279 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:03,322 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:03,323 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:03,323 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:03,323 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:03,323 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:03,323 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:03,323 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:03,324 - INFO - app.main - Background task 'Task-5' cancelled successfully.
d.
2025-06-12 23:48:03,324 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:03,324 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:04,685 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:04,686 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:04,686 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:04,687 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:04,687 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:04,687 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:04,687 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:04,687 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:04,687 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:04,687 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:04,687 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:04,687 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:04,687 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:04,687 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:04,687 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:04,688 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:04,688 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:04,688 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:04,688 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:04,688 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:04,688 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:04,697 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:04,697 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:04,697 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:04,698 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:04,698 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:07,880 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:48:07,893 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:48:07,898 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:48:07,905 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:48:07,906 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:48:07,912 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:48:07,913 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:48:07,916 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:48:07,923 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:48:07,923 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:48:07,941 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:48:07,945 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:48:07,951 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:48:07,951 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:48:07,955 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:48:07,955 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:48:07,970 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:48:08,009 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:48:08,018 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:48:08,018 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:48:08,791 - INFO - app.main - Application startup event triggered.
2025-06-12 23:48:08,793 - INFO - app.main - Application startup event triggered.
2025-06-12 23:48:08,793 - INFO - app.main - Application startup event triggered.
2025-06-12 23:48:08,791 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:48:08,796 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:48:08,794 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:48:08,800 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:48:08,793 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:48:08,802 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:48:08,805 - INFO - app.main - Application startup event triggered.
2025-06-12 23:48:08,805 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:48:08,815 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:48:08,828 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:48:08,829 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:48:08,836 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:48:08,836 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:48:08,836 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:48:08,836 - INFO - app.main - Redis publisher background task started
2025-06-12 23:48:08,836 - INFO - app.main - Redis publisher background task started
task started
2025-06-12 23:48:08,836 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:48:08,837 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:48:08,837 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:48:08,837 - INFO - app.main - Redis publisher background task started
2025-06-12 23:48:08,837 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:48:08,837 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:48:08,838 - INFO - app.main - Application startup event finished.
2025-06-12 23:48:08,838 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:08,838 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:08,839 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
ession
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:48:08,840 - INFO - app.main - Application startup event finished.
2025-06-12 23:48:08,840 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:08,841 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:48:08,863 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:48:08,892 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:48:08,892 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:48:08,893 - INFO - app.main - Redis publisher background task started
2025-06-12 23:48:08,893 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:48:08,894 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:48:08,895 - INFO - app.main - Application startup event finished.
2025-06-12 23:48:08,895 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:08,896 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:48:08,906 - INFO - app.main - Application startup event triggered.
2025-06-12 23:48:08,907 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:48:08,912 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:48:08,938 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:48:08,944 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:48:08,945 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:48:08,945 - INFO - app.main - Redis publisher background task started
2025-06-12 23:48:08,945 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:48:08,945 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:48:08,946 - INFO - app.main - Application startup event finished.
2025-06-12 23:48:08,946 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:08,947 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:48:09,806 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:09,809 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:09,820 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:09,827 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:09,837 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:48:57,166 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:57,166 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:57,166 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:57,168 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:57,169 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:57,232 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:57,233 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:57,233 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:57,235 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:57,236 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:57,256 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:57,256 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:57,257 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:57,259 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:57,260 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:57,270 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:48:57,270 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:48:57,270 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:57,270 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:48:57,272 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:57,272 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:48:57,273 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:48:57,469 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:57,469 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:57,469 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:57,470 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:57,470 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:57,470 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:57,470 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:57,470 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:57,471 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:57,471 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:57,471 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:57,471 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:57,471 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:57,471 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:57,471 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:48:57,471 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:57,471 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:48:57,472 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:57,472 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:48:57,472 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:57,472 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:57,472 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:57,472 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:48:57,473 - INFO - app.main - Redis client connection closed.
2025-06-12 23:48:57,473 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:49:00,281 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:00,288 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:00,299 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:00,308 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:00,308 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:00,309 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:00,311 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:00,319 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:00,319 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:00,327 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:00,328 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:00,331 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:00,340 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:00,340 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:00,348 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:00,355 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:00,355 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:00,357 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:00,357 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:01,119 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:01,119 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:01,125 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:01,137 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:01,143 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:01,137 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:01,144 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:01,143 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:01,151 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:01,151 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:01,159 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:01,159 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:01,159 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:01,159 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:01,161 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:01,162 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:01,162 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:01,162 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:01,164 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:01,169 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:01,165 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:01,173 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:01,176 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:01,176 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:01,176 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:01,176 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:01,177 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:01,178 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:01,178 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:01,180 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:01,188 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:01,200 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:01,200 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:01,200 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:01,200 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:01,203 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:01,204 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:01,204 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:01,205 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:01,223 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:01,230 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:01,230 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:01,230 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:01,230 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:01,231 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:01,232 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:01,233 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:01,235 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:01,244 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:01,245 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:01,251 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:01,282 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:01,287 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:01,287 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:01,287 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:01,287 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:01,288 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:01,288 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:01,288 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:01,289 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:02,133 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:02,133 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:02,143 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:02,351 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:20,708 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:49:20,709 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:49:20,709 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:49:20,712 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:49:20,712 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:49:20,742 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:49:20,743 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:49:20,743 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:49:20,744 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:49:20,745 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:49:20,773 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:49:20,774 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:49:20,774 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:49:20,775 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:49:20,775 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:49:20,779 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:49:20,780 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:49:20,780 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:49:20,781 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:49:20,782 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:49:20,787 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:49:20,787 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:49:20,787 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:49:20,788 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:49:20,788 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:49:23,022 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:49:23,022 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:49:23,022 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:49:23,022 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:49:23,022 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:49:23,022 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:49:23,022 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:49:23,022 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:49:23,022 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:49:23,023 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:49:23,023 - INFO - app.main - Redis client connection closed.
2025-06-12 23:49:23,023 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:49:23,023 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:49:23,023 - INFO - app.main - Redis client connection closed.
2025-06-12 23:49:23,023 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:49:23,023 - INFO - app.main - Background task 'Task-3' cancelled successfully.
nished.
2025-06-12 23:49:23,023 - INFO - app.main - Redis client connection closed.
2025-06-12 23:49:23,023 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:49:23,023 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:49:23,023 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:49:23,024 - INFO - app.main - Redis client connection closed.
2025-06-12 23:49:23,024 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:49:23,024 - INFO - app.main - Redis client connection closed.
2025-06-12 23:49:23,024 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:49:26,256 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:26,263 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:26,299 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:26,301 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:26,307 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:26,307 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:26,315 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:26,318 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:26,318 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:26,318 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:26,319 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:26,331 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:26,333 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:26,361 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:26,368 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:26,377 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:26,377 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:26,383 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:26,383 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:28,074 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:28,074 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:28,085 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:28,107 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:28,110 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:28,112 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:28,108 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:28,118 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:28,110 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:28,122 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:28,113 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:28,124 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:28,164 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:28,168 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:28,177 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:28,178 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:28,183 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:28,185 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:28,185 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:28,185 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:28,192 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:28,193 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:28,193 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:28,190 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:28,193 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:28,193 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:28,195 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:28,195 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:28,195 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:28,195 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:28,196 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:28,196 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:28,196 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:28,196 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:28,197 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:28,197 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:28,199 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:28,199 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:28,198 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:28,200 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:28,200 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:28,200 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:28,201 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:28,201 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:28,202 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:28,202 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:28,202 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:28,287 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:28,287 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:28,292 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:28,323 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:28,335 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:28,335 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:28,335 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:28,335 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:28,336 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:28,337 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:28,337 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:28,338 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:29,215 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:29,225 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:29,589 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:29,589 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:38,839 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:49:38,856 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:49:38,869 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:49:38,870 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:49:39,539 - INFO - app.main - Application startup event triggered.
2025-06-12 23:49:39,539 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:49:39,542 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:49:39,604 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:49:39,611 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:49:39,611 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:49:39,612 - INFO - app.main - Redis publisher background task started
2025-06-12 23:49:39,612 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:49:39,612 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:49:39,613 - INFO - app.main - Application startup event finished.
2025-06-12 23:49:39,613 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:49:39,614 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:49:40,910 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:28,182 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:50:28,182 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:50:28,183 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:50:28,191 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:50:28,191 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:50:28,344 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:50:28,344 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:50:29,973 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:50:29,973 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:50:29,973 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:50:29,975 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:50:29,975 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:50:29,978 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:50:29,978 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:50:29,978 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:50:29,980 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:50:29,980 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:50:29,997 - INFO - app.main - Application shutdown event triggered.
2025-06-12 23:50:29,997 - INFO - app.main - APScheduler shut down gracefully.
2025-06-12 23:50:29,998 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:50:29,998 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-12 23:50:29,998 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:50:29,998 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:50:29,999 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:50:29,999 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:50:29,999 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-12 23:50:29,999 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:50:29,999 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-12 23:50:32,243 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:50:32,243 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:50:32,243 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:50:32,244 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:50:32,244 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:50:32,244 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:50:32,245 - INFO - app.main - Redis client connection closed.
2025-06-12 23:50:32,245 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:50:32,245 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:50:32,245 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:50:32,245 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:50:32,245 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:50:32,245 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:50:32,246 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:50:32,246 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:50:32,246 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-12 23:50:32,246 - INFO - app.main - Redis client connection closed.
2025-06-12 23:50:32,246 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-12 23:50:32,246 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:50:32,246 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:50:32,246 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-12 23:50:32,246 - INFO - app.main - Redis client connection closed.
2025-06-12 23:50:32,247 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:50:32,247 - INFO - app.main - Redis client connection closed.
2025-06-12 23:50:32,247 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:50:32,247 - INFO - app.main - Redis client connection closed.
2025-06-12 23:50:32,248 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:50:32,248 - INFO - app.main - Application shutdown event finished.
2025-06-12 23:50:37,187 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:50:37,193 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:50:37,221 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:50:37,223 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:50:37,231 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:50:37,231 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:50:37,234 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:50:37,234 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:50:37,310 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:50:37,352 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:50:37,366 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:50:37,366 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:50:37,401 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:50:37,404 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:50:37,427 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:50:37,428 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:50:37,429 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-12 23:50:37,436 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:50:37,436 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:50:37,437 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:50:37,438 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:50:37,455 - INFO - app.core.config - .env file loaded successfully.
2025-06-12 23:50:37,469 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-12 23:50:37,469 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-12 23:50:38,261 - INFO - app.main - Application startup event triggered.
2025-06-12 23:50:38,261 - INFO - app.main - Application startup event triggered.
2025-06-12 23:50:38,264 - INFO - app.main - Application startup event triggered.
2025-06-12 23:50:38,261 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:50:38,266 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:50:38,261 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:50:38,268 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:50:38,264 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:50:38,269 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:50:38,310 - INFO - app.main - Application startup event triggered.
2025-06-12 23:50:38,310 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:50:38,316 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:50:38,337 - INFO - app.main - Application startup event triggered.
2025-06-12 23:50:38,337 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:50:38,343 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:50:38,384 - INFO - app.main - Application startup event triggered.
2025-06-12 23:50:38,384 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-12 23:50:38,388 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-12 23:50:38,390 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:50:38,390 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:50:38,390 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:50:38,397 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:50:38,397 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:50:38,397 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:50:38,397 - INFO - app.main - Redis publisher background task started
2025-06-12 23:50:38,397 - INFO - app.main - Firebase events processor background task started
ed
2025-06-12 23:50:38,397 - INFO - app.main - Redis publisher background task started
2025-06-12 23:50:38,397 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:50:38,398 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:50:38,398 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:50:38,398 - INFO - app.main - Application startup event finished.
2025-06-12 23:50:38,398 - INFO - app.main - Application startup event finished.
2025-06-12 23:50:38,398 - INFO - app.main - Application startup event finished.
2025-06-12 23:50:38,399 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:38,399 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:38,399 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:50:38,399 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:50:38,399 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:50:38,437 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:50:38,444 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:50:38,444 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:50:38,445 - INFO - app.main - Redis publisher background task started
2025-06-12 23:50:38,445 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:50:38,446 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:50:38,446 - INFO - app.main - Application startup event finished.
2025-06-12 23:50:38,447 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:38,447 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:50:38,451 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:50:38,457 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:50:38,457 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:50:38,457 - INFO - app.main - Redis publisher background task started
2025-06-12 23:50:38,457 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:50:38,458 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:50:38,459 - INFO - app.main - Application startup event finished.
2025-06-12 23:50:38,459 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:38,459 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:50:38,512 - INFO - app.main - Redis connection pool initialized successfully
2025-06-12 23:50:38,525 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-12 23:50:38,525 - INFO - app.main - Firebase events processor background task started
2025-06-12 23:50:38,525 - INFO - app.main - Redis publisher background task started
2025-06-12 23:50:38,526 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-12 23:50:38,528 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-12 23:50:38,529 - INFO - app.main - Application startup event finished.
2025-06-12 23:50:38,530 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:38,530 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-12 23:50:39,400 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:39,417 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:39,426 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:39,434 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:39,513 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-12 23:50:40,498 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 23:50:40,510 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 23:50:40,528 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 23:50:40,540 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 23:50:40,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 23:50:40,568 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 23:50:40,579 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 23:50:40,590 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 23:50:40,603 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 23:50:40,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 23:50:40,630 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 23:50:40,643 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 23:50:40,657 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 23:50:40,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 23:50:40,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 23:50:40,707 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 23:50:40,722 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 23:50:40,739 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 23:50:40,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 23:50:40,771 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 23:50:40,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 23:50:40,801 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 23:50:40,818 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 23:50:40,834 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 23:50:40,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 23:50:40,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 23:50:40,877 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 23:50:40,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 23:50:40,904 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 23:50:40,922 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 23:50:40,936 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 23:50:40,954 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 23:50:40,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 23:50:40,980 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 23:50:40,995 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 23:50:41,015 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 23:50:41,032 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 23:50:41,049 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 23:50:41,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 23:50:41,076 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 23:50:41,087 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 23:50:41,100 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 23:50:41,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 23:50:41,123 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 23:50:41,135 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 23:50:41,147 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 23:50:41,162 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 23:50:41,174 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 23:50:41,190 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 23:50:41,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 23:50:41,219 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 23:50:41,236 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 23:50:41,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 23:50:41,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 23:50:41,291 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 23:50:41,303 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 23:50:41,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 23:50:41,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 23:50:41,350 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 23:50:41,365 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 23:50:41,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 23:50:41,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 23:50:41,406 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 23:50:41,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 23:50:41,434 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 23:50:41,446 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 23:50:41,457 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 23:50:41,471 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 23:50:41,486 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 23:50:41,503 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 23:50:41,521 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 23:50:41,534 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 23:50:41,548 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 23:50:41,559 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 23:50:41,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 23:50:41,645 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 23:50:41,659 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 23:50:41,671 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 23:50:41,698 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 23:50:47,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:50:50,133 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:50:52,805 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:50:55,761 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:50:58,322 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:01,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:03,277 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:06,467 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:09,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:13,479 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:15,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:17,907 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:21,608 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:24,415 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:28,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:32,063 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:35,842 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:38,322 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:51:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:51:38,399 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:51:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:51:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:51:38,400 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:51:38,447 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:51:38,447 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:51:38,460 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:51:38,461 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:51:38,523 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:51:38,524 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:51:41,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:44,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:46,692 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:49,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:52,362 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:55,292 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:51:58,022 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:01,140 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:03,535 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:06,220 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:09,096 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:12,428 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:15,397 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:17,577 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:19,842 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:23,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:25,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:28,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:31,134 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:34,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:37,249 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:38,395 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:52:38,395 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:52:38,396 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:52:38,396 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:52:38,409 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:52:38,410 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:52:38,450 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:52:38,451 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:52:38,460 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:52:38,460 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:52:38,523 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:52:38,524 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:52:39,989 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:42,595 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:45,027 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:47,983 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:51,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:54,280 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:52:57,356 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:00,353 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:03,442 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:06,272 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:09,425 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:12,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:15,798 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:18,740 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:22,190 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:25,430 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:28,367 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:31,567 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:35,130 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:38,254 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:38,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:53:38,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:53:38,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:53:38,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:53:38,400 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:53:38,401 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:53:38,443 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:53:38,443 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:53:38,458 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:53:38,459 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:53:38,520 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:53:38,521 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:53:41,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:45,592 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:50,605 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:55,390 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:53:59,005 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:02,408 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:04,794 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:07,788 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:10,159 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:13,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:16,784 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:19,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:23,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:26,322 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:29,864 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:33,306 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:37,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:38,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:54:38,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:54:38,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:54:38,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:54:38,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:54:38,451 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:54:38,454 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:54:38,459 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:54:38,455 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:54:38,460 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:54:38,532 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:54:38,533 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:54:40,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:44,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:46,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:49,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:53,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:54:57,009 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:01,150 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:04,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:08,134 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:11,639 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:14,777 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:18,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:21,864 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:25,284 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:28,664 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:36,371 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:55:38,399 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:55:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:55:38,400 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:55:38,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:55:38,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:55:38,470 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:55:38,471 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:55:38,573 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:55:38,587 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:55:38,628 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:55:38,641 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:55:46,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:55:54,055 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:02,188 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:11,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:22,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:29,438 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:38,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:56:38,396 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:56:38,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:56:38,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:56:38,397 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:56:38,398 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:56:38,450 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:56:38,458 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:56:38,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:56:38,460 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:56:38,520 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:56:38,521 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:56:39,282 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:45,614 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:51,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:56:58,366 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:03,887 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:09,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:14,633 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:21,420 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:23,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:25,511 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:27,377 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:29,102 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:30,884 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:32,628 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:34,501 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:36,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:37,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:38,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:57:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:57:38,398 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:57:38,401 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:57:38,402 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:57:38,446 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:57:38,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:57:38,461 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:57:38,462 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:57:38,525 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:57:38,526 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:57:39,145 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:40,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:42,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:43,983 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:45,535 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:47,024 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:48,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:50,046 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:51,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:53,019 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:54,433 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:56,200 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:57,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:57:59,644 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:01,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:02,883 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:04,602 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:06,115 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:07,700 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:09,374 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:11,003 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:12,796 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:14,684 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:16,438 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:18,102 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:19,725 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:21,361 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:23,017 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:25,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:26,560 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:28,378 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:31,345 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:38,410 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:58:38,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:58:38,450 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:58:38,459 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:58:38,460 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:58:38,458 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:58:38,522 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:58:38,526 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:58:38,614 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:58:38,898 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:58:45,641 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:58:56,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:01,847 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:07,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:12,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:16,707 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:20,523 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:34,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-12 23:59:34,173 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-12 23:59:34,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-12 23:59:34,410 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-12 23:59:34,456 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-12 23:59:34,502 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-12 23:59:34,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-12 23:59:34,602 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-12 23:59:34,648 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-12 23:59:34,697 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-12 23:59:34,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-12 23:59:34,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-12 23:59:34,862 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-12 23:59:34,907 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-12 23:59:34,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-12 23:59:34,997 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-12 23:59:35,040 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-12 23:59:35,084 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-12 23:59:35,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-12 23:59:35,175 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-12 23:59:35,352 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-12 23:59:35,598 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-12 23:59:36,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-12 23:59:36,354 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-12 23:59:36,711 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-12 23:59:36,768 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-12 23:59:36,819 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-12 23:59:36,893 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-12 23:59:36,974 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-12 23:59:37,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-12 23:59:37,037 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-12 23:59:37,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-12 23:59:37,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-12 23:59:37,125 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-12 23:59:37,162 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-12 23:59:37,188 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-12 23:59:37,220 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-12 23:59:37,260 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-12 23:59:37,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-12 23:59:37,316 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-12 23:59:37,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-12 23:59:37,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-12 23:59:37,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-12 23:59:37,439 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-12 23:59:37,487 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-12 23:59:37,514 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-12 23:59:37,567 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-12 23:59:37,610 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-12 23:59:37,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-12 23:59:37,692 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-12 23:59:37,711 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-12 23:59:37,729 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-12 23:59:37,768 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-12 23:59:37,796 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-12 23:59:37,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-12 23:59:37,863 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-12 23:59:37,897 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-12 23:59:37,920 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-12 23:59:37,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-12 23:59:37,970 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-12 23:59:37,992 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-12 23:59:38,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-12 23:59:38,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-12 23:59:38,058 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-12 23:59:38,080 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-12 23:59:38,104 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-12 23:59:38,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-12 23:59:38,149 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-12 23:59:38,173 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-12 23:59:38,199 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-12 23:59:38,220 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-12 23:59:38,243 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-12 23:59:38,265 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-12 23:59:38,285 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-12 23:59:38,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-12 23:59:38,329 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-12 23:59:38,352 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-12 23:59:38,375 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-12 23:59:38,399 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:59:38,402 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:59:38,400 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:59:38,403 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:59:38,410 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-12 23:59:38,453 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:59:38,455 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:59:38,470 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:59:38,471 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:59:38,528 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-12 23:59:38,531 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-12 23:59:42,775 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:47,836 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:52,362 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-12 23:59:56,990 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:03,356 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:06,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:11,953 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:16,244 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:19,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:24,591 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:26,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:28,286 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:29,946 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:31,676 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:33,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:34,739 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:36,164 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:37,613 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:38,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:00:38,408 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:00:38,407 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:00:38,408 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:00:38,455 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:00:38,456 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:00:38,463 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:00:38,464 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:00:38,527 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:00:38,528 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:00:39,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:40,598 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:42,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:43,548 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:45,364 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:47,072 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:49,010 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:50,979 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:53,081 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:55,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:57,086 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:00:59,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:00,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:02,482 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:04,427 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:06,241 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:07,928 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:09,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:11,905 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:13,958 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:15,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:17,663 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:19,582 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:23,245 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:30,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:38,401 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:01:38,402 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:01:38,420 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:01:38,448 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:01:38,460 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:01:38,449 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:01:38,462 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:01:38,527 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:01:38,519 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:01:38,528 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:01:40,699 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:47,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:01:54,445 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:01,409 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:06,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:13,207 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:18,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:24,806 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:32,874 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:35,404 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:02:38,408 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:02:38,411 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:02:38,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:02:38,444 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:02:38,464 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:02:38,445 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:02:38,465 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:02:38,527 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:02:38,529 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:02:38,601 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:02:44,749 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:02:53,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:02,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:04,901 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:06,669 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:09,574 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:12,356 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:14,873 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:18,589 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:21,862 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:23,133 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:23,772 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:24,558 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:26,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:28,172 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:29,756 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:32,413 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:34,131 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:36,409 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:38,397 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:03:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:03:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:03:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:03:38,444 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:03:38,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:03:38,470 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:03:38,471 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:03:38,533 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:03:38,534 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:03:38,725 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:40,819 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:43,539 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:45,939 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:47,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:48,840 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:50,217 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:50,863 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:03:51,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:53,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:53,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 00:03:53,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 00:03:53,959 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 00:03:54,028 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 00:03:54,111 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 00:03:54,336 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 00:03:54,425 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 00:03:54,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 00:03:54,558 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 00:03:54,624 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 00:03:54,697 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 00:03:54,765 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 00:03:54,877 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 00:03:54,919 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 00:03:54,977 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 00:03:55,051 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 00:03:55,072 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 00:03:55,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 00:03:55,240 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 00:03:55,317 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 00:03:55,387 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 00:03:55,449 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 00:03:55,517 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 00:03:55,574 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 00:03:55,588 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 00:03:55,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 00:03:55,618 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 00:03:55,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 00:03:55,647 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 00:03:55,660 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 00:03:55,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 00:03:55,687 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 00:03:55,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 00:03:55,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 00:03:55,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 00:03:55,745 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 00:03:55,758 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 00:03:55,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 00:03:55,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 00:03:55,804 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 00:03:55,816 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 00:03:55,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 00:03:55,843 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 00:03:55,858 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 00:03:55,871 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 00:03:55,884 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 00:03:55,896 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 00:03:55,910 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 00:03:55,923 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 00:03:55,937 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 00:03:55,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 00:03:55,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 00:03:55,980 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 00:03:56,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 00:03:56,015 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 00:03:56,029 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 00:03:56,042 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 00:03:56,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 00:03:56,072 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 00:03:56,086 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 00:03:56,100 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 00:03:56,114 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 00:03:56,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 00:03:56,140 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 00:03:56,153 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 00:03:56,167 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 00:03:56,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 00:03:56,195 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 00:03:56,220 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 00:03:56,250 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 00:03:56,277 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 00:03:56,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:03:56,316 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 00:03:56,354 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 00:03:56,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 00:03:56,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 00:03:56,506 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 00:03:56,563 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 00:03:56,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 00:03:56,663 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 00:04:00,007 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:00,653 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:03,588 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:04,475 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:07,651 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:08,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:11,163 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:12,205 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:13,986 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:15,418 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:16,392 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:18,558 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:18,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:21,779 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:22,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:24,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:25,847 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:27,244 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:33,570 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:33,686 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:36,552 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:37,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:38,308 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:38,411 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:04:38,412 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:04:38,412 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:04:38,428 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:04:38,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:04:38,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:04:38,461 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:04:38,461 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:04:38,524 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:04:38,525 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:04:40,501 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:41,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:43,724 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:45,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:46,830 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:49,407 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:49,523 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:53,147 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:53,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:56,319 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:04:58,226 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:00,023 - INFO - app.main - APScheduler: Executing daily_swap_charge_job...
2025-06-13 00:05:00,025 - INFO - app.main - APScheduler: Executing daily_swap_charge_job...
2025-06-13 00:05:00,025 - INFO - app.services.swap_service - Starting daily swap charge application process.
2025-06-13 00:05:00,027 - INFO - app.services.swap_service - Starting daily swap charge application process.
2025-06-13 00:05:00,028 - INFO - app.main - APScheduler: Executing daily_swap_charge_job...
2025-06-13 00:05:00,028 - INFO - app.main - APScheduler: Executing daily_swap_charge_job...
2025-06-13 00:05:00,029 - INFO - app.services.swap_service - Starting daily swap charge application process.
2025-06-13 00:05:00,029 - INFO - app.services.swap_service - Starting daily swap charge application process.
2025-06-13 00:05:00,044 - INFO - app.main - APScheduler: Executing daily_swap_charge_job...
2025-06-13 00:05:00,046 - INFO - app.services.swap_service - Starting daily swap charge application process.
2025-06-13 00:05:00,154 - ERROR - app.services.swap_service - General failure to process swap for order 9317277886: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,185 - ERROR - app.services.swap_service - General failure to process swap for order 9317277886: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,191 - ERROR - app.services.swap_service - General failure to process swap for order 9317277886: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,185 - ERROR - app.services.swap_service - General failure to process swap for order 9317277886: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,244 - ERROR - app.services.swap_service - General failure to process swap for order 5499382541: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,190 - ERROR - app.services.swap_service - General failure to process swap for order 9317277886: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,264 - INFO - app.services.swap_service - Daily swap charges committed to DB. Processed: 0, Failed: 2.
2025-06-13 00:05:00,264 - INFO - app.main - APScheduler: Daily swap charge job completed successfully.
2025-06-13 00:05:00,254 - ERROR - app.services.swap_service - General failure to process swap for order 5499382541: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,256 - ERROR - app.services.swap_service - General failure to process swap for order 5499382541: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,275 - INFO - app.services.swap_service - Daily swap charges committed to DB. Processed: 0, Failed: 2.
2025-06-13 00:05:00,275 - INFO - app.main - APScheduler: Daily swap charge job completed successfully.
2025-06-13 00:05:00,276 - INFO - app.main - APScheduler: Daily swap charge job completed successfully.
5499382541: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,262 - ERROR - app.services.swap_service - General failure to process swap for order 5499382541: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
Traceback (most recent call last):
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\swap_service.py", line 36, in apply_daily_swap_charges_for_all_open_orders
    user = order.user
           ^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<7 lines>...
        execution_options,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\strategies.py", line 1079, in _emit_lazyload
    return loading.load_on_pk_identity(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        session,
        ^^^^^^^^
    ...<3 lines>...
        execution_options=execution_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1811, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1427, in _init_compiled
    self.cursor = self.create_cursor()
                  ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1766, in create_cursor
    return self.create_default_cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 1772, in create_default_cursor
    return self._dbapi_connection.cursor()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\pool\base.py", line 1486, in cursor
    return self.dbapi_connection.cursor(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 200, in cursor
    return AsyncAdapt_aiomysql_cursor(self)
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\mysql\aiomysql.py", line 63, in __init__
    self._cursor = self.await_(cursor.__aenter__())
                   ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (sqlalchemy.exc.MissingGreenlet) greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place?
[SQL: SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.phone_number AS users_phone_number, users.hashed_password AS users_hashed_password, users.user_type AS users_user_type, users.wallet_balance AS users_wallet_balance, users.leverage AS users_leverage, users.margin AS users_margin, users.net_profit AS users_net_profit, users.account_number AS users_account_number, users.group_name AS users_group_name, users.status AS users_status, users.security_question AS users_security_question, users.security_answer AS users_security_answer, users.country AS users_country, users.city AS users_city, users.state AS users_state, users.pincode AS users_pincode, users.fund_manager AS users_fund_manager, users.is_self_trading AS users_is_self_trading, users.id_proof AS users_id_proof, users.id_proof_image AS users_id_proof_image, users.address_proof AS users_address_proof, users.address_proof_image AS users_address_proof_image, users.bank_ifsc_code AS users_bank_ifsc_code, users.bank_holder_name AS users_bank_holder_name, users.bank_branch_name AS users_bank_branch_name, users.bank_account_number AS users_bank_account_number, users.`isActive` AS `users_isActive`, users.referred_by_id AS users_referred_by_id, users.reffered_code AS users_reffered_code, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %s]
[parameters: [{'pk_1': 4}]]
(Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-06-13 00:05:00,281 - INFO - app.services.swap_service - Daily swap charges committed to DB. Processed: 0, Failed: 2.
2025-06-13 00:05:00,281 - INFO - app.main - APScheduler: Daily swap charge job completed successfully.
2025-06-13 00:05:00,285 - INFO - app.services.swap_service - Daily swap charges committed to DB. Processed: 0, Failed: 2.
2025-06-13 00:05:00,285 - INFO - app.main - APScheduler: Daily swap charge job completed successfully.
2025-06-13 00:05:00,479 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:02,428 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:04,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:06,464 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:08,448 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:10,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:12,379 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:14,553 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:16,552 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:18,115 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:19,398 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:21,721 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:21,963 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:25,002 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:25,823 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:28,324 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:29,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:31,709 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:33,773 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:35,507 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:37,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:38,404 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:05:38,406 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:05:38,405 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:05:38,431 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:05:38,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:05:38,451 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:05:38,468 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:05:38,469 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:05:38,524 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:05:38,525 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:05:39,631 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:41,952 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:43,397 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:46,195 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:47,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:50,556 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:50,860 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:55,258 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:55,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:05:59,827 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:00,025 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:03,915 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:04,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:07,899 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:09,447 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:11,860 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:13,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:15,349 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:17,470 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:18,409 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:20,828 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:21,159 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:24,771 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:25,207 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:26,018 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:06:28,447 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:29,783 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:32,031 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:33,723 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:35,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:37,166 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:38,404 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:06:38,404 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:06:38,404 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:06:38,405 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:06:38,445 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:06:38,446 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:06:38,463 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:06:38,463 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:06:38,525 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:06:38,526 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:06:39,051 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:39,576 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:42,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:42,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:45,825 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:47,011 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:49,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:50,797 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:52,658 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:54,404 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:56,085 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:57,701 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:06:59,382 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:03,186 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:11,223 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:18,589 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:27,672 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:36,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:38,402 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:07:38,403 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:07:38,444 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:07:38,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:07:38,464 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:07:38,455 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:07:38,472 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:07:38,527 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:07:38,528 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:07:38,635 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:07:47,534 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:51,039 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:53,573 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:55,767 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:07:58,121 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:00,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:02,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:05,482 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:07,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:09,946 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:12,257 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:17,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 00:08:17,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 00:08:17,630 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 00:08:17,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 00:08:17,663 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 00:08:17,679 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 00:08:17,696 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 00:08:17,711 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 00:08:17,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 00:08:17,743 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 00:08:17,758 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 00:08:17,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 00:08:17,787 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 00:08:17,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 00:08:17,825 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 00:08:17,842 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 00:08:17,858 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 00:08:17,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 00:08:17,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 00:08:17,907 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 00:08:17,923 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 00:08:17,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 00:08:17,954 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 00:08:17,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 00:08:17,980 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 00:08:17,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 00:08:18,011 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 00:08:18,024 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 00:08:18,040 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 00:08:18,054 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 00:08:18,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 00:08:18,080 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 00:08:18,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 00:08:18,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 00:08:18,124 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 00:08:18,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 00:08:18,149 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 00:08:18,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 00:08:18,173 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 00:08:18,186 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 00:08:18,199 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 00:08:18,212 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 00:08:18,226 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 00:08:18,239 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 00:08:18,254 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 00:08:18,267 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 00:08:18,281 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 00:08:18,295 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 00:08:18,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 00:08:18,326 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 00:08:18,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 00:08:18,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 00:08:18,371 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 00:08:18,388 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 00:08:18,403 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 00:08:18,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 00:08:18,470 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 00:08:18,486 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 00:08:18,504 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 00:08:18,520 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 00:08:18,537 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 00:08:18,551 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 00:08:18,566 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 00:08:18,581 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 00:08:18,598 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 00:08:18,611 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 00:08:18,626 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 00:08:18,642 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 00:08:18,657 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 00:08:18,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 00:08:18,686 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 00:08:18,701 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 00:08:18,716 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 00:08:18,730 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 00:08:18,746 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 00:08:18,761 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 00:08:18,778 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 00:08:18,793 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 00:08:18,811 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 00:08:23,320 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:25,765 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:28,222 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:30,666 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:33,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:35,447 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:37,627 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:38,402 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:08:38,403 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:08:38,410 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:08:38,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:08:38,443 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:08:38,444 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:08:38,459 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:08:38,460 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:08:38,522 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:08:38,523 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:08:39,976 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:42,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:45,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:47,779 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:50,336 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:53,067 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:55,161 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:56,978 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:08:58,839 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:00,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:02,405 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:04,013 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:06,181 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:07,980 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:09,593 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:11,302 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:13,211 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:14,835 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:16,550 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:09:38,403 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:09:38,404 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:09:38,404 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:09:38,405 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:09:38,451 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:09:38,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:09:38,461 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:09:38,462 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:09:38,536 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:09:38,536 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:10:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:10:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:10:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:10:38,399 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:10:38,446 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:10:38,447 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:10:38,470 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:10:38,471 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:10:38,528 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:10:38,529 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:10:50,389 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 00:10:50,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 00:10:50,420 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 00:10:50,437 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 00:10:50,454 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 00:10:50,470 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 00:10:50,485 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 00:10:50,501 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 00:10:50,515 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 00:10:50,532 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 00:10:50,548 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 00:10:50,563 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 00:10:50,583 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 00:10:50,601 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 00:10:50,618 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 00:10:50,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 00:10:50,647 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 00:10:50,663 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 00:10:50,678 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 00:10:50,695 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 00:10:50,711 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 00:10:50,727 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 00:10:50,743 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 00:10:50,759 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 00:10:50,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 00:10:50,788 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 00:10:50,804 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 00:10:50,818 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 00:10:50,832 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 00:10:50,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 00:10:50,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 00:10:50,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 00:10:50,927 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 00:10:50,941 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 00:10:50,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 00:10:50,970 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 00:10:50,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 00:10:51,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 00:10:51,016 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 00:10:51,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 00:10:51,048 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 00:10:51,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 00:10:51,082 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 00:10:51,100 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 00:10:51,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 00:10:51,137 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 00:10:51,154 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 00:10:51,169 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 00:10:51,183 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 00:10:51,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 00:10:51,212 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 00:10:51,226 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 00:10:51,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 00:10:51,257 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 00:10:51,275 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 00:10:51,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 00:10:51,308 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 00:10:51,322 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 00:10:51,338 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 00:10:51,354 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 00:10:51,368 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 00:10:51,387 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 00:10:51,401 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 00:10:51,415 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 00:10:51,429 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 00:10:51,453 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 00:10:51,477 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 00:10:51,492 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 00:10:51,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 00:10:51,520 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 00:10:51,533 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 00:10:51,546 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 00:10:51,560 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 00:10:51,574 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 00:10:51,589 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 00:10:51,602 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 00:10:51,617 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 00:10:51,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 00:10:51,651 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 00:10:55,676 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:10:58,548 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:01,258 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:03,978 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:06,929 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:09,643 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:12,353 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:15,200 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:17,891 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:20,065 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:22,011 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:24,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:26,035 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:27,854 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:29,602 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:31,357 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:33,199 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:34,974 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:36,703 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:38,264 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:38,410 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:11:38,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:11:38,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:11:38,415 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:11:38,452 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:11:38,452 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:11:38,459 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:11:38,459 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:11:38,534 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:11:38,535 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:11:39,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:41,275 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:42,718 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:44,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:45,631 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:47,191 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:48,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:50,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:52,113 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:53,828 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:55,462 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:57,163 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:11:58,936 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:00,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:02,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:03,995 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:05,841 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:07,592 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:09,766 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:11,925 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:13,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:15,870 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:17,896 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:20,196 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:22,245 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:24,304 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:26,476 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:28,355 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:30,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:32,302 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:34,237 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:36,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:38,104 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:38,398 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:12:38,409 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:12:38,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:12:38,412 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:12:38,457 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:12:38,458 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:12:38,458 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:12:38,526 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:12:38,527 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:12:40,078 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:42,091 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:43,748 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:45,383 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:46,984 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:48,422 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:50,107 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:51,630 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:53,213 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:54,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:56,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:57,698 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:12:59,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:01,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:03,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:05,359 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:07,386 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:09,480 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:11,446 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:13,750 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:15,865 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:17,862 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:20,298 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:22,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:24,832 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:27,162 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:30,134 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:32,767 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:35,109 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:37,723 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:38,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:13:38,409 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:13:38,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:13:38,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:13:38,445 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:13:38,445 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:13:38,470 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:13:38,472 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:13:38,522 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:13:38,523 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:13:40,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:42,504 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:44,778 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:47,147 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:49,447 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:51,550 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:54,080 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:56,597 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:13:58,997 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:01,431 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:03,986 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:06,544 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:08,779 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:11,069 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:12,985 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:14,805 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:16,610 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:18,422 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:20,281 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:14:20,417 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:22,400 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:24,022 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:25,966 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:27,438 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:29,050 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:30,501 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:31,913 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:33,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:35,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:38,088 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:38,402 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:14:38,406 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:14:38,408 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:14:38,429 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:14:38,446 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:14:38,447 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:14:38,463 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:14:38,463 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:14:38,529 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:14:38,530 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:14:40,439 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:42,624 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:45,050 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:47,450 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:49,856 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:52,020 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:14:54,548 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:14:54,551 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:14:54,551 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:14:54,562 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:14:54,580 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:14:54,581 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:14:54,582 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:14:54,582 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:14:54,583 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:14:54,584 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:14:54,585 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:14:54,587 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:14:54,587 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:14:54,595 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:14:54,597 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:14:54,598 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:14:54,599 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:14:54,599 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:14:54,601 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:14:54,646 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:14:54,648 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:14:54,648 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:14:54,657 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:14:54,660 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:14:56,760 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:14:56,760 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:14:56,760 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:14:56,762 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:14:56,762 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:14:56,763 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:14:56,763 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:14:56,764 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:14:56,764 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:14:56,764 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:14:56,764 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:14:56,764 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:14:56,765 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:14:56,765 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:14:56,765 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:14:56,767 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:14:56,776 - INFO - app.main - Redis client connection closed.
2025-06-13 00:14:56,777 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:14:56,778 - INFO - app.main - Redis client connection closed.
2025-06-13 00:14:56,778 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:14:56,781 - INFO - app.main - Redis client connection closed.
2025-06-13 00:14:56,782 - INFO - app.main - Redis client connection closed.
2025-06-13 00:14:56,782 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:14:56,782 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:14:56,783 - INFO - app.main - Redis client connection closed.
2025-06-13 00:14:56,783 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:15:02,980 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:02,981 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:02,981 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:03,074 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:03,075 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:03,075 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:03,075 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:03,091 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:03,092 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:03,091 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:03,092 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:03,092 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:03,092 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:03,092 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:03,092 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:03,093 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:04,966 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:04,970 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:04,966 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:04,979 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:04,970 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:04,982 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:04,983 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:04,987 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:04,998 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:04,984 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:05,000 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:04,988 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:05,005 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:04,999 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:05,025 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:05,043 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:05,044 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:05,053 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:05,063 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:05,069 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:05,070 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:05,070 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:05,070 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:05,070 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:05,070 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:05,070 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:05,070 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:05,070 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:05,071 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:05,074 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:05,075 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:05,074 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:05,076 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:05,076 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:05,076 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:05,077 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:05,078 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:05,078 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:05,079 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:05,079 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:05,080 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:05,080 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:05,080 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:05,081 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:05,082 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:05,083 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:05,084 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:05,093 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:05,093 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:05,093 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:05,094 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:05,097 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:05,099 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:05,100 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:05,101 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:06,375 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:06,380 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:06,389 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:06,390 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:06,399 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:39,166 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:15:39,167 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:15:39,167 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:15:39,169 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:15:39,169 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:15:39,184 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:15:39,185 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:15:39,185 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:15:39,205 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:15:39,206 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:15:39,228 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:15:39,230 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:15:39,231 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:15:39,307 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:15:39,308 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:15:39,309 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:15:39,358 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:15:39,360 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:15:39,360 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:15:39,336 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:15:39,375 - INFO - app.main - Background task 'Task-5' cancelled successfully.
d.
2025-06-13 00:15:39,376 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:15:39,438 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:15:39,457 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:15:39,754 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:15:39,758 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:15:39,759 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:15:39,759 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:15:39,760 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:15:39,754 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:15:39,762 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:15:39,762 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:15:39,762 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:15:39,763 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:15:39,763 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:15:39,766 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:15:39,766 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:15:39,767 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:15:39,767 - INFO - app.main - Redis client connection closed.
2025-06-13 00:15:39,767 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:15:39,769 - INFO - app.main - Redis client connection closed.
2025-06-13 00:15:39,770 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:15:39,772 - INFO - app.main - Redis client connection closed.
2025-06-13 00:15:39,772 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:15:39,774 - INFO - app.main - Redis client connection closed.
2025-06-13 00:15:39,774 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:15:39,772 - INFO - app.main - Redis client connection closed.
2025-06-13 00:15:39,777 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:15:47,922 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:47,927 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:47,973 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:47,997 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:48,001 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:48,001 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:48,009 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:48,023 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:48,024 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:48,146 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:48,167 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:48,167 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:48,202 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:48,375 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:48,387 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:48,388 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:48,467 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:15:48,527 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:15:48,542 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:15:48,543 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:15:51,639 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:51,650 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:51,655 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:51,727 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:51,640 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:51,735 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:51,980 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:51,980 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:52,055 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:52,240 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:52,246 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:52,354 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:52,354 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:52,355 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:52,355 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:52,368 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:52,368 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:52,370 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:52,380 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:52,375 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:52,397 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:52,398 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:52,397 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:52,407 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:52,408 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:52,409 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:52,418 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:52,595 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:52,597 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:52,597 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:52,675 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:52,703 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:52,704 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:52,708 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:52,708 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:52,723 - INFO - app.main - Application startup event triggered.
2025-06-13 00:15:52,721 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:52,727 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:52,728 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:52,734 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:52,723 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:15:52,805 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:15:53,118 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:53,158 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:53,159 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:53,159 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:53,159 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:53,165 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:53,170 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:53,170 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:53,175 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:53,229 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:15:53,284 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:15:53,285 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:15:53,285 - INFO - app.main - Redis publisher background task started
2025-06-13 00:15:53,285 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:15:53,291 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:15:53,295 - INFO - app.main - Application startup event finished.
2025-06-13 00:15:53,296 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:53,299 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:15:53,668 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:53,675 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:53,804 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:53,993 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:15:54,225 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:15:54,300 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:22,899 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:16:22,902 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:16:22,903 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:16:22,941 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:16:22,942 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:16:22,942 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:16:22,948 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:16:22,949 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:16:22,950 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:16:22,956 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:16:22,969 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:16:22,970 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:16:22,972 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:16:22,973 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:16:22,973 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:16:22,980 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:16:22,982 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:16:22,999 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:16:23,002 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:16:23,005 - INFO - app.main - Application shutdown event triggered.
2025-06-13 00:16:23,005 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 00:16:23,006 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 00:16:23,010 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 00:16:23,010 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 00:16:23,382 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:16:23,389 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:16:23,390 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:16:23,397 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:16:23,397 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:16:23,401 - INFO - app.main - Redis client connection closed.
2025-06-13 00:16:23,401 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:16:23,398 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:16:23,399 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:16:23,405 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:16:23,406 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:16:23,409 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:16:23,409 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:16:23,410 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:16:23,412 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 00:16:23,412 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 00:16:23,413 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 00:16:23,418 - INFO - app.main - Redis client connection closed.
2025-06-13 00:16:23,418 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:16:23,419 - INFO - app.main - Redis client connection closed.
2025-06-13 00:16:23,426 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:16:23,430 - INFO - app.main - Redis client connection closed.
2025-06-13 00:16:23,431 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:16:23,425 - INFO - app.main - Redis client connection closed.
2025-06-13 00:16:23,435 - INFO - app.main - Application shutdown event finished.
2025-06-13 00:16:32,000 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:16:32,016 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:16:32,026 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:16:32,036 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:16:32,049 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:16:32,049 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:16:32,058 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:16:32,066 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:16:32,074 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:16:32,074 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:16:32,080 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:16:32,080 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:16:32,081 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:16:32,084 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:16:32,119 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:16:32,121 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:16:32,134 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:16:32,134 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:16:32,136 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:16:32,136 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:16:33,776 - INFO - app.main - Application startup event triggered.
2025-06-13 00:16:33,785 - INFO - app.main - Application startup event triggered.
2025-06-13 00:16:33,786 - INFO - app.main - Application startup event triggered.
2025-06-13 00:16:33,776 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:16:33,792 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:16:33,785 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:16:33,797 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:16:33,786 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:16:33,798 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:16:33,830 - INFO - app.main - Application startup event triggered.
2025-06-13 00:16:33,830 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:16:33,848 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:16:33,859 - INFO - app.main - Application startup event triggered.
2025-06-13 00:16:33,860 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:16:33,876 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:16:34,072 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:16:34,074 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:16:34,074 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:16:34,074 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:16:34,085 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:16:34,086 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:16:34,086 - INFO - app.main - Redis publisher background task started
2025-06-13 00:16:34,086 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:16:34,086 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:16:34,086 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:16:34,086 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:16:34,087 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:16:34,087 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:16:34,089 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:16:34,088 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:16:34,089 - INFO - app.main - Application startup event finished.
2025-06-13 00:16:34,090 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:34,091 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:16:34,091 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:16:34,091 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:16:34,091 - INFO - app.main - Redis publisher background task started
2025-06-13 00:16:34,092 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:16:34,091 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:16:34,092 - INFO - app.main - Application startup event finished.
2025-06-13 00:16:34,092 - INFO - app.main - Application startup event finished.
2025-06-13 00:16:34,093 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:34,093 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:34,094 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
ession
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:16:34,110 - INFO - app.main - Application startup event finished.
2025-06-13 00:16:34,111 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:34,112 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:16:34,131 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:16:34,157 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:16:34,157 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:16:34,157 - INFO - app.main - Redis publisher background task started
2025-06-13 00:16:34,157 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:16:34,159 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:16:34,160 - INFO - app.main - Application startup event finished.
2025-06-13 00:16:34,161 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:34,168 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:16:35,374 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:35,386 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:35,396 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:35,410 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:35,437 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:35,728 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:16:36,002 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:16:37,568 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 00:16:37,594 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 00:16:37,608 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 00:16:37,608 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 00:16:39,078 - INFO - app.main - Application startup event triggered.
2025-06-13 00:16:39,079 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 00:16:39,087 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 00:16:39,197 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:16:39,392 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 00:16:39,412 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 00:16:39,412 - INFO - app.main - Firebase events processor background task started
2025-06-13 00:16:39,412 - INFO - app.main - Redis publisher background task started
2025-06-13 00:16:39,413 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 00:16:39,416 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 00:16:39,417 - INFO - app.main - Application startup event finished.
2025-06-13 00:16:39,419 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:39,420 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 00:16:40,471 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 00:16:49,051 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 00:17:04,600 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 00:17:04,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 00:17:04,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 00:17:04,721 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 00:17:04,782 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 00:17:04,821 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 00:17:04,869 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 00:17:04,913 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 00:17:04,960 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 00:17:05,010 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 00:17:05,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 00:17:05,721 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 00:17:05,881 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 00:17:05,936 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 00:17:05,980 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 00:17:06,031 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 00:17:06,067 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 00:17:06,113 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 00:17:06,162 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 00:17:06,231 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 00:17:06,277 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 00:17:06,331 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 00:17:06,380 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 00:17:06,401 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 00:17:06,459 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 00:17:06,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 00:17:06,529 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 00:17:06,557 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 00:17:06,585 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 00:17:06,611 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 00:17:06,639 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 00:17:06,691 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 00:17:06,762 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 00:17:06,821 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 00:17:06,858 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 00:17:06,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 00:17:06,897 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 00:17:06,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 00:17:06,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 00:17:06,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 00:17:06,990 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 00:17:07,018 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 00:17:07,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 00:17:07,070 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 00:17:07,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 00:17:07,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 00:17:07,148 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 00:17:07,168 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 00:17:07,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 00:17:07,208 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 00:17:07,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 00:17:07,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 00:17:07,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 00:17:07,315 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 00:17:07,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 00:17:07,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 00:17:07,392 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 00:17:07,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 00:17:07,442 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 00:17:07,466 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 00:17:07,490 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 00:17:07,512 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 00:17:07,537 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 00:17:07,559 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 00:17:07,580 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 00:17:07,604 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 00:17:07,766 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 00:17:07,819 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 00:17:07,836 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 00:17:07,852 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 00:17:07,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 00:17:07,895 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 00:17:07,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 00:17:07,936 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 00:17:07,961 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 00:17:07,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 00:17:08,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 00:17:08,039 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 00:17:08,059 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 00:17:16,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:17:21,575 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:17:32,361 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:17:33,846 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:17:34,083 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:17:34,084 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:17:34,099 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:17:34,099 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:17:34,101 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:17:34,101 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:17:34,124 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:17:34,127 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:17:34,148 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:17:34,149 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:17:39,410 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:17:39,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:17:42,160 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:17:42,164 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '9333507960', 'order_user_id': '4', 'user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'BUY', 'order_status': 'PROCESSING', 'order_price': '0.88327000', 'order_quantity': '0.01000000', 'contract_value': '1000.00000000', 'margin': '6.47897452', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_order_id': '', 'modify_id': '', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': 'OPEN', 'timestamp': '2025-06-13T07:17:42.164171', 'account_type': 'live', 'action': ''}
2025-06-13 00:17:42,455 - INFO - app.core.firebase - Order data (ID: 9333507960) sent to Firebase successfully.
2025-06-13 00:17:46,356 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:17:57,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:02,071 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:04,750 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:08,272 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:12,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:15,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:21,314 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:27,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:31,432 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:34,086 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:18:34,086 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:18:34,086 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:18:34,087 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:18:34,087 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:18:34,087 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:18:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:18:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:18:34,143 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:18:34,144 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:18:35,834 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:39,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:18:39,413 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:18:40,519 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:45,001 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:48,779 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:52,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:55,179 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:18:58,772 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:01,372 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:04,428 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:06,890 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:10,977 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:14,266 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:17,060 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:19,443 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:22,240 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:24,627 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:27,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:29,843 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:32,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:34,089 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:19:34,089 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:19:34,089 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:19:34,094 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:19:34,095 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:19:34,107 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:19:34,107 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:19:34,152 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:19:34,153 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:19:35,598 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:37,394 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:39,412 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:19:39,412 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:19:40,527 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:43,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:46,452 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:48,054 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:50,611 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:53,303 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:55,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:19:58,566 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:01,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:04,156 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:07,100 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:09,718 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:13,143 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:15,538 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:18,326 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:21,120 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:24,042 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:27,099 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:29,973 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:33,601 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:34,088 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:20:34,088 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:20:34,089 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:20:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:20:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:20:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:20:34,095 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:20:34,147 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:20:34,148 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:20:35,523 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:37,553 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:39,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:39,408 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:20:39,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:20:41,507 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:43,706 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:45,498 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:48,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:50,538 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:53,058 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:55,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:20:57,835 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:00,825 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:03,261 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:05,475 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:07,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:10,449 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:13,771 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:16,109 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:18,900 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:21,083 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:23,758 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:26,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:28,887 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:31,470 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:34,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:21:34,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:21:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:21:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:21:34,106 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:21:34,133 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:21:34,143 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:21:34,144 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:21:34,946 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:37,563 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:39,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:21:39,414 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:21:40,406 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:43,109 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:46,316 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:49,786 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:51,450 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:53,626 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:55,548 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:21:57,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:00,645 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:02,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:02,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:05,793 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:08,241 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:10,408 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:12,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:15,209 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:17,695 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:20,412 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:22,766 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:24,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:27,270 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:30,404 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:33,132 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:34,082 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:22:34,083 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:22:34,093 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:22:34,093 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:22:34,093 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:22:34,094 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:22:34,094 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:22:34,094 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:22:34,154 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:22:34,155 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:22:35,485 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:37,409 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:39,405 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:22:39,406 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:22:39,729 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:41,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:44,163 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:46,143 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:48,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:51,456 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:54,031 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:56,479 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:22:59,275 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:02,650 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:04,696 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:06,634 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:08,589 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:10,646 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:12,346 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:14,343 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:17,111 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:19,317 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:21,986 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:24,204 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:27,121 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:29,877 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:31,947 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:34,085 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:23:34,086 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:23:34,086 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:23:34,086 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:23:34,144 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:23:34,148 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:23:34,145 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:23:34,149 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:23:35,461 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:39,418 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:23:39,419 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:23:39,832 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:43,923 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:47,191 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:23:50,569 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 00:24:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:24:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:24:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:24:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:24:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:24:34,095 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:24:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:24:34,097 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:24:34,156 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:24:34,157 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:24:39,406 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:24:39,406 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:25:34,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:25:34,087 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:25:34,088 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:25:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:25:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:25:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:25:34,088 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:25:34,150 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:25:34,150 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:25:39,409 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:25:39,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:26:34,086 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:26:34,086 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:26:34,086 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:26:34,086 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:26:34,086 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:26:34,086 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:26:34,149 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:26:34,150 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:26:39,408 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:26:39,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:42:34,090 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:42:34,091 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:42:34,153 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:42:34,153 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:42:34,457 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:42:34,457 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:42:34,467 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:42:34,458 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:42:34,458 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:42:34,468 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 00:42:39,416 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 00:42:39,416 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:19:34,084 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:19:34,085 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:19:34,094 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:19:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:19:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:19:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:19:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:19:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:19:34,147 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:19:34,148 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:19:39,414 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:19:39,415 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:20:08,105 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:20:34,084 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:20:34,084 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:20:34,084 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:20:34,084 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:20:34,091 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:20:34,091 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:20:34,099 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:20:34,099 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:20:34,147 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:20:34,148 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:20:39,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:20:39,413 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:21:34,083 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:21:34,083 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:21:34,096 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:21:34,096 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:21:34,097 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:21:34,097 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:21:34,097 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:21:34,097 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:21:34,143 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:21:34,144 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:21:39,411 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:21:39,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:22:34,092 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:22:34,092 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:22:34,093 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:22:34,093 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:22:34,092 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:22:34,093 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:22:34,095 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:22:34,096 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:22:34,155 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:22:34,155 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:22:39,408 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:22:39,408 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:23:34,090 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:23:34,090 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:23:34,090 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:23:41,607 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 01:23:41,639 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 01:23:41,648 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 01:23:41,648 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 01:23:42,558 - INFO - app.main - Application startup event triggered.
2025-06-13 01:23:42,558 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 01:23:42,565 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 01:23:42,606 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 01:23:42,617 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 01:23:42,618 - INFO - app.main - Firebase events processor background task started
2025-06-13 01:23:42,618 - INFO - app.main - Redis publisher background task started
2025-06-13 01:23:42,618 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 01:23:42,619 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 01:23:42,619 - INFO - app.main - Application startup event finished.
2025-06-13 01:23:42,619 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 01:23:42,620 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 01:23:43,647 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 01:23:46,421 - INFO - app.main - Application shutdown event triggered.
2025-06-13 01:23:46,421 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 01:23:46,421 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 01:23:46,422 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 01:23:47,640 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 01:23:47,640 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 01:23:47,640 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 01:23:47,640 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 01:23:47,643 - INFO - app.main - Redis client connection closed.
2025-06-13 01:23:47,643 - INFO - app.main - Application shutdown event finished.
2025-06-13 01:44:31,693 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 01:44:31,715 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 01:44:31,720 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 01:44:31,720 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 01:44:32,353 - INFO - app.main - Application startup event triggered.
2025-06-13 01:44:32,353 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 01:44:32,359 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 01:44:32,401 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 01:44:32,409 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 01:44:32,410 - INFO - app.main - Firebase events processor background task started
2025-06-13 01:44:32,410 - INFO - app.main - Redis publisher background task started
2025-06-13 01:44:32,410 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 01:44:32,411 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 01:44:32,412 - INFO - app.main - Application startup event finished.
2025-06-13 01:44:32,412 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 01:44:32,413 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 01:44:33,524 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 01:44:33,829 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,157 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,812 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,828 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,838 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,851 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,861 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,870 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,879 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,888 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,895 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,901 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:38,908 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:43,820 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:44:46,759 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 01:45:32,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:45:32,426 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:46:32,421 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:46:32,423 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:47:32,417 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:47:32,418 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:48:32,413 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:48:32,414 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:49:32,414 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:49:32,415 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:50:32,424 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:50:32,424 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:51:32,411 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:51:32,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:52:32,410 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:52:32,411 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:53:32,409 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:53:32,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:54:32,411 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:54:32,412 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:55:32,419 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:55:32,419 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:56:32,421 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:56:32,422 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:57:25,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 01:57:25,668 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 01:57:25,699 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 01:57:25,725 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 01:57:25,769 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 01:57:25,810 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 01:57:25,849 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 01:57:25,878 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 01:57:25,912 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 01:57:25,962 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 01:57:25,990 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 01:57:26,031 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 01:57:26,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 01:57:26,104 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 01:57:26,131 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 01:57:26,149 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 01:57:26,176 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 01:57:26,217 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 01:57:26,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 01:57:26,322 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 01:57:26,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 01:57:26,399 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 01:57:26,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 01:57:26,843 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 01:57:26,867 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 01:57:26,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 01:57:27,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 01:57:27,030 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 01:57:27,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 01:57:27,078 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 01:57:27,095 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 01:57:27,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 01:57:27,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 01:57:27,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 01:57:27,155 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 01:57:27,170 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 01:57:27,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 01:57:27,205 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 01:57:27,225 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 01:57:27,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 01:57:27,260 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 01:57:27,273 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 01:57:27,291 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 01:57:27,307 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 01:57:27,323 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 01:57:27,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 01:57:27,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 01:57:27,379 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 01:57:27,478 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 01:57:27,533 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 01:57:27,562 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 01:57:27,600 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 01:57:27,618 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 01:57:27,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 01:57:27,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 01:57:27,694 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 01:57:27,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 01:57:27,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 01:57:27,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 01:57:27,778 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 01:57:27,806 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 01:57:27,826 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 01:57:27,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 01:57:27,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 01:57:27,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 01:57:27,925 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 01:57:27,941 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 01:57:27,962 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 01:57:27,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 01:57:28,009 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 01:57:28,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 01:57:28,070 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 01:57:28,100 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 01:57:28,135 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 01:57:28,173 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 01:57:28,195 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 01:57:28,221 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 01:57:28,255 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 01:57:28,273 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 01:57:29,161 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:31,477 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:32,408 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 01:57:32,409 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 01:57:33,897 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:36,097 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:38,303 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:41,113 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:43,208 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:45,419 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:47,639 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:49,891 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 01:57:50,856 - INFO - app.main - Application shutdown event triggered.
2025-06-13 01:57:50,857 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 01:57:50,857 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 01:57:50,857 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 01:57:51,720 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 01:57:51,720 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 01:57:51,720 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 01:57:51,720 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 01:57:51,721 - INFO - app.main - Redis client connection closed.
2025-06-13 01:57:51,721 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:09:56,855 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:09:56,884 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:09:56,891 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:09:56,891 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:09:57,709 - INFO - app.main - Application startup event triggered.
2025-06-13 02:09:57,710 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:09:57,748 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:09:57,809 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:09:57,826 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:09:57,826 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:09:57,827 - INFO - app.main - Redis publisher background task started
2025-06-13 02:09:57,827 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:09:57,832 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:09:57,832 - INFO - app.main - Application startup event finished.
2025-06-13 02:09:57,833 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:09:57,833 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:09:58,956 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:10:57,829 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:10:57,829 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:11:10,736 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 02:11:10,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 02:11:10,766 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 02:11:10,780 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 02:11:10,795 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 02:11:10,810 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 02:11:10,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 02:11:10,835 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 02:11:10,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 02:11:10,862 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 02:11:10,875 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 02:11:10,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 02:11:10,900 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 02:11:10,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 02:11:10,928 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 02:11:10,971 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 02:11:10,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 02:11:11,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 02:11:11,015 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 02:11:11,031 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 02:11:11,044 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 02:11:11,059 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 02:11:11,071 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 02:11:11,085 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 02:11:11,098 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 02:11:11,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 02:11:11,124 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 02:11:11,137 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 02:11:11,151 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 02:11:11,164 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 02:11:11,178 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 02:11:11,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 02:11:11,206 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 02:11:11,218 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 02:11:11,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 02:11:11,245 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 02:11:11,258 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 02:11:11,269 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 02:11:11,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 02:11:11,291 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 02:11:11,301 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 02:11:11,311 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 02:11:11,321 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 02:11:11,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 02:11:11,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 02:11:11,352 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 02:11:11,364 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 02:11:11,375 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 02:11:11,387 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 02:11:11,395 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 02:11:11,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 02:11:11,414 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 02:11:11,425 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 02:11:11,441 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 02:11:11,453 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 02:11:11,461 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 02:11:11,470 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 02:11:11,480 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 02:11:11,489 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 02:11:11,499 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 02:11:11,509 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 02:11:11,519 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 02:11:11,528 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 02:11:11,540 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 02:11:11,554 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 02:11:11,567 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 02:11:11,579 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 02:11:11,592 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 02:11:11,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 02:11:11,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 02:11:11,629 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 02:11:11,641 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 02:11:11,654 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 02:11:11,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 02:11:11,681 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 02:11:11,695 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 02:11:11,710 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 02:11:11,723 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 02:11:11,736 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 02:11:13,921 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:16,056 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:18,713 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:21,052 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:23,302 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:25,431 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:27,784 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:30,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:32,142 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:11:57,836 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:11:57,837 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:12:35,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 02:12:35,383 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 02:12:35,408 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 02:12:35,446 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 02:12:35,474 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 02:12:35,493 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 02:12:35,513 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 02:12:35,536 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 02:12:35,563 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 02:12:35,573 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 02:12:35,601 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 02:12:35,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 02:12:35,623 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 02:12:35,642 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 02:12:35,662 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 02:12:35,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 02:12:35,682 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 02:12:35,694 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 02:12:35,703 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 02:12:35,716 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 02:12:35,728 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 02:12:35,738 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 02:12:35,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 02:12:35,763 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 02:12:35,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 02:12:35,787 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 02:12:35,804 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 02:12:35,818 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 02:12:35,828 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 02:12:35,842 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 02:12:35,851 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 02:12:35,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 02:12:35,871 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 02:12:35,882 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 02:12:35,893 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 02:12:35,904 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 02:12:35,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 02:12:35,925 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 02:12:35,936 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 02:12:35,947 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 02:12:35,956 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 02:12:35,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 02:12:35,978 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 02:12:35,988 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 02:12:36,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 02:12:36,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 02:12:36,027 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 02:12:36,053 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 02:12:36,063 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 02:12:36,072 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 02:12:36,086 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 02:12:36,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 02:12:36,110 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 02:12:36,123 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 02:12:36,132 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 02:12:36,141 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 02:12:36,150 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 02:12:36,168 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 02:12:36,178 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 02:12:36,190 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 02:12:36,245 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 02:12:36,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 02:12:36,270 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 02:12:36,283 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 02:12:36,294 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 02:12:36,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 02:12:36,321 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 02:12:36,331 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 02:12:36,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 02:12:36,350 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 02:12:36,364 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 02:12:36,374 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 02:12:36,387 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 02:12:36,397 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 02:12:36,408 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 02:12:36,424 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 02:12:36,439 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 02:12:36,455 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 02:12:36,512 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 02:12:39,136 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:41,619 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:43,741 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:46,146 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:48,099 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:50,599 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:52,714 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:54,980 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:57,295 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:12:57,820 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:12:57,821 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:12:59,768 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:01,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:04,340 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:06,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:09,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:11,011 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:13,664 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:16,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:18,008 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:20,602 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:22,827 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:24,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:27,657 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:29,851 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:32,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:34,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:37,060 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:39,167 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:41,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:43,807 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:45,822 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:48,265 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:50,357 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:52,888 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:55,381 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:57,824 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:13:57,825 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:13:57,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:13:59,777 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:01,740 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:04,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:06,675 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:08,992 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:11,149 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:13,459 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:15,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:18,533 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:20,872 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:22,795 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:25,023 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:27,590 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:29,681 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:31,856 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:34,197 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:36,878 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:39,093 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:41,531 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:43,630 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:46,056 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:48,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:50,423 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:52,532 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:54,883 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:57,677 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:14:57,826 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:14:57,826 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:14:59,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:01,905 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:04,392 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:06,395 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:08,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:10,960 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:13,600 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:15,741 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:18,081 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:20,593 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:22,485 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:24,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:27,243 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:29,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:31,710 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:34,105 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:36,342 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:38,849 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:41,154 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:43,363 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:45,919 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:47,753 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:50,301 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:52,581 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:55,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:57,490 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:15:57,820 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:15:57,821 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:15:59,530 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:01,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:04,160 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:06,357 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:08,710 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:11,151 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:13,614 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:15,883 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:17,976 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:20,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:22,662 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:25,014 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:27,287 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:29,632 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:31,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:34,239 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:36,615 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:38,954 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:41,185 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:43,617 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:45,461 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:48,123 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:50,267 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:52,751 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:54,612 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:57,080 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:16:57,824 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:16:57,824 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:16:59,544 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:01,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:04,077 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:06,551 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:08,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:10,932 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:13,299 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:15,615 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:17,973 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:20,306 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:22,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:25,030 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:26,969 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:29,509 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:31,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:33,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:36,367 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:38,598 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:41,048 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:43,121 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:45,382 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:47,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:50,314 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:52,370 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:54,884 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:57,025 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:17:57,826 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:17:57,827 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:17:59,264 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:01,583 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:03,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:06,230 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:08,668 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:10,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:13,098 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:15,570 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:17,702 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:20,126 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:22,545 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:24,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:27,044 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:29,245 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:31,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:33,763 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:36,183 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:38,530 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:40,701 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:42,854 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:45,394 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:47,774 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:49,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:52,017 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:54,640 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:56,622 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:18:57,825 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:18:57,825 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:18:59,198 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:19:57,828 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:19:57,829 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:20:57,829 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:20:57,829 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:21:57,828 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:21:57,828 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:22:57,821 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:22:57,821 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:23:57,821 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:23:57,821 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:24:01,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 02:24:01,241 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 02:24:01,249 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 02:24:01,259 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 02:24:01,267 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 02:24:01,276 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 02:24:01,284 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 02:24:01,295 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 02:24:01,302 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 02:24:01,311 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 02:24:01,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 02:24:01,326 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 02:24:01,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 02:24:01,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 02:24:01,348 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 02:24:01,356 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 02:24:01,365 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 02:24:01,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 02:24:01,381 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 02:24:01,390 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 02:24:01,400 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 02:24:01,409 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 02:24:01,423 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 02:24:01,433 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 02:24:01,443 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 02:24:01,452 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 02:24:01,459 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 02:24:01,466 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 02:24:01,474 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 02:24:01,481 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 02:24:01,489 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 02:24:01,504 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 02:24:01,511 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 02:24:01,518 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 02:24:01,525 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 02:24:01,531 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 02:24:01,537 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 02:24:01,544 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 02:24:01,551 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 02:24:01,558 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 02:24:01,566 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 02:24:01,572 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 02:24:01,579 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 02:24:01,586 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 02:24:01,593 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 02:24:01,602 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 02:24:01,609 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 02:24:01,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 02:24:01,624 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 02:24:01,631 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 02:24:01,638 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 02:24:01,645 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 02:24:01,652 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 02:24:01,660 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 02:24:01,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 02:24:01,675 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 02:24:01,682 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 02:24:01,689 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 02:24:01,696 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 02:24:01,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 02:24:01,708 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 02:24:01,716 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 02:24:01,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 02:24:01,732 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 02:24:01,739 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 02:24:01,746 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 02:24:01,752 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 02:24:01,760 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 02:24:01,767 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 02:24:01,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 02:24:01,780 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 02:24:01,787 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 02:24:01,795 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 02:24:01,801 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 02:24:01,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 02:24:01,815 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 02:24:01,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 02:24:01,832 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 02:24:01,840 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 02:24:04,640 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:06,819 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:09,254 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:11,518 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:14,045 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:16,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:18,394 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:20,865 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:23,124 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:25,282 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:27,631 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:29,877 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:32,173 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:34,600 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:36,997 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:39,117 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:41,430 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:43,934 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:24:57,831 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:24:57,831 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:25:57,828 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:25:57,829 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:26:57,820 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:26:57,821 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:27:57,826 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:27:57,827 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:28:00,078 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:28:00,080 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:28:00,080 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:28:00,085 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:28:01,874 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:28:01,874 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:28:01,874 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:28:01,877 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:28:01,880 - INFO - app.main - Redis client connection closed.
2025-06-13 02:28:01,880 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:28:04,623 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:28:04,648 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:28:04,654 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:28:04,654 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:28:05,424 - INFO - app.main - Application startup event triggered.
2025-06-13 02:28:05,424 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:28:05,429 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:28:05,478 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:28:05,485 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:28:05,485 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:28:05,485 - INFO - app.main - Redis publisher background task started
2025-06-13 02:28:05,485 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:28:05,486 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:28:05,487 - INFO - app.main - Application startup event finished.
2025-06-13 02:28:05,487 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:28:05,487 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:28:06,622 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:29:02,169 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:29:02,170 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:29:02,170 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:29:02,171 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:29:02,171 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:29:04,269 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:29:04,269 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:29:04,269 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:29:04,271 - INFO - app.main - Redis client connection closed.
2025-06-13 02:29:04,271 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:29:05,991 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:29:06,006 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:29:06,012 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:29:06,012 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:29:06,536 - INFO - app.main - Application startup event triggered.
2025-06-13 02:29:06,536 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:29:06,539 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:29:06,585 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:29:06,591 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:29:06,591 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:29:06,591 - INFO - app.main - Redis publisher background task started
2025-06-13 02:29:06,591 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:29:06,591 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:29:06,592 - INFO - app.main - Application startup event finished.
2025-06-13 02:29:06,592 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:29:06,592 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:29:07,670 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:30:06,591 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:30:06,591 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:30:14,194 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:30:14,194 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:30:14,195 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:30:14,195 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:30:15,633 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:30:15,634 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:30:15,634 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:30:15,637 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:30:15,641 - INFO - app.main - Redis client connection closed.
2025-06-13 02:30:15,642 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:30:17,201 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:30:17,218 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:30:17,223 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:30:17,223 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:30:17,749 - INFO - app.main - Application startup event triggered.
2025-06-13 02:30:17,749 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:30:17,753 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:30:17,774 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:30:17,779 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:30:17,779 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:30:17,779 - INFO - app.main - Redis publisher background task started
2025-06-13 02:30:17,779 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:30:17,780 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:30:17,780 - INFO - app.main - Application startup event finished.
2025-06-13 02:30:17,780 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:30:17,781 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:30:18,822 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:31:17,784 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:31:17,785 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:31:30,236 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:31:30,236 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:31:30,236 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:31:30,237 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:31:31,931 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:31:31,931 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:31:31,931 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:31:31,933 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:31:31,934 - INFO - app.main - Redis client connection closed.
2025-06-13 02:31:31,934 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:31:33,629 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:31:33,647 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:31:33,654 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:31:33,654 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:31:34,234 - INFO - app.main - Application startup event triggered.
2025-06-13 02:31:34,234 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:31:34,239 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:31:34,295 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:31:34,302 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:31:34,302 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:31:34,303 - INFO - app.main - Redis publisher background task started
2025-06-13 02:31:34,303 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:31:34,303 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:31:34,304 - INFO - app.main - Application startup event finished.
2025-06-13 02:31:34,304 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:31:34,305 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:31:35,414 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:32:34,307 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:32:34,308 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:33:22,671 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 02:33:22,688 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 02:33:22,705 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 02:33:22,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 02:33:22,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 02:33:22,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 02:33:22,856 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 02:33:22,880 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 02:33:22,905 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 02:33:22,926 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 02:33:22,949 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 02:33:22,977 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 02:33:23,003 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 02:33:23,026 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 02:33:23,051 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 02:33:23,072 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 02:33:23,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 02:33:23,125 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 02:33:23,149 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 02:33:23,179 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 02:33:23,207 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 02:33:23,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 02:33:23,287 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 02:33:23,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 02:33:23,336 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 02:33:23,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 02:33:23,378 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 02:33:23,397 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 02:33:23,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 02:33:23,441 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 02:33:23,462 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 02:33:23,489 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 02:33:23,513 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 02:33:23,540 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 02:33:23,561 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 02:33:23,585 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 02:33:23,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 02:33:23,634 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 02:33:23,657 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 02:33:23,680 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 02:33:23,703 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 02:33:23,724 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 02:33:23,746 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 02:33:23,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 02:33:23,798 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 02:33:23,819 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 02:33:23,838 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 02:33:23,872 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 02:33:23,899 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 02:33:23,922 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 02:33:23,947 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 02:33:23,974 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 02:33:24,003 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 02:33:24,029 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 02:33:24,050 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 02:33:24,075 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 02:33:24,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 02:33:24,121 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 02:33:24,141 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 02:33:24,169 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 02:33:24,191 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 02:33:24,207 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 02:33:24,233 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 02:33:24,254 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 02:33:24,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 02:33:24,299 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 02:33:24,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 02:33:24,345 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 02:33:24,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 02:33:24,388 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 02:33:24,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 02:33:24,436 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 02:33:24,461 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 02:33:24,480 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 02:33:24,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 02:33:24,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 02:33:24,551 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 02:33:24,569 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 02:33:24,587 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 02:33:26,211 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:28,653 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:30,943 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:33,290 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:34,304 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:33:34,305 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:33:35,800 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:38,021 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:40,170 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:42,463 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:45,150 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:47,374 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:50,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:52,101 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:54,388 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:56,708 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:33:58,853 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:01,284 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:03,257 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:05,806 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:07,994 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:10,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:12,406 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:15,149 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:17,292 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:19,733 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:20,068 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:34:20,495 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:34:21,765 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:24,006 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:26,642 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:28,830 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:31,226 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:33,277 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:34,301 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:34:34,302 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:34:34,827 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:34:36,016 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:38,148 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:40,675 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:42,364 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:44,990 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:47,282 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:49,608 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:52,020 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:54,264 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:56,358 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:34:58,764 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:01,426 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:03,263 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:05,790 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:07,756 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:10,291 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:12,575 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:15,252 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:17,348 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:19,438 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:20,817 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:35:21,836 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:24,160 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:26,457 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:28,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:30,931 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:33,511 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:34,311 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:35:34,311 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:35:34,843 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:35:35,671 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:38,041 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:40,292 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:42,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:45,138 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:47,169 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:49,536 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:51,666 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:54,129 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:56,988 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:35:58,846 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:36:34,307 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:36:34,308 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:37:34,315 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:37:34,315 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:38:34,305 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:38:34,305 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:39:20,600 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:39:20,601 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:39:20,601 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:39:20,602 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:39:20,667 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:39:20,668 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:39:20,668 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:39:20,670 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:39:20,672 - INFO - app.main - Redis client connection closed.
2025-06-13 02:39:20,672 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:44:12,709 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:44:12,735 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:44:12,742 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:44:12,742 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:44:13,563 - INFO - app.main - Application startup event triggered.
2025-06-13 02:44:13,564 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:44:13,591 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:44:13,654 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:44:13,665 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:44:13,665 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:44:13,665 - INFO - app.main - Redis publisher background task started
2025-06-13 02:44:13,665 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:44:13,666 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:44:13,667 - INFO - app.main - Application startup event finished.
2025-06-13 02:44:13,667 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:44:13,667 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:44:14,794 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:44:23,480 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 02:44:23,504 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 02:44:23,525 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 02:44:23,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 02:44:23,587 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 02:44:23,617 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 02:44:23,643 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 02:44:23,666 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 02:44:23,692 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 02:44:23,713 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 02:44:23,740 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 02:44:23,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 02:44:23,793 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 02:44:23,820 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 02:44:23,843 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 02:44:23,873 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 02:44:23,901 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 02:44:23,930 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 02:44:23,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 02:44:23,981 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 02:44:24,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 02:44:24,019 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 02:44:24,038 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 02:44:24,059 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 02:44:24,079 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 02:44:24,099 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 02:44:24,118 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 02:44:24,135 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 02:44:24,155 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 02:44:24,175 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 02:44:24,196 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 02:44:24,205 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 02:44:24,214 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 02:44:24,240 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 02:44:24,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 02:44:24,293 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 02:44:24,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 02:44:24,331 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 02:44:24,350 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 02:44:24,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 02:44:24,390 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 02:44:24,417 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 02:44:24,475 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 02:44:24,502 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 02:44:24,518 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 02:44:24,536 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 02:44:24,554 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 02:44:24,572 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 02:44:24,588 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 02:44:24,612 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 02:44:24,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 02:44:24,661 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 02:44:24,679 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 02:44:24,696 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 02:44:24,711 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 02:44:24,728 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 02:44:24,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 02:44:24,768 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 02:44:24,785 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 02:44:24,800 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 02:44:24,814 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 02:44:24,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 02:44:24,848 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 02:44:24,862 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 02:44:24,880 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 02:44:24,892 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 02:44:24,902 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 02:44:24,915 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 02:44:24,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 02:44:24,959 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 02:44:24,984 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 02:44:25,011 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 02:44:25,034 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 02:44:25,050 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 02:44:25,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 02:44:25,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 02:44:25,101 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 02:44:25,117 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 02:44:25,128 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 02:44:27,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:44:29,764 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:44:32,212 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:44:34,481 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:44:36,529 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:44:38,998 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:44:41,917 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:45:03,625 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:45:03,625 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:45:03,625 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:45:03,626 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:45:05,893 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:45:05,894 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:45:05,894 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:45:05,896 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:45:05,897 - INFO - app.main - Redis client connection closed.
2025-06-13 02:45:05,897 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:49:38,363 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:49:38,393 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:49:38,399 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:49:38,399 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:49:39,289 - INFO - app.main - Application startup event triggered.
2025-06-13 02:49:39,289 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:49:39,297 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:49:39,382 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:49:39,402 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:49:39,402 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:49:39,403 - INFO - app.main - Redis publisher background task started
2025-06-13 02:49:39,403 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:49:39,407 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:49:39,409 - INFO - app.main - Application startup event finished.
2025-06-13 02:49:39,409 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:49:39,411 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:49:40,635 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:50:35,812 - INFO - app.main - Application shutdown event triggered.
2025-06-13 02:50:35,813 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 02:50:35,814 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 02:50:35,815 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 02:50:35,816 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 02:50:36,435 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 02:50:36,436 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 02:50:36,436 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 02:50:36,437 - INFO - app.main - Redis client connection closed.
2025-06-13 02:50:36,437 - INFO - app.main - Application shutdown event finished.
2025-06-13 02:50:38,413 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:50:38,427 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:50:38,434 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:50:38,434 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:50:39,011 - INFO - app.main - Application startup event triggered.
2025-06-13 02:50:39,011 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:50:39,015 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:50:39,067 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:50:39,077 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:50:39,078 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:50:39,078 - INFO - app.main - Redis publisher background task started
2025-06-13 02:50:39,078 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:50:39,080 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:50:39,081 - INFO - app.main - Application startup event finished.
2025-06-13 02:50:39,081 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:50:39,083 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:50:40,016 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:50:45,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 02:50:45,606 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 02:50:45,619 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 02:50:45,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 02:50:45,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 02:50:45,704 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 02:50:45,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 02:50:45,734 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 02:50:45,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 02:50:45,765 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 02:50:45,781 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 02:50:45,796 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 02:50:45,812 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 02:50:45,828 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 02:50:45,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 02:50:45,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 02:50:45,877 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 02:50:45,893 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 02:50:45,910 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 02:50:45,925 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 02:50:45,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 02:50:45,956 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 02:50:45,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 02:50:45,986 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 02:50:46,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 02:50:46,015 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 02:50:46,029 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 02:50:46,043 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 02:50:46,059 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 02:50:46,074 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 02:50:46,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 02:50:46,103 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 02:50:46,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 02:50:46,129 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 02:50:46,140 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 02:50:46,151 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 02:50:46,163 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 02:50:46,174 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 02:50:46,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 02:50:46,210 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 02:50:46,234 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 02:50:46,251 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 02:50:46,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 02:50:46,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 02:50:46,292 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 02:50:46,304 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 02:50:46,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 02:50:46,337 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 02:50:46,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 02:50:46,370 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 02:50:46,385 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 02:50:46,399 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 02:50:46,411 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 02:50:46,423 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 02:50:46,436 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 02:50:46,450 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 02:50:46,464 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 02:50:46,481 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 02:50:46,494 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 02:50:46,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 02:50:46,516 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 02:50:46,526 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 02:50:46,571 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 02:50:46,615 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 02:50:46,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 02:50:46,664 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 02:50:46,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 02:50:46,722 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 02:50:46,731 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 02:50:46,739 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 02:50:46,748 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 02:50:46,798 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 02:50:46,815 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 02:50:46,831 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 02:50:46,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 02:50:46,891 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 02:50:46,910 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 02:50:46,933 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 02:50:46,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 02:50:48,452 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:50:50,906 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:50:53,114 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:50:55,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:50:57,802 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:00,138 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:02,747 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:04,642 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:07,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:09,236 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:11,829 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:13,678 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:16,124 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:18,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:51:39,084 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:51:39,085 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:52:29,775 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:31,875 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:34,310 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:36,459 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:38,684 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:39,074 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:52:39,074 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:52:41,086 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:43,484 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:45,760 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:48,458 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:50,239 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:52,629 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:55,046 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:57,246 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:52:59,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:01,720 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:03,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:06,272 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:08,664 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:10,858 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:13,359 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:15,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:17,969 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:20,057 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:22,588 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:24,805 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:27,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:29,424 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:31,843 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:34,066 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:36,273 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:38,906 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:39,073 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:53:39,074 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:53:40,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:43,312 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:45,496 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:48,250 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:49,987 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:52,469 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:54,946 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:56,970 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:53:59,138 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:01,673 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:03,803 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:06,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:08,344 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:10,732 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:13,080 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:15,224 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:17,511 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:20,012 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:22,449 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:24,753 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:26,657 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:29,387 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:31,652 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:33,727 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:36,110 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:38,371 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:39,089 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:54:39,090 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:54:40,488 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:42,975 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:45,343 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:47,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:49,962 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:52,043 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:54,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:56,881 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:54:59,008 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:01,478 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:03,573 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:06,686 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:08,073 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:10,573 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:12,675 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:15,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:17,530 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:19,796 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:22,217 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:24,512 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:26,821 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:29,087 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:31,215 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:33,620 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:36,058 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:38,571 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:39,081 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:55:39,082 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:55:40,493 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:42,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:45,178 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:47,324 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:49,608 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:51,867 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:54,131 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:56,721 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:55:58,971 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:00,986 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:03,245 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:05,618 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:08,144 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:10,322 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:12,772 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:14,780 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:17,123 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:19,379 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:21,731 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:24,133 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:26,310 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:28,599 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:31,090 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:33,329 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:35,638 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:37,724 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:39,077 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:56:39,078 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:56:40,269 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:42,667 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:44,831 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:47,138 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:49,396 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:52,073 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:54,054 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:56,397 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:58,461 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 02:56:58,488 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 02:56:58,494 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 02:56:58,494 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 02:56:58,591 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:56:59,238 - INFO - app.main - Application startup event triggered.
2025-06-13 02:56:59,238 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 02:56:59,242 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 02:56:59,283 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 02:56:59,290 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 02:56:59,290 - INFO - app.main - Firebase events processor background task started
2025-06-13 02:56:59,290 - INFO - app.main - Redis publisher background task started
2025-06-13 02:56:59,290 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 02:56:59,290 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 02:56:59,291 - INFO - app.main - Application startup event finished.
2025-06-13 02:56:59,291 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:56:59,292 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 02:57:00,637 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 02:57:00,955 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:01,379 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:03,230 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:03,514 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:05,684 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:06,237 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:08,140 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:08,533 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:10,417 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:10,579 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:12,441 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:12,662 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:14,949 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:15,353 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:17,184 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:17,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:19,337 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:19,521 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:22,165 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:22,654 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:24,210 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:24,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:26,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:27,039 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:29,165 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:29,833 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:31,259 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:31,806 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:33,959 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:35,009 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:36,510 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:37,827 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:39,073 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:57:39,074 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:57:39,180 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:40,651 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:41,425 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:42,182 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:43,185 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:44,144 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:45,303 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:46,293 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:48,065 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:52,712 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:56,004 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:57:59,292 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:57:59,293 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:58:02,794 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:06,405 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:09,822 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:12,770 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:13,618 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 270, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:58:15,390 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:18,888 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:21,153 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:23,384 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:25,895 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:28,460 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:30,275 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:32,268 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:34,289 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:38,111 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 270, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:58:38,310 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:39,439 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:58:39,462 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 270, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 02:58:39,475 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:58:41,838 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:44,919 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:46,535 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:48,734 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:50,454 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:52,814 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:54,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:57,418 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:58:59,304 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:58:59,305 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:59:00,157 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:02,499 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:04,704 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:07,577 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:16,590 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:19,266 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:20,000 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:20,561 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:21,202 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:22,413 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:23,569 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:24,782 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:25,971 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:27,148 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:27,822 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:28,466 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:29,053 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:29,655 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:30,300 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:30,910 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:31,497 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:31,918 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:32,371 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:32,941 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:33,696 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:34,401 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:35,174 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:36,015 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:37,270 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:38,460 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 02:59:39,073 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:59:39,073 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 02:59:59,289 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 02:59:59,290 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:00:29,792 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:00:29,793 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:00:29,793 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:00:29,794 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:00:29,795 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:00:30,006 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:00:30,006 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:00:30,006 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:00:30,007 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:00:30,007 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:00:30,279 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:00:30,279 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:00:30,279 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:00:30,280 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:00:30,280 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:00:30,280 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:00:30,280 - INFO - app.main - Redis client connection closed.
2025-06-13 03:00:30,280 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:00:30,284 - INFO - app.main - Redis client connection closed.
2025-06-13 03:00:30,285 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:00:32,307 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:00:32,332 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:00:32,332 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:00:32,338 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:00:32,338 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:00:32,338 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:00:32,338 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:00:33,119 - INFO - app.main - Application startup event triggered.
2025-06-13 03:00:33,119 - INFO - app.main - Application startup event triggered.
2025-06-13 03:00:33,120 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:00:33,124 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:00:33,119 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:00:33,125 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:00:33,171 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:00:33,171 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:00:33,177 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:00:33,177 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:00:33,177 - INFO - app.main - Redis publisher background task started
2025-06-13 03:00:33,177 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:00:33,177 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:00:33,177 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:00:33,178 - INFO - app.main - Redis publisher background task started
2025-06-13 03:00:33,178 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:00:33,178 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:00:33,178 - INFO - app.main - Application startup event finished.
2025-06-13 03:00:33,178 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:00:33,179 - INFO - app.main - Application startup event finished.
2025-06-13 03:00:33,179 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:00:33,179 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:00:33,179 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:00:33,179 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:00:34,145 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:00:34,145 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:03,381 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:01:03,381 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:01:03,382 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:01:03,382 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:01:03,383 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:01:03,384 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:01:03,384 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:01:04,647 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:01:04,648 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:01:04,649 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:01:04,649 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:01:04,650 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:01:04,650 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:01:04,651 - INFO - app.main - Redis client connection closed.
2025-06-13 03:01:04,651 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:01:04,654 - INFO - app.main - Redis client connection closed.
2025-06-13 03:01:04,654 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:01:07,460 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:01:07,470 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:01:07,487 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:01:07,494 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:01:07,494 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:01:07,492 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:01:07,503 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:01:07,503 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:01:08,236 - INFO - app.main - Application startup event triggered.
2025-06-13 03:01:08,239 - INFO - app.main - Application startup event triggered.
2025-06-13 03:01:08,236 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:01:08,241 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:01:08,239 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:01:08,244 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:01:08,268 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:01:08,274 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:01:08,274 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:01:08,274 - INFO - app.main - Redis publisher background task started
2025-06-13 03:01:08,274 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:01:08,275 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:01:08,275 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:01:08,275 - INFO - app.main - Redis publisher background task started
2025-06-13 03:01:08,275 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:01:08,275 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:01:08,276 - INFO - app.main - Application startup event finished.
2025-06-13 03:01:08,276 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:01:08,276 - INFO - app.main - Application startup event finished.
2025-06-13 03:01:08,276 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:08,276 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:08,277 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:01:08,277 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:01:09,255 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:09,255 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:25,755 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:01:25,756 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:01:25,756 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:01:25,757 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:01:25,758 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:01:25,770 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:01:25,771 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:01:25,771 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:01:25,773 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:01:25,774 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:01:27,509 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:01:27,510 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:01:27,510 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:01:27,511 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:01:27,512 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:01:27,512 - INFO - app.main - Redis client connection closed.
2025-06-13 03:01:27,512 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:01:27,512 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:01:27,516 - INFO - app.main - Redis client connection closed.
2025-06-13 03:01:27,516 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:01:29,689 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:01:29,689 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:01:29,711 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:01:29,711 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:01:29,716 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:01:29,716 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:01:29,716 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:01:29,716 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:01:30,269 - INFO - app.main - Application startup event triggered.
2025-06-13 03:01:30,271 - INFO - app.main - Application startup event triggered.
2025-06-13 03:01:30,269 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:01:30,273 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:01:30,271 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:01:30,275 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:01:30,296 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:01:30,302 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:01:30,302 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:01:30,302 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:01:30,302 - INFO - app.main - Redis publisher background task started
2025-06-13 03:01:30,302 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:01:30,302 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:01:30,302 - INFO - app.main - Redis publisher background task started
2025-06-13 03:01:30,302 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:01:30,303 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:01:30,303 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:01:30,304 - INFO - app.main - Application startup event finished.
2025-06-13 03:01:30,304 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:30,304 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:30,304 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:01:31,282 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:01:31,295 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:02:30,301 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:02:30,302 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:02:30,303 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:02:30,304 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:03:30,310 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:03:30,311 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:03:30,312 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:03:30,311 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:03:35,327 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:03:35,328 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:03:35,328 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:03:35,329 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:03:35,330 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:03:35,406 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:03:35,407 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:03:35,407 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:03:35,408 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:03:35,409 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:03:36,301 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:03:36,301 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:03:36,301 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:03:36,302 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:03:36,303 - INFO - app.main - Redis client connection closed.
2025-06-13 03:03:36,303 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:03:36,304 - INFO - app.main - Redis client connection closed.
2025-06-13 03:03:36,304 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:03:38,295 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:03:38,310 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:03:38,310 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:03:38,315 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:03:38,315 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:03:38,315 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:03:38,315 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:03:40,086 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:03:40,106 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:03:40,106 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:03:40,111 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:03:40,111 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:03:40,111 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:03:40,111 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:05:32,529 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:05:32,529 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:05:32,551 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:05:32,552 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:05:32,557 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:05:32,557 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:05:32,557 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:05:32,557 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:05:33,117 - INFO - app.main - Application startup event triggered.
2025-06-13 03:05:33,118 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:05:33,123 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
E_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:05:33,123 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:05:33,153 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:05:33,153 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:05:33,160 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:05:33,160 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:05:33,160 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:05:33,160 - INFO - app.main - Redis publisher background task started
 started
2025-06-13 03:05:33,160 - INFO - app.main - Redis publisher background task started
task started
2025-06-13 03:05:33,160 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:05:33,161 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:05:33,162 - INFO - app.main - Application startup event finished.
: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:05:33,162 - INFO - app.main - Application startup event finished.
2025-06-13 03:05:33,162 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:05:33,162 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:05:33,162 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:05:33,162 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:05:34,162 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:06:33,171 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:06:33,172 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:06:33,171 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:06:33,172 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:07:33,161 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:07:33,161 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:07:47,736 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 270, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 03:08:33,166 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:08:33,166 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:08:33,167 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:08:50,734 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:08:50,735 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:08:50,735 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:08:50,736 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:08:50,737 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:08:50,797 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:08:50,798 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:08:50,798 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:08:50,799 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:08:50,800 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:08:52,277 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:08:52,278 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:08:52,279 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:08:52,279 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:08:52,279 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:08:52,279 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:08:52,281 - INFO - app.main - Redis client connection closed.
2025-06-13 03:08:52,281 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:08:52,283 - INFO - app.main - Redis client connection closed.
2025-06-13 03:08:52,283 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:08:54,323 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:08:54,331 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:08:54,338 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:08:54,342 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:08:54,343 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:08:54,345 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:08:54,351 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:08:54,351 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:08:55,096 - INFO - app.main - Application startup event triggered.
2025-06-13 03:08:55,096 - INFO - app.main - Application startup event triggered.
2025-06-13 03:08:55,096 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:08:55,100 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:08:55,097 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:08:55,100 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:08:55,117 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:08:55,123 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:08:55,123 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:08:55,123 - INFO - app.main - Redis publisher background task started
2025-06-13 03:08:55,123 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:08:55,123 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:08:55,123 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:08:55,123 - INFO - app.main - Redis publisher background task started
2025-06-13 03:08:55,123 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:08:55,124 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:08:55,123 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:08:55,124 - INFO - app.main - Application startup event finished.
2025-06-13 03:08:55,124 - INFO - app.main - Application startup event finished.
2025-06-13 03:08:55,124 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:08:55,125 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:08:55,125 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:08:56,089 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:08:56,203 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:09:48,715 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:09:48,740 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:09:48,745 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:09:48,745 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:09:49,465 - INFO - app.main - Application startup event triggered.
2025-06-13 03:09:49,465 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:09:49,471 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:09:49,505 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:09:49,518 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:09:49,518 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:09:49,518 - INFO - app.main - Redis publisher background task started
2025-06-13 03:09:49,518 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:09:49,519 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:09:49,519 - INFO - app.main - Application startup event finished.
2025-06-13 03:09:49,520 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:09:49,520 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:09:50,462 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:10:49,528 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:10:49,529 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:11:49,526 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:11:49,527 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:12:49,516 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:12:49,517 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:13:49,522 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:13:49,523 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:14:49,538 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:14:49,539 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:15:09,531 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:15:09,532 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:15:09,532 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:15:09,533 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:15:09,862 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:15:09,862 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:15:09,862 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:15:09,862 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:15:09,863 - INFO - app.main - Redis client connection closed.
2025-06-13 03:15:09,863 - INFO - app.main - Application shutdown event finished.
2025-06-13 03:15:11,621 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-06-13 03:15:11,639 - INFO - app.core.config - .env file loaded successfully.
2025-06-13 03:15:11,645 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-13 03:15:11,645 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-13 03:15:12,241 - INFO - app.main - Application startup event triggered.
2025-06-13 03:15:12,241 - ERROR - app.main - Error initializing Firebase Admin SDK: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 396, in startup_event
    cred_path = os.path.join(os.path.dirname(__file__), '..', settings.FIREBASE_CREDENTIALS_FILE)
                                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'FIREBASE_CREDENTIALS_FILE'
2025-06-13 03:15:12,245 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-13 03:15:12,272 - INFO - app.main - Redis connection pool initialized successfully
2025-06-13 03:15:12,279 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-13 03:15:12,279 - INFO - app.main - Firebase events processor background task started
2025-06-13 03:15:12,279 - INFO - app.main - Redis publisher background task started
2025-06-13 03:15:12,279 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-13 03:15:12,281 - ERROR - app.main - Error creating service account token: object str can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 491, in startup_event
    await create_service_account_token(service_name="python_bridge")
TypeError: object str can't be used in 'await' expression
2025-06-13 03:15:12,282 - INFO - app.main - Application startup event finished.
2025-06-13 03:15:12,283 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:15:12,284 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-13 03:15:13,173 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-13 03:16:12,280 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:16:12,280 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:16:33,325 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 318, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-13 03:17:12,199 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-13 03:17:12,214 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-13 03:17:12,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-13 03:17:12,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-13 03:17:12,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-13 03:17:12,280 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:17:12,284 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:17:12,292 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-13 03:17:12,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-13 03:17:12,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-13 03:17:12,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-13 03:17:12,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-13 03:17:12,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-13 03:17:12,403 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-13 03:17:12,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-13 03:17:12,432 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-13 03:17:12,449 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-13 03:17:12,462 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-13 03:17:12,476 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-13 03:17:12,490 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-13 03:17:12,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-13 03:17:12,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-13 03:17:12,542 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-13 03:17:12,557 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-13 03:17:12,573 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-13 03:17:12,588 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-13 03:17:12,603 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-13 03:17:12,613 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-13 03:17:12,628 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-13 03:17:12,643 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-13 03:17:12,657 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-13 03:17:12,674 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-13 03:17:12,687 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-13 03:17:12,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-13 03:17:12,717 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-13 03:17:12,735 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-13 03:17:12,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-13 03:17:12,763 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-13 03:17:12,779 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-13 03:17:12,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-13 03:17:12,809 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-13 03:17:12,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-13 03:17:12,838 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-13 03:17:12,860 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-13 03:17:12,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-13 03:17:12,889 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-13 03:17:12,903 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-13 03:17:12,917 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-13 03:17:12,927 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-13 03:17:12,945 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-13 03:17:12,991 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-13 03:17:13,039 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-13 03:17:13,100 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-13 03:17:13,155 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-13 03:17:13,212 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-13 03:17:13,298 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-13 03:17:13,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-13 03:17:13,395 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-13 03:17:13,425 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-13 03:17:13,435 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-13 03:17:13,447 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-13 03:17:13,459 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-13 03:17:13,504 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-13 03:17:13,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-13 03:17:13,561 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-13 03:17:13,577 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-13 03:17:13,591 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-13 03:17:13,608 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-13 03:17:13,623 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-13 03:17:13,634 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-13 03:17:13,650 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-13 03:17:13,668 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-13 03:17:13,686 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-13 03:17:13,699 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-13 03:17:13,713 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-13 03:17:13,724 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-13 03:17:13,768 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-13 03:17:13,780 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-13 03:17:13,787 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-13 03:17:13,801 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-13 03:17:13,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-13 03:17:16,289 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:18,777 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:20,920 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:23,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:25,632 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:27,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:30,074 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:32,453 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:34,719 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:37,019 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:39,368 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:41,699 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:43,769 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:46,299 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:48,429 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:50,951 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:53,072 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:55,380 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:57,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:17:59,984 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:02,323 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:04,549 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:06,795 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:09,064 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:11,503 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:12,278 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:18:12,279 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:18:13,889 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:16,285 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:18,401 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:20,656 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:22,987 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:25,369 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:27,886 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:30,097 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:32,246 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:34,555 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:36,694 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:39,006 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:41,234 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:43,670 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:46,061 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:48,369 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:50,606 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:53,059 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:55,443 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:57,693 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:18:59,968 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:02,442 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:04,605 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:06,916 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:09,175 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:11,405 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:12,289 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:19:12,290 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:19:13,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:15,899 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:18,318 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:20,540 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:22,840 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:25,211 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:27,491 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:29,898 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:32,313 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:34,500 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:36,715 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:39,003 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:41,274 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:43,580 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:45,856 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:48,245 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:50,557 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:52,710 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:55,142 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:57,594 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:19:59,585 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:01,903 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:04,290 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:06,574 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:08,863 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:11,089 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:12,293 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-13 03:20:12,294 - ERROR - app.main - Error in update_all_users_dynamic_portfolio job: module 'app.crud.user' has no attribute 'get_all_active_users'
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\main.py", line 179, in update_all_users_dynamic_portfolio
    live_users = await crud_user.get_all_active_users(db)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.crud.user' has no attribute 'get_all_active_users'. Did you mean: 'get_all_demo_users'?
2025-06-13 03:20:13,328 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:15,689 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:17,961 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:20,268 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:22,736 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:25,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:27,520 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:29,547 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:31,920 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:34,068 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:36,482 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:39,398 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:41,408 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:43,687 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:45,866 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:48,132 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:50,894 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:52,506 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:54,826 - ERROR - app.services.portfolio_calculator - Error calculating portfolio: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\services\portfolio_calculator.py", line 168, in calculate_user_portfolio
    raw_market_data = await get_latest_market_data()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-06-13 03:20:54,993 - INFO - app.main - Application shutdown event triggered.
2025-06-13 03:20:54,993 - INFO - app.main - APScheduler shut down gracefully.
2025-06-13 03:20:54,993 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-13 03:20:54,994 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-13 03:20:56,936 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-13 03:20:56,936 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-13 03:20:56,937 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-13 03:20:56,937 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-13 03:20:56,938 - INFO - app.main - Redis client connection closed.
2025-06-13 03:20:56,938 - INFO - app.main - Application shutdown event finished.
